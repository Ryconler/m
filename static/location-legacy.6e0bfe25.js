!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,u,"next",e)}function u(e){r(i,o,a,c,u,"throw",e)}c(void 0)}))}}System.register(["./vendor-legacy.b50a78d2.js"],(function(e){"use strict";var n;return{setters:[function(e){n=e.G}],execute:function(){e({a:function(){var e=n(),t=((null==e?void 0:e.type)||{}).name;return(void 0===t?"unknown":t)+"-"+ ++a},b:r,g:function(){return d.apply(this,arguments)},u:function(){var e=n().proxy;return function(){return r(e)}}});e("r",{to:[String,Object],url:String,replace:Boolean});function r(e){var t=e.to,n=e.url,r=e.replace,o=e.$router;t&&o?o[r?"replace":"push"](t):n&&(r?location.replace(n):location.href=n)}var a=0;var i=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?c:u)(o,n),o.onload||c(o,n),r.appendChild(o)};function c(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function u(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}var l=function(e){var t={};function n(){try{var t="__some_random_key_you_are_not_going_to_use__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return!1}}return{getItem:function(r){return n()?JSON.parse(e.getItem(r)):t.hasOwnProperty(r)?t[r]:null},setItem:function(r,o){n()?e.setItem(r,JSON.stringify(o)):t[r]=String(o)},removeItem:function(r){n()?e.removeItem(r):delete t[r]},clear:function(){n()?e.clear():t={}},key:function(r){return n()?e.key(r):Object.keys(t)[r]||null}}}(localStorage);function s(){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return new Promise((function(e,t){window.AMap&&window.AMap.Map?e(window.AMap):i("//webapi.amap.com/maps?v=1.4.15&key=c740e64858e21be917b7a68d264f60bd&callback=onAMapLoaded",(function(n){n?t(null):window.onAMapLoaded=function(){e(window.AMap)}}))}))},e.next=3,t();case 3:return n=e.sent,e.abrupt("return",new Promise((function(e,t){try{if(n)new n.Map("iCenter").plugin("AMap.Geolocation",(function(){var r=new n.Geolocation({enableHighAccuracy:!0,timeout:5e3,buttonOffset:new n.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});r.getCurrentPosition(),n.event.addListener(r,"complete",(function(t){var n,r,o,a;console.log(t);var i=null==t||null===(n=t.addressComponent)||void 0===n?void 0:n.adcode,c=i?"".concat(i.slice(0,4),"00"):"",u=null==t||null===(r=t.addressComponent)||void 0===r?void 0:r.city,l=u?u.replace("å¸‚",""):"",s=null==t||null===(o=t.position)||void 0===o?void 0:o.lat,f=null==t||null===(a=t.position)||void 0===a?void 0:a.lng;e(c?{cityId:c,cityName:l,lat:s,lng:f}:null)})),n.event.addListener(r,"error",(function(e){console.log(e),t(null)}))}));else e(null)}catch(r){console.log(r),t(null)}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p="location";function d(){return d=o(regeneratorRuntime.mark((function e(){var n,r,o,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:30,e.prev=1,r=l.getItem(p),o=Date.now(),!r){e.next=14;break}if(!(o-r.time<60*n*1e3)){e.next=9;break}a=r,e.next=12;break;case 9:return e.next=11,s();case 11:a=e.sent;case 12:e.next=17;break;case 14:return e.next=16,s();case 16:a=e.sent;case 17:return a&&l.setItem(p,t(t({},a),{},{time:Date.now()})),e.abrupt("return",a);case 21:return e.prev=21,e.t0=e.catch(1),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[1,21]])}))),d.apply(this,arguments)}}}}))}();
//# sourceMappingURL=location-legacy.6e0bfe25.js.map
