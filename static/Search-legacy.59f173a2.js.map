{"version":3,"file":"Search-legacy.59f173a2.js","sources":["../../src/views/search/Search.vue"],"sourcesContent":["<template>\n  <div class=\"search\">\n    <SearchBar is-searching></SearchBar>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { getSelectCity, setSelectCity } from '@/utils'\nimport { onMounted, Ref, ref } from 'vue'\nimport { useLocation } from '@/composables/common'\nimport { DefaultCity } from '@/constant/city'\nimport { CityType } from '@/types/city'\n\nconst selectCity: Ref<CityType> = ref(DefaultCity)\nonMounted(async () => {\n  const cookieCity = getSelectCity()\n  if (cookieCity) {\n    selectCity.value = cookieCity\n  } else {\n    const { position } = await useLocation()\n    if (position.value != null) {\n      selectCity.value = {\n        cityId: position.value.cityId,\n        cityName: position.value.cityName\n      }\n    } else {\n      selectCity.value = DefaultCity\n    }\n    setSelectCity(selectCity.value.cityId, selectCity.value.cityName)\n  }\n})\n</script>\n"],"names":["selectCity","ref","DefaultCity","cookieCity","getSelectCity","value","_context","useLocation","position","cityId","cityName"],"mappings":"kzBAaMA,EAA4BC,EAAIC,uCAC5B,4GACFC,EAAaC,uBAENC,MAAQF,EAHbG,uCAKqBC,oBACL,OADdC,IAAAA,UACKH,QACAA,MAAQ,CACjBI,OAAQD,EAASH,MAAMI,OACvBC,SAAUF,EAASH,MAAMK,YAGhBL,MAAQH,IAEPF,EAAWK,MAAMI,OAAQT,EAAWK,MAAMK,UAdlD"}