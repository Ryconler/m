!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,t,a=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!o||a.length!==o);r=!0);}catch(s){c=!0,t=s}finally{try{r||null==n.return||n.return()}finally{if(c)throw t}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,i=new Array(o);n<o;n++)i[n]=e[n];return i}var n=document.createElement("style");n.innerHTML=":root{--van-image-preview-index-text-color: var(--van-white);--van-image-preview-index-font-size: var(--van-font-size-md);--van-image-preview-index-line-height: var(--van-line-height-md);--van-image-preview-index-text-shadow: 0 1px 1px var(--van-gray-8);--van-image-preview-overlay-background-color: rgba(0, 0, 0, .9);--van-image-preview-close-icon-size: 22px;--van-image-preview-close-icon-color: var(--van-gray-5);--van-image-preview-close-icon-margin: var(--van-padding-md);--van-image-preview-close-icon-z-index: 1}.van-image-preview{position:fixed;top:0;left:0;width:100%;height:100%;background-color:transparent;-webkit-transform:none;transform:none}.van-image-preview__swipe{height:100%}.van-image-preview__swipe-item{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden}.van-image-preview__cover{position:absolute;top:0;left:0}.van-image-preview__image{width:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-image-preview__image--vertical{width:auto;height:100%}.van-image-preview__image img{-webkit-user-drag:none}.van-image-preview__image .van-image__error{top:30%;height:40%}.van-image-preview__image .van-image__error-icon{font-size:36px}.van-image-preview__image .van-image__loading{background-color:transparent}.van-image-preview__index{position:absolute;top:var(--van-padding-md);left:50%;color:var(--van-image-preview-index-text-color);font-size:var(--van-image-preview-index-font-size);line-height:var(--van-image-preview-index-line-height);text-shadow:var(--van-image-preview-index-text-shadow);-webkit-transform:translate(-50%);transform:translate(-50%)}.van-image-preview__overlay{background:var(--van-image-preview-overlay-background-color)}.van-image-preview__close-icon{position:absolute;z-index:var(--van-image-preview-close-icon-z-index);color:var(--van-image-preview-close-icon-color);font-size:var(--van-image-preview-close-icon-size)}.van-image-preview__close-icon--top-left{top:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--top-right{top:var(--van-image-preview-close-icon-margin);right:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-left{bottom:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-right{right:var(--van-image-preview-close-icon-margin);bottom:var(--van-image-preview-close-icon-margin)}\n",document.head.appendChild(n),System.register(["./index-legacy.3c858737.js"],(function(o){"use strict";var n,i,t,a,r,c,s,l,v,m,u,g,p,f,d,h,w,x,y,b,_,z,k,C,I,Z,S,X,Y,H,P,T,W,A,j,M,R,D;return{setters:[function(e){n=e.c,i=e.d,t=e.an,a=e.n,r=e.x,c=e.u,s=e.e,l=e.w,v=e.h,m=e.aG,u=e.ab,g=e.p,p=e.aH,f=e.Z,d=e.r,h=e.g,w=e.o,x=e.ar,y=e.aI,b=e.j,_=e.ac,z=e.ax,k=e.ay,C=e.aJ,I=e.t,Z=e.aK,S=e.ao,X=e.aD,Y=e.V,H=e.q,P=e.aA,T=e.aL,W=e.Y,A=e.aM,j=e.z,M=e.C,R=e.aN,D=e.aO}],execute:function(){var N,O=function(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))},B=n("image-preview")[1],L=i({props:{src:String,show:Boolean,active:Number,minZoom:t(a),maxZoom:t(a),rootWidth:t(Number),rootHeight:t(Number)},emits:["scale","close"],setup:function(e,o){var n,i,t,a,d,h,w,x=o.emit,y=r({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),b=c(),_=s((function(){var o=e.rootWidth,n=e.rootHeight/o;return y.imageRatio>n})),z=s((function(){var e=y.scale,o=y.moveX,n=y.moveY,i=y.moving,t={transitionDuration:y.zooming||i?"0s":".3s"};if(1!==e){var a=o/e,r=n/e;t.transform="scale(".concat(e,", ").concat(e,") translate(").concat(a,"px, ").concat(r,"px)")}return t})),k=s((function(){if(y.imageRatio){var o=e.rootWidth,n=e.rootHeight,i=_.value?n/y.imageRatio:o;return Math.max(0,(y.scale*i-o)/2)}return 0})),C=s((function(){if(y.imageRatio){var o=e.rootWidth,n=e.rootHeight,i=_.value?n:o*y.imageRatio;return Math.max(0,(y.scale*i-n)/2)}return 0})),I=function(o){(o=p(o,+e.minZoom,+e.maxZoom+1))!==y.scale&&(y.scale=o,x("scale",{scale:o,index:e.active}))},Z=function(){I(1),y.moveX=0,y.moveY=0},S=function(e){var o=e.touches,r=b.offsetX;b.start(e),n=o.length,i=y.moveX,t=y.moveY,w=Date.now(),y.moving=1===n&&1!==y.scale,y.zooming=2===n&&!r.value,y.zooming&&(a=y.scale,d=O(e.touches))},X=function(e){var o=e.touches;if(b.move(e),(y.moving||y.zooming)&&g(e,!0),y.moving){var n=b.deltaX,r=b.deltaY,c=n.value+i,s=r.value+t;y.moveX=p(c,-k.value,k.value),y.moveY=p(s,-C.value,C.value)}if(y.zooming&&2===o.length){var l=O(o);I(a*l/d)}},Y=function(){if(!(n>1)){var e,o=b.offsetX,i=b.offsetY,t=Date.now()-w;o.value<5&&i.value<5&&t<250&&(h?(clearTimeout(h),h=null,e=y.scale>1?1:2,I(e),y.moveX=0,y.moveY=0):h=setTimeout((function(){x("close"),h=null}),250))}},H=function(o){var n=!1;(y.moving||y.zooming)&&(n=!0,y.moving&&i===y.moveX&&t===y.moveY&&(n=!1),o.touches.length||(y.zooming&&(y.moveX=p(y.moveX,-k.value,k.value),y.moveY=p(y.moveY,-C.value,C.value),y.zooming=!1),y.moving=!1,i=0,t=0,a=1,y.scale<1&&Z(),y.scale>e.maxZoom&&(y.scale=+e.maxZoom))),g(o,n),Y(),b.reset()},P=function(e){var o=e.target,n=o.naturalWidth,i=o.naturalHeight;y.imageRatio=i/n};return l((function(){return e.active}),Z),l((function(){return e.show}),(function(e){e||Z()})),function(){var o={loading:function(){return v(f,{type:"spinner"},null)}};return v(u,{class:B("swipe-item"),onTouchstart:S,onTouchmove:X,onTouchend:H,onTouchcancel:H},{default:function(){return[v(m,{src:e.src,fit:"contain",class:B("image",{vertical:_.value}),style:z.value,onLoad:P},o)]}})}}}),U=e(n("image-preview"),2),q=U[0],E=U[1],$=["show","transition","overlayStyle","closeOnPopstate"],F={show:Boolean,loop:I,images:Z(),minZoom:S(1/3),maxZoom:S(3),overlay:I,closeable:Boolean,showIndex:I,className:X,closeIcon:Y("clear"),transition:String,beforeClose:Function,overlayClass:X,overlayStyle:Object,swipeDuration:S(300),startPosition:S(0),showIndicators:Boolean,closeOnPopstate:I,closeIconPosition:Y("top-right")},G=i({name:q,props:F,emits:["scale","close","closed","change","update:show"],setup:function(e,o){var n=o.emit,i=o.slots,t=d(),a=r({active:0,rootWidth:0,rootHeight:0}),c=function(){if(t.value){var e=H(t.value.$el);a.rootWidth=e.width,a.rootHeight=e.height,t.value.resize()}},s=function(e){return n("scale",e)},m=function(e){return n("update:show",e)},u=function(){P(e.beforeClose,{args:[a.active],done:function(){return m(!1)}})},g=function(e){e!==a.active&&(a.active=e,n("change",e))},p=function(){if(e.showIndex)return v("div",{class:E("index")},[i.index?i.index({index:a.active}):"".concat(a.active+1," / ").concat(e.images.length)])},f=function(){if(i.cover)return v("div",{class:E("cover")},[i.cover()])},I=function(){if(e.closeable)return v(W,{role:"button",name:e.closeIcon,class:[E("close-icon",e.closeIconPosition),T],onClick:u},null)},Z=function(){return n("closed")},S=function(e,o){var n;return null==(n=t.value)?void 0:n.swipeTo(e,o)};return h({swipeTo:S}),w(c),l([x,y],c),l((function(){return e.startPosition}),(function(e){return g(+e)})),l((function(){return e.show}),(function(o){var i=e.images,t=e.startPosition;o?(g(+t),b((function(){c(),S(+t,{immediate:!0})}))):n("close",{index:a.active,url:i[a.active]})})),function(){return v(C,z({class:[E(),e.className],overlayClass:[E("overlay"),e.overlayClass],onClosed:Z,"onUpdate:show":m},k(e,$)),{default:function(){return[I(),v(_,{ref:t,lazyRender:!0,loop:e.loop,class:E("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:g},{default:function(){return[e.images.map((function(o){return v(L,{src:o,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,onScale:s,onClose:u},null)}))]}}),p(),f()]}})}}}),J={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function K(){var e=R({setup:function(){var e=D(),o=e.state,n=e.toggle,i=function(){o.images=[]};return function(){return v(G,z(o,{onClosed:i,"onUpdate:show":n}),null)}}});N=e.instance}var V=o("I",(function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(A)return N||K(),e=Array.isArray(e)?{images:e,startPosition:o}:e,N.open(j({},J,e)),N}));V.Component=M(G),V.install=function(e){e.use(V.Component)}}}}))}();
//# sourceMappingURL=index-legacy.251e9ab9.js.map
