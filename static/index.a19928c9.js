import{r as B,aj as ye,ak as U,l as we,al as Ce,c as D,d as M,n as R,t as E,e as S,h,i as V,am as Se,an as j,w as I,o as Te,ac as ke,V as xe,ao as L,ap as ne,a as Ie,b as Be,x as Re,aq as $e,ar as _e,j as $,g as ae,as as Ae,at as Pe,au as ze,f as Ne,av as Le,aw as Oe,ax as Ee,ay as De,k as Me,az as J,aA as We,aB as He,s as Ze,aC as Q,q as p,ae as je,z as Fe,U as Ue,aD as Ve,y as qe,ai as Ke,ab as Xe,aE as Ye,aF as Ge,C as le}from"./index.8eff2da7.js";function Je(){const e=B([]),l=[];return ye(()=>{e.value=[]}),[e,c=>(l[c]||(l[c]=a=>{e.value[c]=a}),l[c])]}function Qe(e,l,i){let c=0;const a=e.scrollLeft,f=i===0?1:Math.round(i*1e3/16);function d(){e.scrollLeft+=(l-a)/f,++c<f&&U(d)}d()}function pe(e,l,i,c){let a=we(e);const f=a<l,d=i===0?1:Math.round(i*1e3/16),v=(l-a)/d;function r(){a+=v,(f&&a>l||!f&&a<l)&&(a=l),Ce(e,a),f&&a<l||!f&&a>l?U(r):c&&U(c)}r()}const[et,ee]=D("tab");var tt=M({name:et,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:R,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:E},setup(e,{slots:l}){const i=S(()=>{const a={},{type:f,color:d,disabled:v,isActive:r,activeColor:g,inactiveColor:y}=e;d&&f==="card"&&(a.borderColor=d,v||(r?a.backgroundColor=d:a.color=d));const k=r?g:y;return k&&(a.color=k),a}),c=()=>{const a=h("span",{class:ee("text",{ellipsis:!e.scrollable})},[l.title?l.title():e.title]);return e.dot||V(e.badge)&&e.badge!==""?h(Se,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>h("div",{id:e.id,role:"tab",class:[ee([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[c()])}});const[nt,te]=D("tabs");var at=M({name:nt,props:{count:j(Number),inited:Boolean,animated:Boolean,duration:j(R),swipeable:Boolean,lazyRender:Boolean,currentIndex:j(Number)},emits:["change"],setup(e,{emit:l,slots:i}){const c=B(),a=v=>l("change",v),f=()=>{var v;const r=(v=i.default)==null?void 0:v.call(i);return e.animated||e.swipeable?h(ke,{ref:c,loop:!1,class:te("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[r]}):r},d=v=>{const r=c.value;r&&r.state.active!==v&&r.swipeTo(v,{immediate:!e.inited})};return I(()=>e.currentIndex,d),Te(()=>{d(e.currentIndex)}),()=>h("div",{class:te("content",{animated:e.animated||e.swipeable})},[f()])}});const[ie,O]=D("tabs"),lt={type:xe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:L(0),duration:L(.3),animated:Boolean,ellipsis:E,swipeable:Boolean,scrollspy:Boolean,offsetTop:L(0),background:String,lazyRender:E,lineWidth:R,lineHeight:R,beforeChange:Function,swipeThreshold:L(5),titleActiveColor:String,titleInactiveColor:String},oe=Symbol(ie);var it=M({name:ie,props:lt,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:l,slots:i}){let c,a,f;const d=B(),v=B(),r=B(),g=ne(),y=Ie(d),[T,k]=Je(),{children:u,linkChildren:W}=Be(oe),s=Re({inited:!1,position:"",lineStyle:{},currentIndex:-1}),_=S(()=>u.length>e.swipeThreshold||!e.ellipsis||e.shrink),H=S(()=>({borderColor:e.color,background:e.background})),w=(t,n)=>{var o;return(o=t.name)!=null?o:n},q=S(()=>{const t=u[s.currentIndex];if(t)return w(t,s.currentIndex)}),Z=S(()=>$e(e.offsetTop)),K=S(()=>e.sticky?Z.value+c:0),A=t=>{const n=v.value,o=T.value;if(!_.value||!n||!o||!o[s.currentIndex])return;const b=o[s.currentIndex].$el,m=b.offsetLeft-(n.offsetWidth-b.offsetWidth)/2;Qe(n,m,t?0:+e.duration)},C=()=>{const t=s.inited;$(()=>{const n=T.value;if(!n||!n[s.currentIndex]||e.type!=="line"||Me(d.value))return;const o=n[s.currentIndex].$el,{lineWidth:b,lineHeight:m}=e,x=o.offsetLeft+o.offsetWidth/2,N={width:J(b),backgroundColor:e.color,transform:`translateX(${x}px) translateX(-50%)`};if(t&&(N.transitionDuration=`${e.duration}s`),V(m)){const G=J(m);N.height=G,N.borderRadius=G}s.lineStyle=N})},se=t=>{const n=t<s.currentIndex?-1:1;for(;t>=0&&t<u.length;){if(!u[t].disabled)return t;t+=n}},P=t=>{const n=se(t);if(!V(n))return;const o=u[n],b=w(o,n),m=s.currentIndex!==null;s.currentIndex=n,b!==e.active&&(l("update:active",b),m&&l("change",b,o.title))},z=t=>{const n=u.find((b,m)=>w(b,m)===t),o=n?u.indexOf(n):0;P(o)},X=(t=!1)=>{if(e.scrollspy){const n=u[s.currentIndex].$el;if(n&&y.value){const o=Q(n,y.value)-K.value;a=!0,pe(y.value,o,t?0:+e.duration,()=>{a=!1})}}},ce=(t,n,o)=>{const{title:b,disabled:m}=u[n],x=w(u[n],n);m?l("disabled",x,b):(We(e.beforeChange,{args:[x],done:()=>{P(n),X()}}),l("click",x,b),He(t)),l("click-tab",{name:x,title:b,event:o,disabled:m})},de=t=>{f=t.isFixed,l("scroll",t)},ue=t=>{$(()=>{z(t),X(!0)})},fe=()=>{for(let t=0;t<u.length;t++){const{top:n}=p(u[t].$el);if(n>K.value)return t===0?0:t-1}return u.length-1},ve=()=>{if(e.scrollspy&&!a){const t=fe();P(t)}},be=()=>u.map((t,n)=>h(tt,Ee({key:t.id,id:`${g}-${n}`,ref:k(n),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,shrink:e.shrink,isActive:n===s.currentIndex,controls:t.id,scrollable:_.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:o=>ce(t,n,o)},De(t,["dot","badge","title","disabled","showZeroBadge"])),{title:t.$slots.title})),he=()=>{if(e.type==="line"&&u.length)return h("div",{class:O("line"),style:s.lineStyle},null)},Y=()=>{var t,n;const{type:o,border:b}=e;return h("div",{ref:r,class:[O("wrap"),{[Oe]:o==="line"&&b}]},[h("div",{ref:v,role:"tablist",class:O("nav",[o,{shrink:e.shrink,complete:_.value}]),style:H.value,"aria-orientation":"horizontal"},[(t=i["nav-left"])==null?void 0:t.call(i),be(),he(),(n=i["nav-right"])==null?void 0:n.call(i)])])};I([()=>e.color,_e],C),I(()=>e.active,t=>{t!==q.value&&z(t)}),I(()=>u.length,()=>{s.inited&&(z(e.active),C(),$(()=>{A(!0)}))}),I(()=>s.currentIndex,()=>{A(),C(),f&&!e.scrollspy&&Ze(Math.ceil(Q(d.value)-Z.value))});const ge=()=>{z(e.active),$(()=>{s.inited=!0,r.value&&(c=p(r.value).height),A(!0)})},me=(t,n)=>l("rendered",t,n);return ae({resize:C,scrollTo:ue}),Ae(C),Pe(C),ze(ge),Ne("scroll",ve,{target:y}),W({id:g,props:e,setLine:C,onRendered:me,currentName:q,scrollIntoView:A}),()=>{var t;return h("div",{ref:d,class:O([e.type])},[e.sticky?h(Le,{container:d.value,offsetTop:Z.value,onScroll:de},{default:()=>{var n;return[Y(),(n=i["nav-bottom"])==null?void 0:n.call(i)]}}):[Y(),(t=i["nav-bottom"])==null?void 0:t.call(i)],h(at,{count:u.length,inited:s.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:s.currentIndex,onChange:P},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})])}}});const re=Symbol(),dt=()=>je(re,null),[ot,F]=D("tab"),rt=Fe({},Ue,{dot:Boolean,name:R,badge:R,title:String,disabled:Boolean,titleClass:Ve,titleStyle:[String,Object],showZeroBadge:E});var st=M({name:ot,props:rt,setup(e,{slots:l}){const i=ne(),c=B(!1),{parent:a,index:f}=qe(oe);if(!a)return;const d=()=>{var g;return(g=e.name)!=null?g:f.value},v=()=>{c.value=!0,a.props.lazyRender&&$(()=>{a.onRendered(d(),e.title)})},r=S(()=>{const g=d()===a.currentName.value;return g&&!c.value&&v(),g});return I(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),Ke(re,r),()=>{var g;const y=`${a.id}-${f.value}`,{animated:T,swipeable:k,scrollspy:u,lazyRender:W}=a.props;if(!l.default&&!T)return;const s=u||r.value;if(T||k)return h(Xe,{id:i,role:"tabpanel",class:F("panel-wrapper",{inactive:!r.value}),tabindex:r.value?0:-1,"aria-hidden":!r.value,"aria-labelledby":y},{default:()=>{var w;return[h("div",{class:F("panel")},[(w=l.default)==null?void 0:w.call(l)])]}});const H=c.value||u||!W?(g=l.default)==null?void 0:g.call(l):null;return ae({id:i}),Ye(h("div",{id:i,role:"tabpanel",class:F("panel"),tabindex:s?0:-1,"aria-labelledby":y},[H]),[[Ge,s]])}}});const ut=le(st),ft=le(it);export{ut as T,ft as a,dt as u};
//# sourceMappingURL=index.a19928c9.js.map
