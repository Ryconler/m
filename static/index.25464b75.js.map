{"version":3,"file":"index.25464b75.js","sources":["../../src/utils/helper.ts","../../vite/modulepreload-polyfill","../../src/utils/storage.ts","../../src/utils/location.ts","../../src/constant/storage.ts","../../src/utils/city.ts","../../src/utils/cloudbase.ts","../../src/utils/http.ts","../../src/utils/device.ts","../../plugin-vue:export-helper","../../src/App.vue","../../vite/preload-helper","../../src/constant/urlPrefixes.ts","../../src/api/common.ts","../../src/composables/home/home.ts","../../src/api/home.ts","../../src/composables/home/homeMain.ts","../../src/views/home/HomeMain.vue","../../src/constant/classifySort.ts","../../src/composables/home/homeTabs.ts","../../src/views/home/HomeTabs.vue","../../src/views/home/Home.vue","../../src/api/checkList.ts","../../src/views/check-list/CheckList.vue","../../src/assets/images/empty-error/icon-fail.png","../../src/api/page1.ts","../../src/composables/page1/page1.ts","../../src/views/page1/Page1Banners.vue","../../src/views/page1/Page1TabsContent.vue","../../src/composables/page1/page1Tabs.ts","../../src/views/page1/Page1Tabs.vue","../../src/views/page1/Page1.vue","../../src/api/cityChoose.ts","../../src/composables/city-choose/cityChoose.ts","../../src/views/city-choose/CityChoose.vue","../../src/assets/images/search-bar/icon-search.png","../../src/components/search-bar/SearchBar.vue","../../src/composables/search-bar/searchBar.ts","../../src/assets/images/search-bar/icon-clear.png","../../src/router/index.ts","../../src/views/login/Login.vue","../../src/store/home.ts","../../src/store/index.ts","../../src/components/base-img/BaseImg.vue","../../src/api/elementItem.ts","../../src/composables/element-item/elementItem.ts","../../src/components/element-item/ElementItem.vue","../../src/components/element-num/ElementNum.vue","../../src/components/element-num/ElementNum2.vue","../../src/components/element-cell/ElementCell.vue","../../src/assets/images/title-bar/icon-select.png","../../src/assets/images/title-bar/icon-search.png","../../src/components/title-bar/TitleBar.vue","../../src/components/classify-sort/ClassifyCategoryInfos.vue","../../src/components/classify-sort/ClassifyDistricts.vue","../../src/components/classify-sort/ClassifySort.vue","../../src/composables/classify-sort/classifySort.ts","../../src/components/empty-error/EmptyError.vue","../../src/assets/images/empty-error/icon-error.png","../../src/assets/images/empty-error/icon-empty.png","../../src/main.ts","../../src/plugins/components.ts","../../src/plugins/middlewares.ts","../../src/plugins/mixins.ts"],"sourcesContent":["import jsCookie from 'js-cookie'\n\nexport function setLoading(isShow = true) {\n  const loadDom: HTMLElement | null = document.querySelector(\n    '#loadingComponent'\n  ) as HTMLElement\n  if (loadDom) {\n    if (isShow) {\n      loadDom.style.display = 'flex'\n    } else {\n      loadDom.style.display = 'none'\n    }\n  }\n}\n\nexport async function ensureLogin(url?: string) {\n  const uid = jsCookie.get('uid')\n  const skey = jsCookie.get('skey')\n  if (uid && skey) {\n    return {\n      uid,\n      skey\n    }\n  }\n  const referUrl = url || location.href\n  location.href = `//passport.cekid.com/passport/login?cmd=login&referer=${encodeURIComponent(\n    referUrl\n  )}`\n  throw {}\n}\n","const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export function storageFactory(storage: Storage) {\n  let inMemoryStorage: any = {}\n  function isSupported() {\n    try {\n      const testKey = '__some_random_key_you_are_not_going_to_use__'\n      storage.setItem(testKey, testKey)\n      storage.removeItem(testKey)\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  function clear() {\n    if (isSupported()) {\n      storage.clear()\n    } else {\n      inMemoryStorage = {}\n    }\n  }\n\n  function getItem(name: string) {\n    if (isSupported()) {\n      return JSON.parse(storage.getItem(name) as string)\n    }\n    if (inMemoryStorage.hasOwnProperty(name)) {\n      return inMemoryStorage[name]\n    }\n    return null\n  }\n\n  function key(index: any) {\n    if (isSupported()) {\n      return storage.key(index)\n    } else {\n      return Object.keys(inMemoryStorage)[index] || null\n    }\n  }\n\n  function removeItem(name: string) {\n    if (isSupported()) {\n      storage.removeItem(name)\n    } else {\n      delete inMemoryStorage[name]\n    }\n  }\n\n  function setItem(name: string, value: any) {\n    if (isSupported()) {\n      storage.setItem(name, JSON.stringify(value))\n    } else {\n      inMemoryStorage[name] = String(value)\n    }\n  }\n\n  return {\n    getItem,\n    setItem,\n    removeItem,\n    clear,\n    key\n  }\n}\n\nexport const localStore = storageFactory(localStorage)\nexport const sessionStore = storageFactory(sessionStorage)\n","import loadScript from 'load-script'\nimport { localStore } from './storage'\n\nexport interface LocationType {\n  cityId: string\n  cityName: string\n  lat: string\n  lng: string\n  time?: number\n}\n\nasync function getH5Location(): Promise<LocationType | null> {\n  /* 加载高德地图API */\n  function getAMap() {\n    return new Promise((resolve, reject) => {\n      if (window.AMap && window.AMap.Map) {\n        resolve(window.AMap)\n      } else {\n        loadScript(\n          '//webapi.amap.com/maps?v=1.4.15&key=c740e64858e21be917b7a68d264f60bd&callback=onAMapLoaded',\n          (err: any) => {\n            if (err) {\n              reject(null)\n            } else {\n              window.onAMapLoaded = () => {\n                resolve(window.AMap)\n              }\n            }\n          }\n        )\n      }\n    })\n  }\n  const AMap: any | null = await getAMap()\n  return new Promise((resolve, reject) => {\n    try {\n      if (AMap) {\n        /* https://developer.amap.com/api/javascript-api/reference/location */\n        const map = new AMap.Map('iCenter')\n        map.plugin('AMap.Geolocation', () => {\n          const geolocation = new AMap.Geolocation({\n            enableHighAccuracy: true, // 是否使用高精度定位，默认:true\n            timeout: 5000, // 超过5秒后停止定位，默认：无穷大\n            buttonOffset: new AMap.Pixel(10, 20), // 定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\n            zoomToAccuracy: true, // 定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n            buttonPosition: 'RB'\n          })\n          geolocation.getCurrentPosition()\n          AMap.event.addListener(geolocation, 'complete', (data: any) => {\n            console.log('geolocation', data)\n            if (data && data.addressComponent && data.position) {\n              const cityId = data.addressComponent.adcode\n              const city = data.addressComponent.city\n              const cityName = city ? city.replace('市', '') : ''\n              const lat = data.position.lat\n              const lng = data.position.lng\n              const obj: LocationType = {\n                cityId,\n                cityName,\n                lat,\n                lng\n              }\n              resolve(cityId ? obj : null)\n            } else {\n              resolve(null)\n            }\n          }) // 返回定位信息\n          AMap.event.addListener(geolocation, 'error', (error: any) => {\n            console.log(error)\n            reject(null)\n          }) // 返回定位出错信息\n        })\n      } else {\n        resolve(null)\n      }\n    } catch (e) {\n      console.log(e)\n      reject(null)\n    }\n  })\n}\n\nconst STORAGE_KEY_LOCATION = 'location'\n\nexport async function getLocation(cache = 30): Promise<LocationType | null> {\n  try {\n    const locationStorage = localStore.getItem(STORAGE_KEY_LOCATION)\n    const now = Date.now()\n    let res: LocationType | null\n    if (locationStorage) {\n      if (now - locationStorage.time < cache * 60 * 1000) {\n        // 存储30分钟\n        res = locationStorage\n      } else {\n        res = await getH5Location()\n      }\n    } else {\n      res = await getH5Location()\n    }\n    if (res) {\n      localStore.setItem(STORAGE_KEY_LOCATION, {\n        ...res,\n        time: Date.now()\n      })\n    }\n    return res\n  } catch (e) {\n    return null\n  }\n}\n","export const STORAGE_KEYS = {\n  LOCATION: 'location', //定位缓存\n  SEND_TIME: 'send_time' //发送验证码时间\n}\n\nexport const COOKIE_KEYS = {\n  CITY: 'city'\n}\n","import jsCookie from 'js-cookie'\nimport { COOKIE_KEYS } from '@/constant/storage'\n\nexport interface CityType {\n  cityId: string\n  cityName: string\n}\n\nexport const DefaultCity: CityType = {\n  cityName: '南京',\n  cityId: '320100'\n}\n\nexport function getSelectCity(): CityType | null {\n  const selectCity = jsCookie.get(COOKIE_KEYS.CITY) || ''\n  const cityId = selectCity.split('_')[0]\n  const cityName = selectCity.split('_')[1]\n  if (cityId && cityName) {\n    return {\n      cityId,\n      cityName\n    }\n  } else {\n    return null\n  }\n}\n\nexport function setSelectCity(citycode: string, cityName: string) {\n  jsCookie.set(COOKIE_KEYS.CITY, `${citycode}_${cityName}`)\n}\n","import cloudbase from '@cloudbase/js-sdk'\n\nconst app = cloudbase.init({\n  env: 'wzmxx-cloudbase-6gq43u4scecde6fc'\n})\n\nexport const auth = app.auth({\n  persistence: 'local'\n})\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios'\nimport { get } from 'lodash'\nimport { Toast } from 'vant'\nimport { ComponentInstance } from 'vant/lib/utils'\nimport { auth } from '.'\nimport { setLoading } from './helper'\n\nexport interface ResultType<T> {\n  data: T\n  code: string\n  msg: string\n}\n\nfunction createService(\n  options: AxiosRequestConfig,\n  loading = false,\n  toasting = false\n) {\n  const authHeader = auth.getAuthHeader()\n  let toast: ComponentInstance | null = null\n  const service = axios.create({\n    ...options,\n    headers: authHeader\n  })\n  service.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      if (loading) {\n        setLoading(true)\n      }\n      if (toasting) {\n        toast = Toast.loading({\n          forbidClick: true,\n          duration: 0\n        })\n      }\n      return config\n    },\n    (error: AxiosError) => {\n      return Promise.reject(error)\n    }\n  )\n  service.interceptors.response.use(\n    (response: AxiosResponse) => {\n      if (loading) {\n        setLoading(false)\n      }\n      if (toasting && toast) {\n        toast.clear()\n        toast = null\n      }\n      const res: ResultType<any> =\n        response && response.data ? response.data : response\n      return res || {}\n    },\n    (error: AxiosError) => {\n      if (get(error, 'response.data.code') == 'INVALID_CREDENTIALS') {\n        location.href = '/login'\n      }\n      if (loading) {\n        setLoading(false)\n      }\n      if (toasting && toast) {\n        toast.clear()\n        toast = null\n      }\n      return Promise.reject(error)\n    }\n  )\n  return service\n}\n\n/* 带cookie */\nconst $http = createService({ withCredentials: true })\nexport const http = $http\n\n/* 带cookie、带loading */\nconst $lHttp = createService({ withCredentials: true }, true, false)\nexport const lHttp = $lHttp\n\n/* 带cookie、带toast */\nconst $tHttp = createService({ withCredentials: true }, false, true)\nexport const tHttp = $tHttp\n\n/* 不带cookie */\nconst $ajax = createService({ withCredentials: false })\nexport const ajax = $ajax\n\n/* 不带cookie、带loading */\nconst $lAjax = createService({ withCredentials: false }, true, false)\nexport const lAjax = $lAjax\n\n/* 不带cookie、带toast */\nconst $tAjax = createService({ withCredentials: false }, false, true)\nexport const tAjax = $tAjax\n","const userAgent = navigator.userAgent\nconsole.log('userAgent', userAgent)\n\nconst iPhone = userAgent.match(/(iPhone\\sOS)\\s([\\d_]+)/)\nconst iPad = userAgent.match(/(iPad).*OS\\s([\\d_]+)/)\nconst mac = userAgent.match(/(Mac\\sOS)\\s([\\d_]+)/)\nconst wechat = userAgent.match(/(MicroMessenger)\\/([\\d\\.]+)/i)\nconst android = userAgent.match(/(Android);?[\\s\\/]+([\\d.]+)?/)\n\nexport const isIOS = !!iPhone || !!iPad || !!mac\nexport const isAndroid = !!android\n","\nexport default (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val\n  }\n  return sfc\n}\n","<template>\n  <router-view v-if=\"$route.meta.keepAlive\" v-slot=\"{ Component }\">\n    <keep-alive>\n      <component :is=\"Component\" />\n    </keep-alive>\n  </router-view>\n  <router-view v-else />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useStore } from 'vuex'\nimport { isIOS } from './utils'\n\ndocument.body.classList.add(isIOS ? 'ios' : 'android')\n\nexport default defineComponent({\n  setup() {\n    const store = useStore()\n    store.dispatch('queryUserInfo')\n  }\n})\n</script>\n\n<style lang=\"scss\">\nbody {\n  background: #f1f1f1;\n}\n/*兼容iphoneX 底部 全局样式*/\n@supports (bottom: constant(safe-area-inset-bottom)) or\n  (bottom: env(safe-area-inset-bottom)) {\n  .menu_wkBox_back_box {\n    padding-bottom: constant(safe-area-inset-bottom);\n    padding-bottom: env(safe-area-inset-bottom);\n  }\n}\n\n.pf-medium {\n  font-weight: 700;\n}\n.ios .pf-medium {\n  font-weight: 500;\n}\n\n.pf-simbold {\n  font-weight: 700;\n}\n.ios .pf-simbold {\n  font-weight: 600;\n}\n\n.sticky-fix .van-sticky--fixed {\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    background: var(--fix-bg);\n    z-index: -1;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    // 必须要设置translateZ(0),开启gpu渲染\n    transform: translateY(-2px) translateZ(0);\n  }\n}\n.van-image-preview__overlay {\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    background: rgba(0, 0, 0, 0.9);\n    z-index: -1;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    // 必须要设置translateZ(0),开启gpu渲染\n    transform: translateY(-2px) translateZ(0);\n  }\n}\n.van-image-preview__image > * {\n  transform: translateZ(0);\n}\n</style>\n","const scriptRel = 'modulepreload';const seen = {};const base = '/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","export const urlPrefixes = {\n  mockApi: `//www.fastmock.site/mock/b0fad3013a61fff9b529bd757cd75732/api`,\n  cloudbaseApi: `//wzmxx-cloudbase-6gq43u4scecde6fc-1257031685.ap-shanghai.service.tcloudbase.com`\n}\n","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport { ajax } from '@/utils'\n\nconst api = {\n  queryDistricts: `${urlPrefixes.mockApi}/getDistricts`,\n  checkUserExist: `${urlPrefixes.cloudbaseApi}/checkUserExist`\n}\n\nexport async function queryDistricts(cityId: number | string) {\n  try {\n    const result: any = await ajax.get(`${api.queryDistricts}?cityId=${cityId}`)\n    const { DistrictList } = result\n    return DistrictList || []\n  } catch (e) {\n    return []\n  }\n}\n\nexport async function checkUserExist(phoneNumber: string) {\n  try {\n    const result: any = await ajax.get(\n      `${api.checkUserExist}?phoneNumber=${phoneNumber}`\n    )\n    const { code } = result\n    return code == '1'\n  } catch (e) {\n    return false\n  }\n}\n","import { queryDistricts } from '@/api/common'\nimport { DistrictType } from '@/constant/classifySort'\nimport {\n  CityType,\n  DefaultCity,\n  getLocation,\n  getSelectCity,\n  LocationType,\n  setSelectCity\n} from '@/utils'\nimport { nextTick, onMounted, Ref, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\n\nexport const getLocationData = () => {\n  const store = useStore()\n\n  const location: Ref<LocationType | null> = ref(null)\n  const cityInfo: Ref<CityType> = ref(DefaultCity)\n  const districts: Ref<DistrictType[]> = ref([])\n  const locationLoaded = ref(false)\n  onMounted(async () => {\n    location.value = await getLocation()\n    const cookieCity = getSelectCity()\n    if (cookieCity) {\n      cityInfo.value = cookieCity\n    } else {\n      if (location.value != null) {\n        cityInfo.value = {\n          cityId: location.value.cityId,\n          cityName: location.value.cityName\n        }\n      } else {\n        cityInfo.value = DefaultCity\n      }\n      setSelectCity(cityInfo.value.cityId, cityInfo.value.cityName)\n    }\n    locationLoaded.value = true\n    nextTick(() => {\n      const titleBarDom = document.querySelector('.title-bar-wrap')\n      const titleBarHeight = titleBarDom\n        ? titleBarDom.getBoundingClientRect().height\n        : 0\n      store.commit('home/setTitleBarHeight', titleBarHeight)\n    })\n\n    const districtList = await queryDistricts(cityInfo.value.cityId)\n    districts.value = districtList.map((item: any) => {\n      return {\n        id: item.ID,\n        name: item.NAME\n      }\n    })\n  })\n  return { location, cityInfo, districts, locationLoaded }\n}\n\nexport const getAvatar = () => {\n  const router = useRouter()\n  const avatarClick = () => {\n    router.push({\n      name: 'checkList'\n    })\n  }\n  return { avatarClick }\n}\n","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport { ajax, http, ResultType } from '@/utils'\n\nconst api = {\n  queryHomeConfig: `${urlPrefixes.mockApi}/queryHomeConfig`,\n  queryHomeList: `${urlPrefixes.cloudbaseApi}/queryAggregate`,\n  queryAllElements: `${urlPrefixes.mockApi}/queryElements`\n}\n\nexport async function queryHomeConfig(cityId: number | string) {\n  try {\n    const result: ResultType<any> = await http.get(\n      `${api.queryHomeConfig}?cityId=${cityId}`\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || {}\n    } else {\n      return {}\n    }\n  } catch (e) {\n    return {}\n  }\n}\n\nexport async function queryHomeList(params: any) {\n  try {\n    const result: ResultType<any> = await ajax.post(api.queryHomeList, params)\n    const { data, code, msg } = result\n    if (+code === 1) {\n      return data || {}\n    } else {\n      throw msg\n    }\n  } catch (e: any) {\n    throw e.message\n  }\n}\n\nexport async function queryAllElements(params: any) {\n  try {\n    const result: ResultType<any> = await ajax.post(\n      api.queryAllElements,\n      params\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || {}\n    } else {\n      return {}\n    }\n  } catch (e: any) {\n    return {}\n  }\n}\n","import { queryHomeConfig } from '@/api/home'\nimport { ElementItemType } from '@/constant/elementItem'\nimport { HomeAdType, HomeBannerType } from '@/constant/home'\nimport { CityType } from '@/utils'\nimport { nextTick, onMounted, Ref, ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport const getHomeMain = (cityInfo: Ref<CityType>) => {\n  const store = useStore()\n\n  const banners: Ref<HomeBannerType[]> = ref([])\n  const ads: Ref<HomeAdType[]> = ref([])\n  const recommendElements: Ref<ElementItemType[]> = ref([])\n  onMounted(async () => {\n    const homeConfig = await queryHomeConfig(cityInfo.value.cityId)\n    banners.value = homeConfig.banners || []\n    ads.value = homeConfig.ads || []\n    recommendElements.value = homeConfig.elements || []\n    nextTick(() => {\n      const mainDom = document.querySelector('.home-main')\n      const mainHeight = mainDom ? mainDom.getBoundingClientRect().height : 0\n      store.commit('home/setMainHeight', mainHeight)\n    })\n  })\n\n  const bannerClick = (banner: HomeBannerType) => {\n    if (banner.link) {\n      location.href = <string>banner.link\n    }\n  }\n  const adIndex = ref(0)\n  const adClick = () => {\n    if (ads.value[adIndex.value].link) {\n      location.href = <string>ads.value[adIndex.value].link\n    }\n  }\n  const adChange = (index: number) => {\n    adIndex.value = index\n  }\n  return {\n    banners,\n    bannerClick,\n    ads,\n    adIndex,\n    adClick,\n    adChange,\n    recommendElements\n  }\n}\n","<template>\n  <div class=\"home-main\">\n    <VanSwipe\n      v-if=\"banners.length > 0\"\n      class=\"banner\"\n      :autoplay=\"6000\"\n      :show-indicators=\"banners.length > 1\"\n      :loop=\"true\"\n    >\n      <VanSwipeItem\n        v-for=\"(item, index) in banners\"\n        :key=\"index\"\n        @click=\"bannerClick(item)\"\n      >\n        <BaseImg :src=\"item.img\" height=\"240\" />\n      </VanSwipeItem>\n    </VanSwipe>\n    <VanNoticeBar\n      v-if=\"ads.length > 0\"\n      class=\"notice\"\n      color=\"#ff6010\"\n      background=\"#fff9ed\"\n      left-icon=\"volume-o\"\n      :scrollable=\"false\"\n      mode=\"link\"\n      @click=\"adClick\"\n    >\n      <template #left-icon>\n        <i class=\"notice-icon\"></i>\n      </template>\n      <template #default>\n        <VanSwipe\n          class=\"notice-texts\"\n          vertical\n          :autoplay=\"3000\"\n          :show-indicators=\"false\"\n          @change=\"adChange\"\n        >\n          <VanSwipeItem\n            v-for=\"(item, index) in ads\"\n            :key=\"index\"\n            class=\"notice-text\"\n          >\n            {{ item.title }}\n          </VanSwipeItem>\n        </VanSwipe>\n      </template>\n      <template #right-icon>\n        <i v-if=\"ads[adIndex].link\" class=\"notice-arrow\"></i>\n      </template>\n    </VanNoticeBar>\n    <div v-if=\"recommendElements.length > 0\" class=\"recommend\">\n      <div class=\"title\"></div>\n      <ElementItem\n        v-for=\"(item, index) in recommendElements\"\n        :key=\"index\"\n        class=\"recommend-item\"\n        group-title-show\n        :element=\"item\"\n        @add-success=\"$toast('添加成功')\"\n        @add-exist=\"$toast('已存在清单中')\"\n        @add-fail=\"$toast('添加失败')\"\n      ></ElementItem>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport {\n  Swipe as VanSwipe,\n  SwipeItem as VanSwipeItem,\n  NoticeBar as VanNoticeBar\n} from 'vant'\nimport { getHomeMain } from '@/composables/home/homeMain'\nimport { PropType, toRefs } from 'vue'\nimport { CityType, DefaultCity } from '@/utils'\n\nconst props = defineProps({\n  cityInfo: {\n    type: Object as PropType<CityType>,\n    default() {\n      // eslint-disable-next-line vue/valid-define-props\n      return DefaultCity\n    }\n  }\n})\nconst { cityInfo } = toRefs(props)\n\nconst {\n  banners,\n  bannerClick,\n  ads,\n  adIndex,\n  adClick,\n  adChange,\n  recommendElements\n} = getHomeMain(cityInfo)\n</script>\n<style lang=\"scss\" scoped>\n.home-main {\n  background: white;\n  padding: 0 24px;\n  overflow: hidden;\n\n  .banner {\n    margin-top: 10px;\n    margin-bottom: 20px;\n    border-radius: 16px;\n    overflow: hidden;\n    :deep(.van-swipe__indicators) {\n      bottom: 10px;\n      .van-swipe__indicator {\n        width: 6px;\n        height: 6px;\n        border-radius: 3px;\n      }\n      .van-swipe__indicator--active {\n        background-color: #fff;\n        width: 14px;\n        height: 6px;\n        border-radius: 3px;\n      }\n    }\n  }\n  .notice {\n    height: 76px;\n    line-height: 76px;\n    font-size: 28px;\n    border-radius: 7px;\n    padding: 0 24px;\n    margin-bottom: 20px;\n    .notice-icon {\n      width: 36px;\n      height: 36px;\n      background: url('@/assets/images/home/icon-notice.png') 0 0/100% 100%\n        no-repeat;\n      margin-right: 16px;\n    }\n    .notice-texts {\n      height: 76px;\n      line-height: 76px;\n      .notice-text {\n        @include ellicpsis;\n      }\n    }\n    .notice-arrow {\n      width: 36px;\n      height: 36px;\n      background: url('@/assets/images/home/icon-more.png') 0 0/100% 100%\n        no-repeat;\n    }\n  }\n  .recommend {\n    padding: 20px;\n    background: url('@/assets/images/home/bg-recommend.png') 0 0/100% auto\n      no-repeat;\n    background-color: #fbe5a1;\n    .title {\n      width: 190px;\n      height: 52px;\n      background: url('@/assets/images/home/icon-jrzt.png') 0 0/100% 100%\n        no-repeat;\n      margin: 4px auto 26px;\n    }\n    .recommend-item {\n      &:not(:last-child) {\n        margin-bottom: 20px;\n      }\n    }\n  }\n  & > *:last-child {\n    margin-bottom: 0;\n  }\n}\n</style>\n","export const CategoryAll: CategorysType = {\n  title: '全部',\n  categoryId: '',\n  list: [\n    {\n      title: '全部',\n      categoryId: '',\n      list: []\n    }\n  ]\n}\n\nexport interface CategorysType {\n  title: string\n  categoryId: string\n  list: CategoryType[]\n}\nexport interface CategoryType {\n  title: string\n  categoryId: string\n  list: []\n}\n\nexport const DistrictAll: DistrictType = {\n  name: '全城',\n  id: undefined\n}\n\nexport interface DistrictType {\n  id?: string\n  name: string\n}\n\nexport interface FilterDataType {\n  [key: string]: any //索引签名\n  level4CategoryId?: string[]\n  districtId?: string\n  distanceSort?: boolean\n  shareAmountSort?: boolean\n  storeFavPersonNumSort?: boolean\n  shareGoodsOnly?: number\n}\n\nexport const FilterTypes = {\n  CATEGORY: 'category', //品类筛选\n  DISTRICT: 'district', //城区筛选\n  DISTANCE: 'subTitle', //距离排序\n  EARN: 'earn', //佣金排序\n  SALE: 'sale', //销量排序\n  GOOD: 'good', //好评排序\n  EARNONLY: 'earnOnly' //过滤无分享赚\n}\n","import { queryHomeList, queryAllElements } from '@/api/home'\nimport { FilterDataType, FilterTypes } from '@/constant/classifySort'\nimport { ElementGroupType, ElementItemType } from '@/constant/elementItem'\nimport { CityType, LocationType } from '@/utils'\nimport { computed, reactive, Ref, ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport const getOffsetTop = () => {\n  const store = useStore()\n\n  const tabOffsetTop = computed(() => store.state.home.titleBarHeight)\n  const classifySortOffsetTop = computed(() => {\n    const tabsDom = document.querySelector('.home-tabs .van-tabs__wrap')\n    const tabHeight = tabsDom ? tabsDom.getBoundingClientRect().height : 0\n    return store.state.home.titleBarHeight + tabHeight\n  })\n  const classifySortStickyDistance = computed(() => store.state.home.mainHeight)\n  return { tabOffsetTop, classifySortOffsetTop, classifySortStickyDistance }\n}\n\nexport const getGroupList = (\n  location: Ref<LocationType | null>,\n  cityInfo: Ref<CityType>,\n  classifySort: Ref<any>\n) => {\n  const { classifySortStickyDistance } = getOffsetTop()\n\n  const groupList = reactive({\n    list: <ElementGroupType[]>[],\n    loading: false,\n    error: false,\n    finished: false,\n    start: 0,\n    load: async () => {\n      let longLatitude = undefined\n      if (location.value) {\n        longLatitude = `${location.value.lat},${location.value.lng}`\n      }\n      const openOption = groupCategoryInfo.value.length == 0\n      try {\n        const data = await queryHomeList({\n          ...filterData.value,\n          cityId: cityInfo.value.cityId,\n          start: groupList.start,\n          tabs: '2',\n          type: 2,\n          openOption,\n          longLatitude\n        })\n        groupList.loading = false\n        if (openOption) {\n          groupCategoryInfo.value = data.categoryInfo || []\n        }\n        if (data.groupInfo) {\n          const newGroups = data.groupInfo.list || []\n          groupList.list.push(...newGroups)\n          groupList.start += newGroups.length\n          if (groupList.list.length == data.groupInfo.total) {\n            groupList.finished = true\n          }\n        }\n      } catch (error) {\n        groupList.loading = false\n        groupList.error = true\n      }\n    }\n  })\n  const groupCategoryInfo = ref([])\n  const groupFilterOptions = computed(() => {\n    const options = [\n      FilterTypes.CATEGORY,\n      FilterTypes.DISTRICT,\n      FilterTypes.GOOD,\n      FilterTypes.EARNONLY\n    ]\n    if (location.value) {\n      options.push(FilterTypes.DISTANCE)\n    }\n    return options\n  })\n  const groupFilterInitData: Ref<FilterDataType> = ref({\n    shareGoodsOnly: 1,\n    distanceSort: true\n  })\n  const filterData = ref(groupFilterInitData.value)\n  const groupFilterIsClassify = computed(() => {\n    return (\n      (filterData.value.level4CategoryId &&\n        filterData.value.level4CategoryId.length > 0) ||\n      filterData.value.districtId\n    )\n  })\n  const groupFilterChange = (newFilterData: FilterDataType) => {\n    filterData.value = newFilterData\n    groupList.list = []\n    groupList.loading = true\n    groupList.error = false\n    groupList.finished = false\n    groupList.start = 0\n    if (window.scrollY > classifySortStickyDistance.value) {\n      // 当前滚动条位置在下面，重新搜索后需要吸顶\n      window.scrollTo(\n        0,\n        Math.floor(<number>classifySortStickyDistance.value + 1)\n      )\n    }\n    groupList.load()\n  }\n  const groupFilterReset = () => {\n    classifySort.value && classifySort.value.resetFilterData()\n  }\n  const moreGroupElements = async (group: ElementGroupType) => {\n    const param: any = {\n      cityId: cityInfo.value.cityId,\n      isSpec: 2, // 0:不返回定制商品、2:返回所有商品\n      limit: 100,\n      id: [group.id],\n      ...filterData.value\n    }\n    const result = await queryAllElements(param)\n    let allElementInfo: ElementItemType[] = result.list || []\n    const elementInfo = group.elementInfo\n    allElementInfo = allElementInfo.filter((item) => {\n      return !elementInfo.some((item2) => item2.id == item.id)\n    })\n    allElementInfo = elementInfo.concat(allElementInfo)\n    group.allElementInfo = allElementInfo\n  }\n  return {\n    groupList,\n    groupCategoryInfo,\n    groupFilterOptions,\n    groupFilterInitData,\n    groupFilterIsClassify,\n    groupFilterChange,\n    groupFilterReset,\n    moreGroupElements\n  }\n}\n\nexport const getElementList = (\n  location: Ref<LocationType | null>,\n  cityInfo: Ref<CityType>,\n  classifySort: Ref<any>\n) => {\n  const { classifySortStickyDistance } = getOffsetTop()\n\n  const elementList = reactive({\n    list: <ElementItemType[]>[],\n    loading: false,\n    error: false,\n    finished: false,\n    start: 0,\n    categoryInfo: [],\n    load: async () => {\n      let longLatitude = undefined\n      if (location.value) {\n        longLatitude = `${location.value.lat},${location.value.lng}`\n      }\n      const openOption = elementCategoryInfo.value.length == 0\n      try {\n        const data = await queryHomeList({\n          ...filterData.value,\n          cityId: cityInfo.value.cityId,\n          start: elementList.start,\n          tabs: '3',\n          type: 3,\n          openOption,\n          longLatitude\n        })\n        elementList.loading = false\n        if (openOption) {\n          elementCategoryInfo.value = data.categoryInfo || []\n        }\n        if (data.elementInfo) {\n          const newElements = data.elementInfo.list || []\n          elementList.list.push(...newElements)\n          elementList.start += newElements.length\n          if (elementList.list.length == data.elementInfo.total) {\n            elementList.finished = true\n          }\n        }\n      } catch (error) {\n        elementList.loading = false\n        elementList.error = true\n      }\n    }\n  })\n  const elementCategoryInfo = ref([])\n  const elementFilterOptions = computed(() => {\n    const options = [\n      FilterTypes.CATEGORY,\n      FilterTypes.EARN,\n      FilterTypes.SALE,\n      FilterTypes.EARNONLY\n    ]\n    if (location.value) {\n      options.push(FilterTypes.DISTANCE)\n    }\n    return options\n  })\n  const elementFilterInitData: Ref<FilterDataType> = ref({\n    shareGoodsOnly: 1,\n    shareAmountSort: true\n  })\n  const filterData = ref(elementFilterInitData.value)\n  const elementFilterIsClassify = computed(() => {\n    return (\n      (filterData.value.level4CategoryId &&\n        filterData.value.level4CategoryId.length > 0) ||\n      filterData.value.districtId\n    )\n  })\n  const elementFilterChange = (newFilterData: FilterDataType) => {\n    filterData.value = newFilterData\n    elementList.list = []\n    elementList.loading = true\n    elementList.error = false\n    elementList.finished = false\n    elementList.start = 0\n    if (window.scrollY > classifySortStickyDistance.value) {\n      // 当前滚动条位置在下面，重新搜索后需要吸顶\n      window.scrollTo(\n        0,\n        Math.floor(<number>classifySortStickyDistance.value + 1)\n      )\n    }\n    elementList.load()\n  }\n  const elementFilterReset = () => {\n    classifySort.value && classifySort.value.resetFilterData()\n  }\n  return {\n    elementList,\n    elementCategoryInfo,\n    elementFilterOptions,\n    elementFilterInitData,\n    elementFilterIsClassify,\n    elementFilterChange,\n    elementFilterReset\n  }\n}\n","<template>\n  <VanTabs\n    v-model:active=\"selectedTab\"\n    class=\"home-tabs\"\n    :ellipsis=\"false\"\n    sticky\n    :offset-top=\"tabOffsetTop\"\n    :style=\"{ minHeight: `calc(100vh - ${Math.ceil(tabOffsetTop - 1)}px)` }\"\n  >\n    <VanTab title=\"商户\">\n      <ClassifySort\n        ref=\"groupClassifySort\"\n        immediate\n        :options=\"groupFilterOptions\"\n        :initial-filter=\"groupFilterInitData\"\n        :category-infos=\"groupCategoryInfo\"\n        :districts=\"districts\"\n        :sticky-distance=\"classifySortStickyDistance\"\n        :offset-top=\"classifySortOffsetTop\"\n        @filter-change=\"groupFilterChange\"\n      ></ClassifySort>\n      <EmptyError\n        v-show=\"!groupList.loading && groupList.list.length == 0\"\n        :type=\"groupList.error ? 'error' : 'empty'\"\n        :text=\"\n          groupList.error\n            ? '加载出错，请稍后再试'\n            : groupFilterIsClassify\n            ? '没有找到筛选内容呢～'\n            : ''\n        \"\n      >\n        <div\n          v-if=\"!groupList.error && groupFilterIsClassify\"\n          class=\"reset-classify\"\n          @click=\"groupFilterReset\"\n        >\n          重置筛选项\n        </div>\n      </EmptyError>\n      <VanList\n        v-model:loading=\"groupList.loading\"\n        v-model:error=\"groupList.error\"\n        class=\"group-list\"\n        :finished=\"groupList.finished\"\n        finished-text=\"没有更多了～\"\n        :immediate-check=\"false\"\n        @load=\"groupList.load\"\n      >\n        <div\n          v-for=\"(item1, index1) in groupList.list\"\n          :key=\"index1\"\n          class=\"group-item\"\n        >\n          <a class=\"group-title\" :href=\"item1.link\">\n            <BaseImg\n              class=\"group-head\"\n              :src=\"item1.headImage\"\n              width=\"56\"\n              height=\"56\"\n            />\n            <span class=\"pf-medium\">{{ item1.title }}</span>\n            <i v-if=\"item1.subTitle\" class=\"group-sub-title\">{{\n              item1.subTitle\n            }}</i>\n          </a>\n          <ElementItem\n            v-for=\"(item2, index2) in item1.allElementInfo ||\n            item1.elementInfo.slice(0, 2)\"\n            :key=\"index2\"\n            class=\"group-element\"\n            :element=\"item2\"\n            @add-success=\"$toast('添加成功')\"\n            @add-exist=\"$toast('已存在清单中')\"\n            @add-fail=\"$toast('添加失败')\"\n          ></ElementItem>\n          <span\n            v-if=\"item1.elementNum > 2 && !item1.allElementInfo\"\n            class=\"group-more\"\n            @click=\"moreGroupElements(item1)\"\n          >\n            查看更多<i></i>\n          </span>\n        </div>\n      </VanList>\n    </VanTab>\n    <VanTab title=\"商品\">\n      <ClassifySort\n        ref=\"elementClassifySort\"\n        immediate\n        :options=\"elementFilterOptions\"\n        :initial-filter=\"elementFilterInitData\"\n        :category-infos=\"elementCategoryInfo\"\n        :districts=\"districts\"\n        :sticky-distance=\"classifySortStickyDistance\"\n        :offset-top=\"classifySortOffsetTop\"\n        @filter-change=\"elementFilterChange\"\n      ></ClassifySort>\n      <EmptyError\n        v-show=\"!elementList.loading && elementList.list.length == 0\"\n        :type=\"elementList.error ? 'error' : 'empty'\"\n        :text=\"\n          elementList.error\n            ? '加载出错，请稍后再试'\n            : elementFilterIsClassify\n            ? '没有找到筛选内容呢～'\n            : ''\n        \"\n      >\n        <div\n          v-if=\"!elementList.error && elementFilterIsClassify\"\n          class=\"reset-classify\"\n          @click=\"elementFilterReset\"\n        >\n          重置筛选项\n        </div>\n      </EmptyError>\n      <VanList\n        v-model:loading=\"elementList.loading\"\n        v-model:error=\"elementList.error\"\n        class=\"element-list\"\n        :finished=\"elementList.finished\"\n        finished-text=\"没有更多了～\"\n        :immediate-check=\"false\"\n        @load=\"elementList.load\"\n      >\n        <ElementItem\n          v-for=\"(item, index) in elementList.list\"\n          :key=\"index\"\n          class=\"element-item\"\n          :element=\"item\"\n          group-title-show\n          @add-success=\"$toast('添加成功')\"\n          @add-exist=\"$toast('已存在清单中')\"\n          @add-fail=\"$toast('添加失败')\"\n        ></ElementItem>\n      </VanList>\n    </VanTab>\n  </VanTabs>\n</template>\n<script lang=\"ts\" setup>\nimport { Tabs as VanTabs, Tab as VanTab, List as VanList } from 'vant'\nimport { CityType, DefaultCity, LocationType } from '@/utils'\nimport { PropType, Ref, ref, toRefs } from 'vue'\nimport {\n  getOffsetTop,\n  getGroupList,\n  getElementList\n} from '@/composables/home/homeTabs'\nimport { DistrictType } from '@/constant/classifySort'\n\nconst props = defineProps({\n  location: {\n    type: Object as PropType<LocationType | null>,\n    default() {\n      return null\n    }\n  },\n  cityInfo: {\n    type: Object as PropType<CityType>,\n    default() {\n      // eslint-disable-next-line vue/valid-define-props\n      return DefaultCity\n    }\n  },\n  districts: {\n    type: Array as PropType<DistrictType[]>,\n    default() {\n      return []\n    }\n  }\n})\nconst { location, cityInfo } = toRefs(props)\n\nconst selectedTab = ref('')\n\nconst { tabOffsetTop, classifySortOffsetTop, classifySortStickyDistance } =\n  getOffsetTop()\n\nconst groupClassifySort: Ref<any> = ref(null)\nconst {\n  groupList,\n  groupCategoryInfo,\n  groupFilterOptions,\n  groupFilterInitData,\n  groupFilterIsClassify,\n  groupFilterChange,\n  groupFilterReset,\n  moreGroupElements\n} = getGroupList(location, cityInfo, groupClassifySort)\n\nconst elementClassifySort: Ref<any> = ref(null)\nconst {\n  elementList,\n  elementCategoryInfo,\n  elementFilterOptions,\n  elementFilterInitData,\n  elementFilterIsClassify,\n  elementFilterChange,\n  elementFilterReset\n} = getElementList(location, cityInfo, elementClassifySort)\n</script>\n<style lang=\"scss\" scoped>\n.home-tabs > :deep(div) {\n  .van-sticky {\n    .van-tabs__wrap {\n      height: 113px;\n      &[class*='van-hairline']::after {\n        border-top: none;\n      }\n      .van-tabs__nav {\n        background: #ffffff;\n        padding: 0;\n        .van-tab {\n          padding: 0;\n          .van-tab__text {\n            font-size: 30px;\n            font-weight: 400;\n            line-height: 36px;\n            color: #262626;\n          }\n        }\n        .van-tab.van-tab--active {\n          .van-tab__text {\n            font-weight: 500;\n            color: #ff5900;\n          }\n        }\n        .van-tabs__line {\n          width: 28px;\n          height: 6px;\n          background-image: linear-gradient(243deg, #ff5900 5%, #ff8800 100%);\n          border-radius: 3px;\n          bottom: 25px;\n        }\n      }\n    }\n  }\n  .van-sticky--fixed {\n    background: #ffffff;\n  }\n}\n/* 每个标签内容 */\n.home-tabs > :deep(.van-tabs__content) {\n  .van-tab__panel {\n    .group-list {\n      padding: 0 24px;\n      .group-item {\n        background: #ffffff;\n        border-radius: 16px;\n        padding: 20px;\n        margin-bottom: 20px;\n        .group-title {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          .group-head {\n            flex: none;\n            border-radius: 4px;\n            overflow: hidden;\n            margin-right: 20px;\n          }\n          span {\n            flex: 1;\n            font-size: 34px;\n            color: #121212;\n            line-height: 42px;\n            @include ellicpsis;\n          }\n          .group-sub-title {\n            flex: none;\n            font-size: 26px;\n            color: #999999;\n            line-height: 28px;\n          }\n        }\n        .group-element {\n          margin-bottom: 16px;\n          background: #f8f8f8;\n          &:last-of-type {\n            margin-bottom: 0;\n          }\n        }\n        .group-more {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: 26px;\n          color: #666666;\n          line-height: 32px;\n          padding-top: 20px;\n          i {\n            display: inline-block;\n            width: 22px;\n            height: 22px;\n            background: url('@/assets/images/home/icon-arrow-down.png') 0 0/100%\n              100% no-repeat;\n            margin-left: 8px;\n          }\n        }\n      }\n    }\n    .element-list {\n      padding: 0 24px;\n      .element-item {\n        margin-bottom: 20px;\n      }\n    }\n    .reset-classify {\n      padding: 0 44px;\n      line-height: 60px;\n      font-size: 28px;\n      color: #121212;\n      border: 2px solid #979797;\n      border-radius: 60px;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"home\">\n    <VanSticky class=\"sticky-fix\" style=\"--fix-bg: #ffffff\">\n      <TitleBar\n        :city-name=\"cityInfo.cityName\"\n        citypicker=\"party\"\n        class=\"title-bar-wrap\"\n      >\n        <!-- <a class=\"avatar-btn\" @click=\"avatarClick\">\n          <i class=\"avatar-icon\"></i>\n        </a> -->\n      </TitleBar>\n    </VanSticky>\n    <HomeMain v-if=\"locationLoaded\" :city-info=\"cityInfo\"></HomeMain>\n    <HomeTabs\n      v-if=\"locationLoaded\"\n      :location=\"location\"\n      :city-info=\"cityInfo\"\n      :districts=\"districts\"\n    ></HomeTabs>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { Sticky as VanSticky } from 'vant'\nimport { getLocationData, getAvatar } from '@/composables/home/home'\nimport HomeMain from './HomeMain.vue'\nimport HomeTabs from './HomeTabs.vue'\nimport { useStore } from 'vuex'\n\nconst store = useStore()\n\nstore.dispatch('queryUserInfo')\n\nconst { location, cityInfo, districts, locationLoaded } = getLocationData()\n\nconst { avatarClick } = getAvatar()\n</script>\n<style lang=\"scss\" scoped>\n.home {\n  .title-bar-wrap {\n    .avatar-btn {\n      display: flex;\n      align-items: center;\n      .avatar-icon {\n        width: 44px;\n        height: 44px;\n        background: url('@/assets/images/home/icon-avatar.png') 0 0/100% 100%\n          no-repeat;\n      }\n    }\n  }\n}\n</style>\n","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport { ajax, ResultType } from '@/utils'\nimport jsCookie from 'js-cookie'\n\nconst api = {\n  queryCheckedElements: `${urlPrefixes.mockApi}/queryCheckedElements`\n}\n\nexport async function queryCheckedElements() {\n  try {\n    const result: ResultType<any> = await ajax.get(\n      `${api.queryCheckedElements}?uid=${jsCookie.get('uid')}`\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || []\n    } else {\n      return []\n    }\n  } catch (e) {\n    return []\n  }\n}\n","<template>\n  <div class=\"check-list\">\n    <EmptyError\n      v-show=\"!loading && list.length == 0\"\n      type=\"empty\"\n      text=\"暂未添加任何清单~\"\n      :image=\"iconFail\"\n    >\n    </EmptyError>\n    <ElementItem\n      v-for=\"(item, index) in list\"\n      :key=\"index\"\n      :element=\"item\"\n      :in-list=\"true\"\n      @del-success=\"deleteSuccess\"\n    ></ElementItem>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Ref, ref, onActivated } from 'vue'\nimport { Toast } from 'vant'\nimport { queryCheckedElements } from '@/api/checkList'\nimport { ensureLogin } from '@/utils'\nimport { ElementItemType } from '@/constant/elementItem'\nimport iconFail from '@/assets/images/empty-error/icon-fail.png'\n\nconst list: Ref<ElementItemType[]> = ref([])\n\nonActivated(async () => {\n  await ensureLogin()\n  getShareList()\n})\n\nconst loading = ref(true)\n\nconst getShareList = async () => {\n  loading.value = true\n  queryCheckedElements()\n    .then((data) => {\n      loading.value = false\n      list.value = []\n      list.value = data\n    })\n    .catch(() => {\n      loading.value = false\n    })\n}\n\nconst deleteSuccess = () => {\n  Toast('删除成功')\n  getShareList()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.check-list {\n  padding: 24px;\n  .element-item {\n    margin-bottom: 24px;\n  }\n}\n</style>\n","export default \"__VITE_ASSET__cae1737f__\"","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport {\n  Page1ConfigType,\n  Page1DataType,\n  Page1MinElementType,\n  Page1GroupType\n} from '@/constant/page1'\nimport {\n  ajax,\n  getLocation,\n  http,\n  lHttp,\n  LocationType,\n  ResultType\n} from '@/utils'\nimport qs from 'query-string'\n\nconst api = {\n  queryPage1Config: `${urlPrefixes.mockApi}/queryPage1Config`,\n  queryContents: `${urlPrefixes.mockApi}/queryContents`,\n  queryGroups: `${urlPrefixes.mockApi}/queryGroups`,\n  getMinElement: `${urlPrefixes.mockApi}/getMinElement`\n}\n\nexport async function queryPage1Config() {\n  try {\n    const result: ResultType<Page1ConfigType> = await ajax.get(\n      `${api.queryPage1Config}`\n    )\n    const { data, code } = result\n    if (+code === 0) {\n      return data || {}\n    } else {\n      return {}\n    }\n  } catch (e) {\n    return {}\n  }\n}\n\nexport async function queryContents() {\n  try {\n    const result: ResultType<Page1DataType> = await lHttp.post(\n      `${api.queryContents}`,\n      {\n        cityId: '320100',\n        level3CategoryId: [101215]\n      }\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || {}\n    } else {\n      return {}\n    }\n  } catch (e) {\n    return {}\n  }\n}\n\nexport async function queryGroups() {\n  try {\n    const location: LocationType | null = await getLocation()\n    const params = {\n      cityCode: '320100',\n      lng: location ? location.lng : '',\n      lat: location ? location.lat : ''\n    }\n    const result: ResultType<Page1GroupType[]> = await http.get(\n      `${api.queryGroups}?${qs.stringify(params)}`\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || []\n    } else {\n      return []\n    }\n  } catch (e) {\n    return []\n  }\n}\n\nexport async function getMinElement(id?: number) {\n  try {\n    const params = {\n      cityId: '320100',\n      id\n    }\n    const result: ResultType<Page1MinElementType> = await lHttp.get(\n      `${api.getMinElement}?${qs.stringify(params)}`\n    )\n    const { data, code } = result\n    if (+code === 1) {\n      return data || {}\n    } else {\n      return {}\n    }\n  } catch (e) {\n    return {}\n  }\n}\n","import { onMounted, Ref, ref } from 'vue'\nimport { queryPage1Config, queryContents, queryGroups } from '@/api/page1'\nimport {\n  Page1ConfigType,\n  Page1DataType,\n  Page1GroupType\n} from '@/constant/page1'\n\nexport function getPage1Data() {\n  const page1Config: Ref<Page1ConfigType> = ref({})\n  const page1Data: Ref<Page1DataType> = ref({})\n  const page1Groups: Ref<Page1GroupType[]> = ref([])\n  onMounted(async () => {\n    page1Config.value = await queryPage1Config()\n    queryContents().then((data) => {\n      page1Data.value = data\n    })\n    queryGroups().then((data) => {\n      page1Groups.value = data\n    })\n  })\n  return {\n    page1Config,\n    page1Data,\n    page1Groups\n  }\n}\n","<template>\n  <VanSwipe class=\"banners\" :autoplay=\"5000\" :show-indicators=\"false\">\n    <VanSwipeItem\n      v-for=\"(item, index) in banners\"\n      :key=\"index\"\n      @click=\"bannerClick(item)\"\n    >\n      <BaseImg :src=\"item.img\" height=\"148\" />\n    </VanSwipeItem>\n  </VanSwipe>\n</template>\n<script lang=\"ts\" setup>\nimport { PropType } from 'vue'\nimport { Swipe as VanSwipe, SwipeItem as VanSwipeItem } from 'vant'\nimport { Page1BannerType } from '@/constant/page1'\n\ndefineProps({\n  banners: {\n    type: Array as PropType<Page1BannerType[]>,\n    default() {\n      return []\n    }\n  }\n})\n\nconst bannerClick = (banner: Page1BannerType) => {\n  if (banner.link) {\n    location.href = banner.link\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.banners {\n  height: 148px;\n}\n</style>\n","<template>\n  <div class=\"tabs-content\">\n    <div v-if=\"showTabName\" class=\"content-title pf-simbold\">{{ tabname }}</div>\n    <div v-if=\"themes.length > 0\" class=\"themes\">\n      <div v-for=\"item in themes\" :key=\"item.id\" class=\"theme\">\n        <div class=\"theme-title pf-medium\">\n          {{ item.name }}（{{ item.images ? item.images.length : 0 }}）\n        </div>\n        <div class=\"theme-pics\">\n          <BaseImg\n            v-for=\"(item2, index2) in item.images\"\n            :key=\"index2\"\n            class=\"theme-pic\"\n            width=\"210\"\n            height=\"280\"\n            :src=\"item2\"\n            @click=\"themePicClick(item, index2)\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"elements.length > 0\" class=\"elements\">\n      <div class=\"elements-title pf-medium\"><i></i>套餐推荐</div>\n      <div class=\"elements-list\">\n        <a\n          v-for=\"item in elements\"\n          :key=\"item.id\"\n          class=\"element\"\n          :href=\"item.link\"\n        >\n          <div class=\"element-detail\">\n            <BaseImg\n              class=\"element-image\"\n              width=\"120\"\n              height=\"120\"\n              :src=\"item.image\"\n            />\n            <div class=\"element-info\">\n              <div class=\"element-title\">{{ item.title }}</div>\n              <div v-if=\"item.subTitle\" class=\"element-sub-title\">\n                {{ item.subTitle }}\n              </div>\n              <ElementNum class=\"element-num-wrap\" :num=\"item.minNum\" />\n            </div>\n            <div class=\"element-btn pf-medium\">查看详情</div>\n          </div>\n          <div v-if=\"item.desc\" class=\"element-recommend\">\n            <div class=\"element-recommend-icon\">\n              <i></i><span class=\"pf-medium\">推荐</span>\n            </div>\n            <div class=\"element-recommend-text\">\n              {{ item.desc }}\n            </div>\n          </div>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { PropType, toRefs } from 'vue'\nimport {\n  Page1ContentElementType,\n  Page1ContentThemeType\n} from '@/constant/page1'\n\nconst props = defineProps({\n  showTabName: {\n    type: Boolean,\n    default() {\n      return true\n    }\n  },\n  tabname: {\n    type: String,\n    default: ''\n  },\n  themes: {\n    type: Array as PropType<Page1ContentThemeType[]>,\n    default() {\n      return []\n    }\n  },\n  elements: {\n    type: Array as PropType<Page1ContentElementType[]>,\n    default() {\n      return []\n    }\n  }\n})\nconst { tabname } = toRefs(props)\n\nconst emit = defineEmits(['theme-pic-click'])\n\nconst themePicClick = (theme: Page1ContentThemeType, picIndex: number) => {\n  emit('theme-pic-click', theme, picIndex)\n}\n</script>\n<style lang=\"scss\" scoped>\n.tabs-content {\n  overflow: hidden;\n  background: linear-gradient(180deg, #fff7f4, #ffffff 21%, #ffffff);\n  & > div:last-child {\n    margin-bottom: 32px;\n  }\n  .content-title {\n    position: relative;\n    font-size: 32px;\n    color: #451a0c;\n    text-align: center;\n    line-height: 64px;\n    padding-top: 20px;\n    background: url('@/assets/images/page1/bg-title.png') 0 0/100% auto\n      no-repeat;\n  }\n  .themes {\n    .theme {\n      .theme-title {\n        padding: 40px 24px 24px;\n        height: 36px;\n        overflow: hidden;\n        font-size: 30px;\n        line-height: 36px;\n        @include ellicpsis;\n      }\n      .theme-pics {\n        display: flex;\n        overflow-x: auto;\n        &::-webkit-scrollbar {\n          display: none;\n        }\n        .theme-pic {\n          flex: none;\n          margin-right: 20px;\n          &:first-child {\n            padding-left: 24px;\n          }\n          &:last-child {\n            margin-right: 0;\n            padding-right: 24px;\n          }\n          & :deep(img) {\n            border-radius: 16px;\n          }\n        }\n      }\n    }\n  }\n  .elements {\n    background: url('@/assets/images/page1/bg-elements.png') 0 0/100% auto\n      no-repeat;\n    .elements-title {\n      display: flex;\n      align-items: center;\n      padding: 48px 24px 24px;\n      color: #262626;\n      line-height: 36px;\n      font-size: 30px;\n      i {\n        display: block;\n        width: 36px;\n        height: 36px;\n        background: url('@/assets/images/page1/icon-recommend.png') 0 0/100%\n          auto no-repeat;\n        margin-right: 8px;\n      }\n    }\n    .elements-list {\n      margin: 0 24px;\n      background: #ffffff;\n      box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.08);\n      border-radius: 16px;\n      .element {\n        display: block;\n        padding: 24px 0;\n        margin: 0 20px;\n        &:not(:last-child) {\n          border-bottom: 2px solid #ededed;\n        }\n        .element-detail {\n          display: flex;\n          position: relative;\n          .element-image {\n            border-radius: 8px;\n            overflow: hidden;\n          }\n          .element-info {\n            flex: 1;\n            padding: 0 20px;\n            overflow: hidden;\n            .element-title {\n              font-size: 26px;\n              line-height: 32px;\n              margin-bottom: 8px;\n              color: #121212;\n              @include ellicpsis;\n            }\n            .element-sub-title {\n              font-size: 20px;\n              color: #444444;\n              line-height: 32px;\n              margin-bottom: 4px;\n              @include ellicpsis;\n            }\n            .element-num-wrap {\n              height: 44px;\n            }\n          }\n          .element-btn {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-size: 26px;\n            color: #ff5900;\n            line-height: 30px;\n            position: absolute;\n            right: 0;\n            bottom: 0;\n            width: 152px;\n            height: 60px;\n            /* 圆角渐变边框 */\n            box-sizing: border-box;\n            border-radius: 30px;\n            padding: 2px;\n            background-image: linear-gradient(#ffffff, #ffffff),\n              linear-gradient(270deg, #ff5900, #ff8800);\n            background-clip: content-box, padding-box;\n          }\n        }\n        .element-recommend {\n          display: flex;\n          align-items: center;\n          flex-wrap: nowrap;\n          overflow: hidden;\n          margin-top: 10px;\n          border-radius: 4px;\n          .element-recommend-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 120px;\n            height: 40px;\n            background: #ffe9b4;\n            border-radius: 4px;\n            i {\n              display: block;\n              width: 28px;\n              height: 28px;\n              background: url('@/assets/images/page1/icon-good.png') 0 0/100%\n                100% no-repeat;\n              margin-right: 8px;\n            }\n            span {\n              font-size: 22px;\n              color: #ff5900;\n              line-height: 24px;\n            }\n          }\n          .element-recommend-text {\n            padding: 0 24px;\n            font-size: 22px;\n            color: #ff8800;\n            height: 40px;\n            line-height: 40px;\n            background: #fff6e2;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { ImageType } from '@/constant/fullscreenPreview'\nimport {\n  Page1ContentThemeType,\n  Page1ContentType,\n  Page1MinElementType\n} from '@/constant/page1'\nimport { computed, nextTick, Ref, ref, toRefs, watch, watchEffect } from 'vue'\nimport { getMinElement } from '@/api/page1'\n\nexport const getTabs = (props: any) => {\n  const { tabs } = toRefs(props)\n  const selectedTab = ref(0) //所选tab\n  const showTabs: Ref<Page1ContentType[]> = computed(() => {\n    return tabs.value.filter((item: Page1ContentType) => {\n      if (item.elementInfo && item.elementInfo.length > 0) {\n        return true\n      } else {\n        return false\n      }\n    })\n  })\n  return { selectedTab, showTabs }\n}\n\nexport const getThemeDetail = () => {\n  /* 在每张图片上创建图片详情 */\n  function refreshImageDetail() {\n    nextTick(() => {\n      const swipeDoms = document.querySelectorAll(\n        '#image-preview .van-swipe-item'\n      )\n      swipeDoms.forEach((item: Element, index: number) => {\n        const detailDomText = selectedThemeImages.value[index].detailDomText\n        const imageDom = item.querySelector('.van-image-preview__image')\n        const exist = imageDom && imageDom.querySelector('.image-detail')\n        if (detailDomText && imageDom && !exist) {\n          try {\n            const detailDom = new DOMParser().parseFromString(\n              detailDomText,\n              'text/html'\n            ).body.childNodes[0]\n            const imageDetail = document.createElement('div')\n            imageDetail.className = 'image-detail'\n            imageDetail.appendChild(detailDom)\n            imageDom.appendChild(imageDetail)\n          } catch (e) {\n            console.error('添加图片详情失败', e)\n          }\n        }\n      })\n    })\n  }\n  /* 删除旧的图片详情DOM */\n  function deleteImageDetail() {\n    const doms = document.querySelectorAll('#image-preview  .image-detail')\n    doms.forEach((item: Element) => {\n      item.remove()\n    })\n  }\n\n  const selectedTheme: Ref<Page1ContentThemeType | null> = ref(null) //所选主题\n  const selectedThemeImages: Ref<ImageType[]> = computed(() => {\n    const theme = selectedTheme.value\n    if (theme && theme.images) {\n      return theme.images.map((item) => {\n        return {\n          imgUrl: item,\n          detailDomText: `<div class=\"theme-title pf-medium\">${theme.name}</div>` //每张图片上面需要显示的图片详情\n        }\n      })\n    } else {\n      return []\n    }\n  }) //所选主题图片\n  const selectedThemeImageStart = ref(0) //所选主题图片索引\n  const themeDetailShow = ref(false) //是否显示主题详情\n  watch(themeDetailShow, () => {\n    if (themeDetailShow.value) {\n      setTimeout(() => {\n        refreshImageDetail()\n      }, 200)\n    } else {\n      deleteImageDetail()\n    }\n  })\n  const themeDetailImages = computed(() => {\n    return selectedThemeImages.value.map((item) => item.imgUrl)\n  })\n  const themeDetailImageIndex = ref(0)\n  const themeDetailImageChange = (index: number) => {\n    themeDetailImageIndex.value = index\n    refreshImageDetail()\n  }\n  const showThemeDetail = (theme: Page1ContentThemeType, picIndex: number) => {\n    selectedTheme.value = theme\n    selectedThemeImageStart.value = picIndex\n    themeDetailImageIndex.value = picIndex\n    themeDetailShow.value = true\n  }\n  const themeDetailElement: Ref<Page1MinElementType | null> = ref(null)\n  watchEffect(async () => {\n    const id = selectedTheme.value && selectedTheme.value.id\n    if (id) {\n      themeDetailElement.value = await getMinElement(id)\n    }\n  })\n  return {\n    selectedThemeImageStart,\n    themeDetailShow,\n    themeDetailImages,\n    showThemeDetail,\n    themeDetailImageIndex,\n    themeDetailImageChange,\n    themeDetailElement\n  }\n}\n","<template>\n  <div class=\"tabs\">\n    <VanTabs\n      v-model:active=\"selectedTab\"\n      class=\"sticky-fix\"\n      style=\"--fix-bg: #ffffff\"\n      title-active-color=\"#ff5900\"\n      :swipe-threshold=\"4\"\n      :ellipsis=\"false\"\n      border\n      scrollspy\n      sticky\n    >\n      <VanTab\n        v-for=\"(item, index) in showTabs\"\n        :key=\"item.level4Category\"\n        :title=\"item.level4Category\"\n      >\n        <TabsContent\n          class=\"tabs-content-wrap\"\n          :show-tab-name=\"index > 0\"\n          :tabname=\"item.level4Category\"\n          :themes=\"item.themes\"\n          :elements=\"item.elementInfo\"\n          @theme-pic-click=\"showThemeDetail\"\n        ></TabsContent>\n      </VanTab>\n      <VanTab v-if=\"groups && groups.length > 0\" title=\"拍摄门店\">\n        <TabsGroups :groups=\"groups\"></TabsGroups>\n      </VanTab>\n    </VanTabs>\n    <!-- 主题详情 -->\n    <VanImagePreview.Component\n      id=\"image-preview\"\n      v-model:show=\"themeDetailShow\"\n      :images=\"themeDetailImages\"\n      :start-position=\"selectedThemeImageStart\"\n      :close-on-popstate=\"false\"\n      teleport=\"body\"\n      @change=\"themeDetailImageChange\"\n    >\n      <template #index>\n        <span class=\"pf-medium\">{{ themeDetailImageIndex + 1 }}</span>\n        <span class=\"pf-medium gray\">/{{ themeDetailImages.length }}</span>\n      </template>\n      <template #cover>\n        <!-- 主题商品显示 -->\n        <template v-if=\"themeDetailElement\">\n          <ElementCell :element=\"themeDetailElement\"></ElementCell>\n          <div class=\"menu_wkBox_back_box\"></div>\n        </template>\n      </template>\n    </VanImagePreview.Component>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { PropType } from 'vue'\nimport {\n  Tabs as VanTabs,\n  Tab as VanTab,\n  ImagePreview as VanImagePreview\n} from 'vant'\nimport TabsContent from './Page1TabsContent.vue'\nimport TabsGroups from './Page1TabsGroups.vue'\nimport { Page1ContentType, Page1GroupType } from '@/constant/page1'\nimport { getTabs, getThemeDetail } from '@/composables/page1/page1Tabs'\n\nconst props = defineProps({\n  tabs: {\n    type: Array as PropType<Page1ContentType[]>,\n    default() {\n      return []\n    }\n  },\n  groups: {\n    type: Array as PropType<Page1GroupType[]>,\n    default() {\n      return []\n    }\n  }\n})\n\nconst { selectedTab, showTabs } = getTabs(props)\n\nconst {\n  selectedThemeImageStart,\n  themeDetailShow,\n  themeDetailImages,\n  showThemeDetail,\n  themeDetailImageIndex,\n  themeDetailImageChange,\n  themeDetailElement\n} = getThemeDetail()\n</script>\n<style lang=\"scss\" scoped>\n.tabs {\n  .van-tabs > :deep(div) {\n    .van-sticky {\n      .van-tabs__wrap {\n        height: 88px;\n        &[class*='van-hairline']::after {\n          border-top: none;\n        }\n        .van-tabs__nav {\n          background: transparent;\n          padding: 0;\n          .van-tab {\n            padding: 0 24px;\n            .van-tab__text {\n              font-size: 32px;\n              font-weight: 500;\n              line-height: 1;\n            }\n          }\n          .van-tab:not(:nth-last-of-type(2))::after {\n            content: '';\n            display: block;\n            position: absolute;\n            top: 50%;\n            right: 1px;\n            transform: translateY(-50%);\n            width: 1px;\n            height: 30px;\n            background: #dedede;\n            border-radius: 2px;\n          }\n          .van-tab.van-tab--active {\n            .van-tab__text {\n              font-weight: 600;\n            }\n          }\n          .van-tabs__line {\n            width: 28px;\n            height: 6px;\n            background-image: linear-gradient(243deg, #ff5900 5%, #ff8800 100%);\n            border-radius: 3px;\n            bottom: 12px;\n          }\n        }\n      }\n    }\n    .van-sticky--fixed {\n      .van-tabs__wrap {\n        .van-tabs__nav {\n          background: #ffffff;\n        }\n      }\n    }\n  }\n  .van-tabs > :deep(.van-tabs__content) {\n    .van-tab__pane:not(:first-child) {\n      .tabs-content-wrap .theme:first-child {\n        .theme-title {\n          padding-top: 20px;\n        }\n      }\n    }\n    .van-tab__pane:not(:first-child) {\n      padding-top: 20px;\n    }\n  }\n}\n</style>\n<style lang=\"scss\">\n#image-preview {\n  display: flex;\n  flex-direction: column;\n  height: auto;\n  bottom: 0;\n  .van-image-preview__swipe {\n    height: auto;\n    flex: 1;\n    .van-image-preview__image {\n      // 图片详情动态添加\n      .image-detail {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        overflow: hidden;\n        .theme-title {\n          height: 168px;\n          padding: 101px 24px 31px;\n          box-sizing: border-box;\n          background-image: linear-gradient(\n            180deg,\n            rgba(0, 0, 0, 0),\n            rgba(0, 0, 0, 0.13) 24%,\n            rgba(0, 0, 0, 0.8)\n          );\n          font-size: 30px;\n          color: #ffffff;\n          line-height: 36px;\n          @include ellicpsis;\n        }\n      }\n    }\n    .van-image-preview__image.van-image-preview__image--vertical {\n      img {\n        width: auto;\n      }\n    }\n  }\n  .van-image-preview__index {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    transform: none;\n    line-height: initial;\n    text-shadow: none;\n    text-align: center;\n    height: 88px;\n    line-height: 88px;\n    font-size: 36px;\n    color: #ffffff;\n    .gray {\n      color: #999999;\n    }\n  }\n  .van-image-preview__cover {\n    position: relative;\n    background: #ffffff;\n  }\n}\n</style>\n","<template>\n  <div class=\"page1\">\n    <div v-if=\"page1Config.brand\" class=\"brand-wrap\">\n      <img :src=\"page1Config.brand\" />\n    </div>\n    <Banners\n      v-if=\"page1Data.banners && page1Data.banners.length > 0\"\n      class=\"banners-wrap\"\n      :banners=\"page1Data.banners\"\n    />\n    <Tabs\n      v-if=\"page1Data.content && page1Data.content.length > 0\"\n      class=\"tabs-wrap\"\n      :tabs=\"page1Data.content\"\n      :groups=\"page1Groups\"\n    />\n    <div v-if=\"page1Config.flow\" class=\"flow-wrap\">\n      <img :src=\"page1Config.flow\" />\n    </div>\n    <div class=\"menu_wkBox_back_box\"></div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { provide } from 'vue'\nimport { getPage1Data } from '@/composables/page1/page1'\nimport Banners from './Page1Banners.vue'\nimport Tabs from './Page1Tabs.vue'\n\nconst { page1Config, page1Data, page1Groups } = getPage1Data()\n\nprovide('page1Config', page1Config)\n</script>\n<style lang=\"scss\" scoped>\n.page1 {\n  & :deep(img) {\n    pointer-events: none;\n  }\n  .brand-wrap {\n    img {\n      display: block;\n      width: 100%;\n      height: auto;\n      max-height: 750px;\n      object-fit: cover;\n    }\n  }\n  .banners-wrap {\n    margin-bottom: 8px;\n  }\n  .tabs-wrap {\n    margin-bottom: 16px;\n  }\n  .flow-wrap {\n    img {\n      width: 750px;\n      height: auto;\n      display: block;\n    }\n  }\n}\n</style>\n","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport { ajax, ResultType } from '@/utils'\n\nconst api = {\n  queryAllCitys: `${urlPrefixes.mockApi}/queryAllCitys`\n}\n\nexport async function queryAllCitys() {\n  try {\n    const result: ResultType<any> = await ajax.get(`${api.queryAllCitys}`)\n    const { data, code } = result\n    if (+code === 1) {\n      return data || []\n    } else {\n      return []\n    }\n  } catch (e) {\n    return []\n  }\n}\n","import { queryAllCitys } from '@/api/cityChoose'\nimport { CityType, GroupedCitysCity } from '@/constant/cityChoose'\nimport { setSelectCity } from '@/utils'\nimport { groupBy } from 'lodash'\nimport { nextTick, onMounted, Ref, ref } from 'vue'\nimport { useRoute } from 'vue-router'\n\nexport function getCityChooseData() {\n  const route = useRoute()\n\n  const groupedCitys: Ref<GroupedCitysCity> = ref({})\n  const citysKeys: Ref<string[]> = ref([])\n  onMounted(async () => {\n    const allCitys: CityType[] = await queryAllCitys()\n    groupedCitys.value = {}\n    groupedCitys.value = groupBy(allCitys, (item) => {\n      return item.PINYIN && item.PINYIN[0]\n    })\n    for (const citys of Object.values(groupedCitys.value)) {\n      citys.sort((item1, item2) => {\n        if (item1.PINYIN < item2.PINYIN) {\n          return -1\n        } else {\n          return 1\n        }\n      })\n    }\n    citysKeys.value = [\n      'A',\n      'B',\n      'C',\n      'D',\n      'E',\n      'F',\n      'G',\n      'H',\n      'I',\n      'J',\n      'K',\n      'L',\n      'M',\n      'N',\n      'O',\n      'P',\n      'Q',\n      'R',\n      'S',\n      'T',\n      'U',\n      'V',\n      'W',\n      'X',\n      'Y',\n      'Z'\n    ]\n    await nextTick()\n    window.scrollTo(0, 1)\n    window.scrollTo(0, 0)\n  })\n\n  const cityClick = (city: CityType) => {\n    setSelectCity(city.ID, city.NAME)\n    const referrer =\n      route.query.referrer || document.referrer || '//m.wzmxx.com'\n    location.href = decodeURIComponent(referrer.toString())\n  }\n  return {\n    groupedCitys,\n    citysKeys,\n    cityClick\n  }\n}\n","<template>\n  <VanIndexBar>\n    <template v-for=\"item in citysKeys\" :key=\"item\">\n      <VanIndexAnchor :index=\"item\" />\n      <VanCell\n        v-for=\"(item2, index2) in groupedCitys[item]\"\n        :key=\"index2\"\n        :title=\"item2.NAME\"\n        @click=\"cityClick(item2)\"\n      />\n    </template>\n  </VanIndexBar>\n</template>\n\n<script lang=\"ts\" setup>\nimport { getCityChooseData } from '@/composables/city-choose/cityChoose'\nimport {\n  IndexBar as VanIndexBar,\n  IndexAnchor as VanIndexAnchor,\n  Cell as VanCell\n} from 'vant'\n\nconst { groupedCitys, citysKeys, cityClick } = getCityChooseData()\n</script>\n\n<style lang=\"scss\" scoped>\n.city-choose {\n  min-height: 100vh;\n  background-color: #fff;\n  padding: 30px 24px;\n  .hot-city,\n  .history-city {\n    margin-bottom: 24px;\n    .hot-city-title,\n    .history-city-title {\n      font-size: 26px;\n      color: $light-text-color;\n      margin-bottom: 24px;\n    }\n    .hot-city-items,\n    .history-city-items {\n      .hot-city-item,\n      .history-city-item {\n        width: 25%;\n        height: 50px;\n        line-height: 50px;\n        border-radius: 8px;\n        font-size: 26px;\n        text-align: center;\n        background: $light-bg-color;\n        color: $deep-text-color;\n        float: left;\n        margin-right: 24px;\n        margin-bottom: 24px;\n      }\n    }\n  }\n\n  .history-city {\n    position: relative;\n    .delete-icon {\n      width: 26px;\n      height: 26px;\n      background: url(@/assets/images/city-choose/icon-delete.png) no-repeat\n        center center/26px 26px;\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n  }\n\n  .city-list {\n    .city-char {\n      color: $light-text-color;\n      font-size: 26px;\n      padding: 24px 0;\n    }\n    .city-list-items {\n      margin-bottom: 30px;\n      .city-list-item {\n        color: $deep-text-color;\n        font-size: 28px;\n        padding: 24px 0;\n        border-bottom: 2px solid $light-bg-color;\n        &:last-child {\n          border-bottom: none;\n        }\n      }\n    }\n  }\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAEXUlEQVRYCe2XW4hNURjH58z9OINGbgkp5ImiiEeNy4NbxEQjx9xDIlIeeHCJB28Szlw1ZpSRiQcpeWAehojxRJJCY9zClDkzmssZv293vt2afeyz94xpoqxa5/vWWv/vv/7722utvU5Kyl9WAn701NXVTe7u7l4Pdg11NnVaIBAIDQwMfMS2Yx/Qd6OsrKyFdgx/2CWpoJqamhl9fX0nmXA7M6T6mOUNgo6UlpZewQ74wCdAXAVVVlbuR8hpanZClEcHYh4Rt6W8vPydBzRhOEFQJBLJgPAChMUOdCv9Tampqc39/f3vMzMzo729vVPpmwd2Hdj12LEaQ/+ntLS0jcXFxfI6fZcEQRUVFVWmGIhf0D7E095KxsqDTGT8KPg94NMEi/8jPT19aVFR0fNksebYIEGI2QvZWQPQFAwGd1CiRl9SF47VcFwFND4OfJ2Tk7O4oKDge9LA+KAtiDUzHaJXVGvN8HTXWZxbsENenFVVVUtisdh9g+scO3CvH0H2ziH4mEHwIjs7OzwcMTJpSUnJI2J3qwB4y3mlclx4FksQ23sSyLCiITg0lNekcaZF1CVEPY73yUbZZ467+ZYgds1aRFgLEWCr1wJ2IzP749k9qX3wb1A/mbUEAZYT2CoQNan/pzYjI+MOfLohZvLa5ntx6hqaq0DE3VP/T21hYeFP+B4qD+LmqO9mNUPTFMCB16b+CFmbD0H2PG7cmiH7hOUk/uEGHk4/Imw+jgJ7HjcuFfRJASzwKeqPhOWV2Xw8rD2PG7cK+qAAnsLXeaF4H9bmI1v2PG5xliCAel6kIMjecW5Bfvurq6vl3rQwjo+xPp96xWqGbhrATVzIQkZ72C4PV8Arsz5PCHvIYfvZi8wSRNB9gBYYfxK3wwNegV7jnDnj4TqsOHz54HoWSxAncy/IEwb6MB9ITbXR7d8lI3KnmiAR+G28rgo/0frKBBuhvooHjWG33aytrZ0Vbw/JcAWRD/U2I+ioHJJG29W1rx+C4AqyAKIWqrWGeLIvbNXNfCibXRmMgcbGxmBHR8d54ndqNxyXuXrs0LaXHSRIwDzdRggbcdOlDaHch65y8zvhdvNjvYwBtxWcZGa6xEmhr4XvWZ7f7FgxVqTjB1Er4qJyHUMvmaSZ+p7xKFXv1Hnggg7stdzc3HB+fn63oz9pMyFDimb9zO3p6TlHe5X2+bTfEXyM2+ZZrHXblAwSe5x2ICsr61Q4HP7qxuUqSANYVyvJxEHay7GZ2u+0zPWWviuhUOiM8/6MILn8XZIYcM9Yl3msy2/SdhZPQRpQX18/rqurS8TNhlS+2jnUD7TbaT9g4T5TrNPKEcIh+QSsztfKX6QVvxOlACfHiLdZl6WQRkxR/BvJc2bTPIdGXIRJSAYrEbOLbFrrirGFnZ2ddxsaGgZtnFETJOL4Isjhu9sQtSgajdbKmJZRFSSTkqmLZGqPCsBfpr7YURckk5KpC5h8MnWbHbdL+v6XfzYDvwAan7/pu/STpQAAAABJRU5ErkJggg==\"","<template>\n  <div class=\"search-bar\">\n    <VanSearch\n      v-model=\"searchValue\"\n      placeholder=\"搜索还没有做好\"\n      shape=\"round\"\n      :clear-icon=\"clearIcon\"\n      autofocus\n      show-action\n      clear-trigger=\"always\"\n      @search=\"searchClick\"\n    >\n      <template #left-icon>\n        <img src=\"@/assets/images/search-bar/icon-search.png\" />\n      </template>\n      <template #action>\n        <div @click=\"searchClick\">搜索</div>\n      </template>\n    </VanSearch>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Search as VanSearch, Toast } from 'vant'\nimport clearIcon from '@/assets/images/search-bar/icon-clear.png'\nimport { getSearchBarData } from '@/composables/search-bar/searchBar'\n\nconst { searchValue } = getSearchBarData()\nconst searchClick = () => {\n  Toast(searchValue.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.search-bar {\n  box-sizing: border-box;\n  width: 750px;\n  height: 88px;\n  background-color: white;\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 0 20px;\n  :deep(.van-search) {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: 0;\n    /* 左侧输入框 */\n    .van-search__content {\n      flex: 1;\n      padding-left: 0;\n      .van-search__field {\n        display: flex;\n        align-items: center;\n        border: 1px solid $light-text-color;\n        border-radius: 60px;\n        height: 60px;\n        padding: 0 26px;\n        // 搜索图标\n        .van-field__left-icon {\n          margin-right: 10px;\n          img {\n            width: 26px;\n            height: 26px;\n            display: block;\n          }\n        }\n        // 输入框\n        .van-cell__value {\n          flex: 1;\n          // 实际输入框\n          .van-field__body {\n            display: flex;\n            align-items: center;\n            input {\n              flex: 1;\n              border: none;\n              font-size: 26px;\n              line-height: 30px;\n              width: 100%;\n            }\n            // 清除图标按钮\n            .van-field__clear {\n              margin-left: 10px;\n              img {\n                width: 30px;\n                height: 30px;\n                display: block;\n              }\n            }\n          }\n        }\n      }\n    }\n    /* 右侧搜索按钮 */\n    .van-search__action {\n      margin-left: 20px;\n      background: $light-bg-color;\n      color: $deep-text-color;\n      border-radius: 60px;\n      width: 120px;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n      font-size: 26px;\n    }\n  }\n}\n</style>\n","import { getSearchBarConfig } from '@/api/searchBar'\nimport { SearchBarConfigType } from '@/constant/searchBar'\nimport {\n  CityType,\n  DefaultCity,\n  getLocation,\n  getSelectCity,\n  setSelectCity\n} from '@/utils'\nimport { onMounted, Ref, ref } from 'vue'\n\nexport function getSearchBarData() {\n  const selectCity: Ref<CityType> = ref(DefaultCity)\n  const searchValue = ref('')\n  onMounted(async () => {\n    const cookieCity = getSelectCity()\n    if (cookieCity) {\n      selectCity.value = cookieCity\n    } else {\n      const location = await getLocation()\n      if (location != null) {\n        selectCity.value = {\n          cityId: location.cityId,\n          cityName: location.cityName\n        }\n      } else {\n        selectCity.value = DefaultCity\n      }\n      setSelectCity(selectCity.value.cityId, selectCity.value.cityName)\n    }\n  })\n  return {\n    selectCity,\n    searchValue\n  }\n}\n","export default \"data:image/png;base64,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\"","import {\n  createRouter,\n  createWebHistory,\n  NavigationGuardNext,\n  RouteLocationNormalized,\n  RouteLocationNormalizedLoaded,\n  RouteRecordRaw\n} from 'vue-router'\nimport { setLoading } from '@/utils'\nimport Home from '@/views/home/Home.vue'\nimport CheckList from '@/views/check-list/CheckList.vue'\nimport Page1 from '@/views/page1/Page1.vue'\nimport CityChoose from '@/views/city-choose/CityChoose.vue'\nimport Search from '@/views/search/Search.vue'\nimport Login from '@/views/login/Login.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  /* 首页 */\n  {\n    path: '/',\n    alias: '/home',\n    name: 'home',\n    component: Home,\n    meta: { keepAlive: true }\n  },\n  /* 清单列表 */\n  {\n    path: '/check-list',\n    name: 'checkList',\n    component: CheckList,\n    meta: { keepAlive: true }\n  },\n  /* 页1 */\n  {\n    path: '/page1',\n    name: 'page1',\n    component: Page1,\n    meta: { keepAlive: true }\n  },\n  {\n    path: '/city-choose',\n    name: 'cityChoose',\n    component: CityChoose,\n    meta: { keepAlive: true }\n  },\n  {\n    path: '/search',\n    name: 'search',\n    component: Search,\n    meta: { keepAlive: true }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login,\n    meta: { keepAlive: true }\n  }\n]\n\nconst scrollBehavior = (\n  to: RouteLocationNormalized,\n  from: RouteLocationNormalizedLoaded,\n  savedPosition: any\n) => {\n  if (!from.name) {\n    // 没有来源路由，刷新页面\n    // 为防止数据没有加载但是吸顶已经上去了，不返回原先的滚动条位置\n    return {\n      left: 0,\n      top: 0\n    }\n  }\n  if (savedPosition) {\n    return savedPosition\n  } else {\n    if (to.hash) {\n      return {\n        el: to.hash\n      }\n    } else {\n      return {\n        left: 0,\n        top: 0\n      }\n    }\n  }\n}\n\nconst router = createRouter({\n  history: createWebHistory(),\n  scrollBehavior,\n  routes\n})\n\nrouter.beforeEach(\n  (\n    to: RouteLocationNormalized,\n    from: RouteLocationNormalized,\n    next: NavigationGuardNext\n  ) => {\n    if (Object.keys(to.query).indexOf('_debug') > -1) {\n      import('vconsole').then((v) => {\n        new v.default()\n      })\n    }\n    setLoading()\n    next()\n  }\n)\n\nrouter.afterEach(() => {\n  setLoading(false)\n})\n\nexport default router\n","<template>\n  <div class=\"login\">\n    <h1 class=\"pf-medium\">快捷登录</h1>\n    <VanForm ref=\"loginForm\" @submit=\"submit\">\n      <VanField\n        v-model=\"phoneNumber\"\n        name=\"手机号\"\n        type=\"tel\"\n        label=\"手机号\"\n        placeholder=\"未注册过手机号将自动注册\"\n        :rules=\"[\n          {\n            pattern: phonePattern,\n            message: '请输入正确的手机号'\n          }\n        ]\"\n        @update:model-value=\"phoneUpdate\"\n      />\n      <VanField\n        v-model=\"password\"\n        type=\"password\"\n        name=\"密码\"\n        label=\"密码\"\n        placeholder=\"密码\"\n        :rules=\"[{ required: true, message: '请填写密码' }]\"\n      />\n      <VanField\n        v-if=\"loginText == '注册'\"\n        v-model=\"phoneCode\"\n        name=\"短信验证码\"\n        label=\"短信验证码\"\n        placeholder=\"短信验证码\"\n        :rules=\"[{ required: true, message: '请输入短信验证码' }]\"\n      >\n        <template #button>\n          <div class=\"send-btn\" @click=\"sendClick\">{{ sendText }}</div>\n        </template></VanField\n      >\n      <div style=\"margin: 16px\">\n        <VanButton\n          class=\"submit-btn\"\n          round\n          block\n          type=\"primary\"\n          native-type=\"submit\"\n          :color=\"loginText == '注册' ? '#ff5900' : ''\"\n        >\n          {{ loginText }}\n        </VanButton>\n      </div>\n    </VanForm>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { Ref, ref } from 'vue'\nimport {\n  Form as VanForm,\n  Field as VanField,\n  Button as VanButton,\n  Toast\n} from 'vant'\nimport { auth, localStore } from '@/utils'\nimport { STORAGE_KEYS } from '@/constant/storage'\nimport { checkUserExist } from '@/api/common'\nimport { useRoute } from 'vue-router'\n\nconst phoneNumber = ref('')\nconst phonePattern = ref(/^1[0-9]{10}$/)\nconst password = ref('')\nconst phoneCode = ref('')\nconst sendText = ref('获取验证码')\nconst loginText = ref('登录')\n\nconst phoneUpdate = (val: string) => {\n  if (val.length == 11) {\n    checkUserExist(val).then((res) => {\n      if (res) {\n        loginText.value = '登录'\n      } else {\n        loginText.value = '注册'\n      }\n    })\n  }\n}\n\nlet sendTime = localStore.getItem(STORAGE_KEYS.SEND_TIME)\nconst nowTime = Date.now()\nif (sendTime) {\n  let diffTime = nowTime - sendTime\n  if (diffTime < 60 * 1000) {\n    countDown(Math.floor(diffTime / 1000))\n  }\n}\n\nfunction countDown(time: number) {\n  sendText.value = `${time}s`\n  const interval = setInterval(() => {\n    sendText.value = `${--time}s`\n    if (time <= 0) {\n      clearInterval(interval)\n      sendText.value = '获取验证码'\n    }\n  }, 1000)\n}\n\nconst loginForm: Ref<any> = ref(null)\nconst sendClick = () => {\n  if (sendText.value == '获取验证码' && loginForm.value) {\n    loginForm.value.validate('手机号').then(() => {\n      sendTime = Date.now()\n      localStore.setItem(STORAGE_KEYS.SEND_TIME, sendTime)\n      countDown(60)\n      // 发送短信验证码\n      auth.sendPhoneCode(phoneNumber.value)\n    })\n  }\n}\n\nconst route = useRoute()\nconst submit = () => {\n  function goBack() {\n    const referrer =\n      route.query.referrer || document.referrer || '//m.wzmxx.com'\n    location.href = decodeURIComponent(referrer.toString())\n  }\n  if (loginText.value == '登录') {\n    auth\n      .signInWithPhoneCodeOrPassword({\n        phoneNumber: phoneNumber.value,\n        password: password.value\n      })\n      .then(() => {\n        Toast('登录成功')\n        setTimeout(() => {\n          goBack()\n        }, 1000)\n      })\n      .catch(() => {\n        Toast(`登录失败\\n请检查手机号/密码是否填写正确`)\n      })\n  } else if (loginText.value == '注册') {\n    auth\n      .signUpWithPhoneCode(phoneNumber.value, phoneCode.value, password.value)\n      .then(() => {\n        Toast('注册成功')\n        setTimeout(() => {\n          goBack()\n        }, 1000)\n      })\n      .catch(() => {\n        Toast(`注册失败\\n请检查短信验证码是否填写正确`)\n      })\n  }\n}\n</script>\n<style scoped lang=\"scss\">\n.login {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: #ffffff;\n  h1 {\n    padding: 50px 24px 80px;\n    font-size: 60px;\n  }\n  .van-cell {\n    padding: 24px;\n    :deep(*) {\n      font-size: 30px;\n    }\n    :deep(.van-field__label) {\n      color: #121212;\n    }\n    :deep(.van-field__error-message) {\n      margin-top: 10px;\n      font-size: 20px;\n    }\n    .send-btn {\n      color: #666666;\n    }\n  }\n  .submit-btn {\n    height: 80px;\n  }\n}\n</style>\n","interface stateType {\n  titleBarHeight: number\n  mainHeight: number\n  tabHeight: number\n}\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    titleBarHeight: 0,\n    mainHeight: 0\n  }),\n  mutations: {\n    setTitleBarHeight(state: stateType, height: number) {\n      state.titleBarHeight = height\n    },\n    setMainHeight(state: stateType, height: number) {\n      state.mainHeight = height\n    }\n  },\n  actions: {},\n  getters: {}\n}\n","import { auth } from '@/utils'\nimport { createStore } from 'vuex'\nimport home from './home'\ninterface stateType {\n  userInfo: any\n}\nexport default createStore({\n  state: {\n    userInfo: null\n  },\n  mutations: {\n    setUserInfo(state: stateType, userInfo: any) {\n      state.userInfo = userInfo\n    }\n  },\n  actions: {\n    async queryUserInfo({ commit }) {\n      const user = await auth.getCurrenUser()\n      commit('setUserInfo', user)\n      return user\n    }\n  },\n  modules: {\n    home\n  }\n})\n","<template>\n  <van-image v-bind=\"attrs\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { Image as VanImage } from 'vant'\nimport { parseInt } from 'lodash'\n\nexport default defineComponent({\n  components: {\n    [VanImage.name]: VanImage\n  },\n  props: {\n    width: {\n      type: [String, Number],\n      default: ''\n    },\n    height: {\n      type: [String, Number],\n      default: ''\n    },\n    fit: {\n      type: String,\n      default: ''\n    },\n    src: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    attrs() {\n      const attrs: any = JSON.parse(JSON.stringify(this.$props))\n      if (attrs.width) {\n        attrs.width = `${parseInt(attrs.width) / 75}rem`\n      } else {\n        attrs.width = '100%'\n      }\n      if (attrs.height) {\n        attrs.height = `${parseInt(attrs.height) / 75}rem`\n      }\n      if (attrs.fit) {\n        attrs.fit = attrs.fit\n      } else {\n        attrs.fit = 'cover'\n      }\n      return attrs\n    }\n  }\n})\n</script>\n","import { urlPrefixes } from '@/constant/urlPrefixes'\nimport qs from 'query-string'\nimport { ajax, http, ResultType } from '@/utils'\nimport jsCookie from 'js-cookie'\n\nconst api = {\n  checkElement: `${urlPrefixes.cloudbaseApi}/checkElement`,\n  uncheckElement: `${urlPrefixes.cloudbaseApi}/uncheckElement`\n}\n\nexport async function checkElement(id: number) {\n  try {\n    const param = JSON.stringify({\n      uid: jsCookie.get('uid'),\n      id\n    })\n    const result: ResultType<null> = await http.post(\n      api.checkElement,\n      qs.stringify({ param }),\n      {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        }\n      }\n    )\n    const { code } = result\n    return code\n  } catch (e) {\n    return '0'\n  }\n}\n\nexport async function uncheckElement(id: number) {\n  try {\n    const param = JSON.stringify({\n      uid: jsCookie.get('uid'),\n      spuIds: [id]\n    })\n    const result: ResultType<null> = await ajax.post(\n      api.uncheckElement,\n      qs.stringify({ param }),\n      {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        }\n      }\n    )\n    const { code } = result\n    return code\n  } catch (e) {\n    return '0'\n  }\n}\n","import { checkElement, uncheckElement } from '@/api/elementItem'\nimport { ElementItemType } from '@/constant/elementItem'\nimport { ensureLogin } from '@/utils'\nimport { isEmpty } from 'lodash'\nimport { Toast } from 'vant'\nimport { computed, ref, Ref } from 'vue'\n\nexport const getElementCheck = (emit: any, elementId: number) => {\n  const elementAddClick = async () => {\n    // await ensureLogin()\n    const result = await checkElement(elementId)\n    if (result == '1') {\n      emit('add-success')\n    } else if (result == '3') {\n      emit('add-exist')\n    } else {\n      emit('add-fail')\n    }\n  }\n\n  const elementDelClick = async () => {\n    await ensureLogin()\n    const result = await uncheckElement(elementId)\n    if (result == '1') {\n      emit('del-success')\n    } else {\n      emit('del-fail')\n    }\n  }\n  return { elementAddClick, elementDelClick }\n}\n\nexport const getElementShare = (element: Ref<ElementItemType>) => {\n  const elementShareStatus = computed(() => {\n    let env = false\n    if (import.meta.env.DEV) {\n      env = true\n    }\n    return env && elementShareShow.value && !isEmpty(element.value)\n  })\n  const elementShareInfo = computed(() => {\n    return {\n      url: element.value.link,\n      title: element.value.title,\n      desc: element.value.title,\n      poster: element.value.image\n    }\n  })\n  const elementShareShow = ref(false)\n  const elementShareImgtxt = ref('')\n  const openShare = () => {}\n  const elementShareLoad = (base64: string) => {\n    elementShareImgtxt.value = base64\n    // 生成自定义图文成功，使用自定义图文分享\n    if (elementShareShow.value) {\n      elementShareShow.value = false\n      Toast.clear()\n      openShare()\n    }\n  }\n  const elementShareClick = () => {\n    if (elementShareImgtxt.value) {\n      // 生成过自定义图文，直接拉起分享\n      openShare()\n    } else {\n      elementShareShow.value = true\n      Toast.loading({\n        forbidClick: true,\n        duration: 0\n      })\n      setTimeout(() => {\n        // 生成自定义图文失败或超时，使用原生图文分享\n        if (elementShareShow.value) {\n          elementShareShow.value = false\n          Toast.clear()\n          openShare()\n        }\n      }, 10 * 1000)\n    }\n  }\n  return {\n    elementShareStatus,\n    elementShareInfo,\n    elementShareLoad,\n    elementShareClick\n  }\n}\n","<template>\n  <div class=\"element-item\">\n    <a class=\"element-info\" :href=\"element.link\">\n      <BaseImg\n        class=\"element-image\"\n        :src=\"element.image\"\n        :width=\"groupTitleShow ? 230 : 186\"\n        :height=\"groupTitleShow ? 171 : 140\"\n      />\n      <div class=\"element-detail\">\n        <div class=\"element-title pf-medium\">{{ element.title }}</div>\n        <div v-if=\"groupTitleShow\" class=\"element-group\">\n          <div class=\"element-group-title\">{{ element.title }}</div>\n          <div v-if=\"element.groupSubTitle\" class=\"element-group-sub-title\">\n            {{ element.groupSubTitle }}\n          </div>\n        </div>\n        <div class=\"element-option\">\n          <ElementNum2\n            ref=\"elementNum\"\n            class=\"element-num\"\n            :min-num=\"element.minNum\"\n            :max-num=\"element.maxNum\"\n          ></ElementNum2>\n          <div v-if=\"element.maxSubNum > 0\" class=\"element-earn\">\n            <div class=\"element-earn-icon\">赚</div>\n            <div class=\"element-earn-money pf-medium\">\n              <template v-if=\"element.minSubNum == element.maxSubNum\">{{\n                element.minSubNum\n              }}</template>\n              <template v-else\n                >{{ element.minSubNum }}-{{ element.maxSubNum }}</template\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </a>\n    <!-- <div class=\"element-operates\">\n      <div v-if=\"inList\" class=\"element-operate-del\" @click=\"elementDelClick\">\n        删除\n      </div>\n      <div v-else class=\"element-operate-add\" @click=\"elementAddClick\">\n        加入清单\n      </div>\n      <div class=\"element-operate-share pf-medium\" @click=\"elementShareClick\">\n        立即分享\n      </div>\n    </div> -->\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { PropType, Ref, ref, toRefs } from 'vue'\nimport { ElementItemType } from '@/constant/elementItem'\nimport {\n  getElementCheck,\n  getElementShare\n} from '@/composables/element-item/elementItem'\n\nconst emit = defineEmits([\n  'add-success',\n  'add-exist',\n  'add-fail',\n  'del-success',\n  'del-fail'\n])\nconst props = defineProps({\n  element: {\n    type: Object as PropType<ElementItemType>,\n    default() {\n      return {}\n    }\n  },\n  groupTitleShow: {\n    type: Boolean,\n    default: false\n  },\n  inList: {\n    type: Boolean,\n    default: false\n  }\n})\nconst { element } = toRefs(props)\n\nconst { elementAddClick, elementDelClick } = getElementCheck(\n  emit,\n  element.value.id\n)\n\nconst elementNum: Ref<any> = ref(null)\nconst {\n  elementShareStatus,\n  elementShareInfo,\n  elementShareLoad,\n  elementShareClick\n} = getElementShare(element)\n</script>\n\n<style lang=\"scss\" scoped>\n.element-item {\n  display: block;\n  padding: 20px;\n  background: #ffffff;\n  border-radius: 16px;\n  .element-info {\n    display: flex;\n    // margin-bottom: 26px;\n    .element-image {\n      flex: none;\n      border-radius: 16px;\n      overflow: hidden;\n      margin-right: 20px;\n    }\n\n    .element-detail {\n      flex: 1;\n      overflow: hidden;\n      .element-title {\n        font-size: 28px;\n        color: #121212;\n        line-height: 42px;\n        margin-bottom: 12px;\n        @include ellicpsisN(2);\n      }\n      .element-group {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 15px;\n        overflow: hidden;\n        .element-group-title {\n          flex: 1;\n          font-size: 22px;\n          color: #666666;\n          line-height: 28px;\n          @include ellicpsis;\n        }\n        .element-group-sub-title {\n          flex: none;\n          line-height: 28px;\n          font-size: 22px;\n          color: #999999;\n        }\n      }\n      .element-option {\n        display: flex;\n        align-items: center;\n        .element-num {\n          margin-right: 20px;\n        }\n        .element-earn {\n          display: flex;\n          align-items: center;\n          border: 2px solid #ff5900;\n          border-radius: 30px;\n          .element-earn-icon {\n            height: 36px;\n            line-height: 36px;\n            padding-left: 36px;\n            padding-right: 4px;\n            color: #ffffff;\n            font-size: 22px;\n            background: url('~@/assets/images/home/icon-money.png') 12px center/\n              20px 22px no-repeat;\n            background-color: #ff7615;\n            border-top-left-radius: 30px;\n            border-bottom-left-radius: 30px;\n          }\n          .element-earn-money {\n            height: 36px;\n            line-height: 36px;\n            padding-left: 4px;\n            padding-right: 12px;\n            font-size: 22px;\n            color: #ff5900;\n            @include ellicpsis;\n          }\n        }\n      }\n    }\n  }\n  .element-operates {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    padding-top: 20px;\n    border-top: 2px solid #ededed;\n    .element-operate-add {\n      width: 152px;\n      height: 60px;\n      font-size: 26px;\n      line-height: 60px;\n      text-align: center;\n      margin-right: 20px;\n      border: 2px solid #cccccc;\n      border-radius: 60px;\n    }\n    .element-operate-del {\n      width: 100px;\n      height: 60px;\n      font-size: 26px;\n      line-height: 60px;\n      text-align: center;\n      margin-right: 20px;\n      border: 2px solid #cccccc;\n      border-radius: 60px;\n    }\n    .element-operate-share {\n      width: 152px;\n      height: 60px;\n      font-size: 26px;\n      color: #ff5900;\n      border-radius: 30px;\n      text-align: center;\n      line-height: 60px;\n      box-sizing: border-box;\n      padding: 2px;\n      background-image: linear-gradient(#ffffff, #ffffff),\n        linear-gradient(270deg, #ff5900, #ff8800);\n      background-clip: content-box, padding-box;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"element-num pf-medium\">\n    <span class=\"type\">一口价</span>\n    <span class=\"num\">{{ num }}</span>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: {\n    num: {\n      type: Number,\n      default: 0\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.element-num {\n  color: #ff5900;\n  display: flex;\n  align-items: center;\n  .type {\n    font-size: 24px;\n    line-height: 1;\n    margin-right: 8px;\n  }\n  .num {\n    font-size: 28px;\n    line-height: 1;\n  }\n}\n</style>\n","<template>\n  <div class=\"element-num\">\n    <span class=\"num pf-medium\">{{ minNum }}</span>\n    <span v-if=\"minNum < maxNum\" class=\"qi\">起</span>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: {\n    minNum: {\n      type: Number,\n      default: 0\n    },\n    maxNum: {\n      type: Number,\n      default: 0\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.element-num {\n  color: #ff5900;\n  display: flex;\n  align-items: center;\n  height: 42px;\n  .num {\n    font-size: 34px;\n    margin-right: 4px;\n    padding-bottom: 4px;\n  }\n  .qi {\n    font-size: 24px;\n  }\n}\n</style>\n","<template>\n  <a class=\"element-cell\" :href=\"element.link\">\n    <div class=\"element-info\">\n      <div class=\"element-title pf-medium\">{{ element.title }}</div>\n      <div class=\"element-extra\">\n        <div v-if=\"element.subTitle\" class=\"element-sub-title\">\n          {{ element.subTitle }}\n        </div>\n        <ElementNum :num=\"element.minNum\"></ElementNum>\n      </div>\n    </div>\n    <div class=\"element-btn pf-medium\">查看详情</div>\n  </a>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue'\nimport { Page1MinElementType } from '@/constant/page1'\n\nexport default defineComponent({\n  props: {\n    element: {\n      type: Object as PropType<Page1MinElementType>,\n      default() {\n        return {}\n      }\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.element-cell {\n  width: 100%;\n  padding: 20px 24px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  .element-info {\n    flex: 1;\n    overflow: hidden;\n    .element-title {\n      color: #121212;\n      font-size: 30px;\n      line-height: 36px;\n      padding-left: 40px;\n      margin-bottom: 12px;\n      background: url('@/assets/images/page1/icon-shangpin.png') left\n        center/28px 28px no-repeat;\n      @include ellicpsis;\n    }\n    .element-extra {\n      display: flex;\n      align-items: flex-end;\n      @include ellicpsis;\n      .element-sub-title {\n        font-size: 20px;\n        color: #444444;\n        line-height: 1;\n        margin-right: 20px;\n      }\n    }\n  }\n  .element-btn {\n    flex: none;\n    width: 208px;\n    height: 72px;\n    opacity: 0.9;\n    background: linear-gradient(270deg, #ff5900, #ff8800);\n    border-radius: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #ffffff;\n    line-height: 32px;\n    font-size: 26px;\n  }\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAHgAAAADKQTcFAAABwUlEQVRIDe2Sz07CQBDGadET4R3axLRBSbw1IRzk5AtoveDJJ9D4GB58Ao8K2kReAS8+AmdOJIRDS8oNbZmPdMh2of/gpOkkZLu738yP+XYqlTJKB0oH/roDCjdg23Z1PB4/BEFwoarql6Zpz47j/PL9PmtazSoXrNVqjwR9or0RhuGl67oN0zQH9GcC1hRZO53O0XQ67VGte645n8/9yWTyjToqF0On/B2ttu/7ryggnWdukbNYLHoktEWxyNiAYa8oir5visIZSp1ey/VExgaMNyWhI4tpv4bjvXbcxY7SoCR0IsY6ZzNc2CGROnyjz5hFuFMU5V3X9W7SwGVAP+r1enc4HP6gFiLWBQYJA7VcLk/pDj8xmp7nme12ezAajULxIoL2d9lLui0ocmNgHABuGEZuuAC9Qr4UO6HQxKwWk9KsY9tns5lC04tOt6CsSXqaRDD+RFo3VLhPkuN9oKidCoYgDY57ObI6Zf3WG/MFr9Gbf9LAndGZPHAsW69wgSb/NsleUZwJhjgPvAgUNXOBJXiT9g2ccRSFIi83GGKhc5225zgj6AvZe5fHXugPDsuyjFardXJwobJA6cC/cWAFkt0Z+lDAyMIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","<template>\n  <div class=\"title-bar\">\n    <div class=\"city-info\" @click=\"cityClick\">\n      <div class=\"pf-simbold\">{{ cityName }}</div>\n      <img src=\"@/assets/images/title-bar/icon-select.png\" />\n    </div>\n    <div class=\"search-wrap\" @click=\"searchClick\">\n      <img src=\"@/assets/images/title-bar/icon-search.png\" />\n      <div>{{ placeholder }}</div>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { DefaultCity } from '@/utils'\nimport { useRouter } from 'vue-router'\n\ndefineProps({\n  cityName: {\n    type: String,\n    default: DefaultCity.cityName // eslint-disable-line vue/valid-define-props\n  },\n  placeholder: {\n    type: String,\n    default: /* '搜一搜网站里有什么'  */ '搜索还没有做好'\n  }\n})\n\nconst router = useRouter()\nconst searchClick = () => {\n  router.push({\n    name: 'search'\n  })\n}\nconst cityClick = () => {\n  router.push({\n    name: 'cityChoose',\n    query: {\n      referrer: encodeURIComponent(location.href)\n    }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.title-bar {\n  width: 100%;\n  height: 88px;\n  box-sizing: border-box;\n  background-color: white;\n  display: flex;\n  padding: 0 24px;\n  justify-content: space-between;\n  align-items: center;\n  .city-info {\n    max-width: 112px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    div {\n      font-size: 28px;\n      color: #333333;\n      line-height: 32px;\n      margin-right: 3px;\n    }\n    img {\n      width: 20px;\n      height: 20px;\n      pointer-events: none;\n    }\n  }\n  .search-wrap {\n    flex: 1;\n    height: 60px;\n    background: #f5f5f5;\n    border-radius: 30px;\n    display: flex;\n    padding: 0 24px;\n    align-items: center;\n    margin: 0 12px;\n    img {\n      width: 36px;\n      height: 36px;\n      margin-right: 7px;\n    }\n    div {\n      font-size: 26px;\n      color: #cccccc;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"category-infos\">\n    <div\n      v-for=\"(item, index) in categoryInfos\"\n      :key=\"index\"\n      class=\"category-info\"\n    >\n      <div class=\"title pf-simbold\">{{ item.title }}</div>\n      <div class=\"categorys\">\n        <div\n          v-for=\"(item2, index2) in item.list\"\n          :key=\"index2\"\n          class=\"category\"\n          :class=\"\n            selectCategory &&\n            item2.categoryId === selectCategory.categoryId &&\n            item2.title === selectCategory.title && ['active', 'pf-medium']\n          \"\n          @click=\"selectClick(item2)\"\n        >\n          {{ item2.title }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { CategorysType, CategoryType } from '@/constant/classifySort'\nimport { PropType } from 'vue'\n\ndefineProps({\n  categoryInfos: {\n    type: Array as PropType<CategorysType[]>,\n    default() {\n      return []\n    }\n  },\n  selectCategory: {\n    type: Object as PropType<CategoryType>,\n    default() {\n      return null\n    }\n  }\n})\nconst emit = defineEmits(['select'])\n\nconst selectClick = (category: CategoryType) => {\n  emit('select', category)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.category-infos {\n  padding: 0 24px 48px;\n  .category-info {\n    .title {\n      padding-top: 48px;\n      font-size: 24px;\n      line-height: 30px;\n      color: #121212;\n    }\n    .categorys {\n      display: flex;\n      flex-wrap: wrap;\n      .category {\n        width: 160px;\n        height: 52px;\n        line-height: 52px;\n        box-sizing: border-box;\n        text-align: center;\n        color: #262626;\n        background: #ffffff;\n        font-size: 24px;\n        border-radius: 8px;\n        margin-top: 20px;\n        margin-right: 20px;\n        @include ellicpsis;\n        &:nth-child(4n) {\n          margin-right: 0;\n        }\n        &.active {\n          color: #ff5900;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"districts\">\n    <div\n      v-for=\"(item, index) in districts\"\n      :key=\"index\"\n      class=\"district\"\n      :class=\"\n        selectDistrict &&\n        item.id === selectDistrict.id &&\n        item.name === selectDistrict.name && ['active', 'pf-medium']\n      \"\n      @click=\"selectClick(item)\"\n    >\n      {{ item.name }}\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { DistrictType } from '@/constant/classifySort'\nimport { PropType } from 'vue'\n\ndefineProps({\n  districts: {\n    type: Array as PropType<DistrictType[]>,\n    default() {\n      return []\n    }\n  },\n  selectDistrict: {\n    type: Object as PropType<DistrictType>,\n    default() {\n      return null\n    }\n  }\n})\nconst emit = defineEmits(['select'])\n\nconst selectClick = (district: DistrictType) => {\n  emit('select', district)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.districts {\n  padding: 0 24px 48px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  .district {\n    width: 50%;\n    height: 32px;\n    line-height: 32px;\n    color: #262626;\n    font-size: 24px;\n    margin-top: 44px;\n    @include ellicpsis;\n    &.active {\n      color: #ff5900;\n    }\n  }\n}\n</style>\n","<template>\n  <component :is=\"componentName\" class=\"classify-sort\" :offset-top=\"offsetTop\">\n    <VanDropdownMenu>\n      <VanDropdownItem\n        v-if=\"options.indexOf(FilterTypes.CATEGORY) > -1\"\n        ref=\"categoryDropdownItem\"\n        disabled\n        :lazy-render=\"false\"\n        @open=\"classifyOpen\"\n        @closed=\"classifyClosed\"\n      >\n        <template #title>\n          <div class=\"title\" @click=\"categoryClick\">\n            {{ selectCategoryTitle }}<i></i>\n          </div>\n        </template>\n        <template #default>\n          <ClassifyCategoryInfos\n            :category-infos=\"allCategoryInfos\"\n            :select-category=\"selectCategory\"\n            @select=\"categorySelect\"\n          ></ClassifyCategoryInfos>\n        </template>\n      </VanDropdownItem>\n      <VanDropdownItem\n        v-if=\"options.indexOf(FilterTypes.DISTRICT) > -1\"\n        ref=\"districtDropdownItem\"\n        disabled\n        :lazy-render=\"false\"\n        @open=\"classifyOpen\"\n        @closed=\"classifyClosed\"\n      >\n        <template #title>\n          <div class=\"title\" @click=\"districtClick\">\n            {{ selectDistrict && selectDistrict.name }}<i></i>\n          </div>\n        </template>\n        <template #default>\n          <ClassifyDistricts\n            :districts=\"allDistricts\"\n            :select-district=\"selectDistrict\"\n            @select=\"districtSelect\"\n          ></ClassifyDistricts>\n        </template>\n      </VanDropdownItem>\n      <VanDropdownItem\n        v-if=\"options.indexOf(FilterTypes.DISTANCE) > -1\"\n        disabled\n      >\n        <template #title>\n          <div\n            :class=\"['title', filterData.distanceSort && 'active']\"\n            @click=\"sortToggle('distanceSort')\"\n          >\n            距离\n          </div>\n        </template>\n      </VanDropdownItem>\n      <VanDropdownItem v-if=\"options.indexOf(FilterTypes.EARN) > -1\" disabled>\n        <template #title>\n          <div\n            :class=\"['title', filterData.shareAmountSort && 'active']\"\n            @click=\"sortToggle('shareAmountSort')\"\n          >\n            佣金\n          </div>\n        </template>\n      </VanDropdownItem>\n      <VanDropdownItem v-if=\"options.indexOf(FilterTypes.GOOD) > -1\" disabled>\n        <template #title>\n          <div\n            :class=\"['title', filterData.storeFavPersonNumSort && 'active']\"\n            @click=\"sortToggle('storeFavPersonNumSort')\"\n          >\n            好评\n          </div>\n        </template>\n      </VanDropdownItem>\n      <VanDropdownItem v-if=\"options.indexOf(FilterTypes.SALE) > -1\" disabled>\n        <template #title>\n          <div\n            :class=\"['title', filterData.saleNumSort && 'active']\"\n            @click=\"sortToggle('saleNumSort')\"\n          >\n            销量\n          </div>\n        </template>\n      </VanDropdownItem>\n    </VanDropdownMenu>\n    <VanCheckbox\n      v-if=\"options.indexOf(FilterTypes.EARNONLY) > -1\"\n      v-model=\"shareGoodsOnlyBoolean\"\n      class=\"classify-check\"\n      checked-color=\"#ff5900\"\n      >仅看xxx的商品</VanCheckbox\n    >\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, ref, Ref } from 'vue'\nimport {\n  DropdownMenu as VanDropdownMenu,\n  DropdownItem as VanDropdownItem,\n  Checkbox as VanCheckbox\n} from 'vant'\nimport ClassifyCategoryInfos from './ClassifyCategoryInfos.vue'\nimport ClassifyDistricts from './ClassifyDistricts.vue'\nimport {\n  CategorysType,\n  DistrictType,\n  FilterDataType,\n  FilterTypes\n} from '@/constant/classifySort'\nimport {\n  getCategory,\n  getClassify,\n  getDistrict,\n  getFilterComponent,\n  getSort\n} from '@/composables/classify-sort/classifySort'\n\nconst props = defineProps({\n  /* 显示的选项 */\n  options: {\n    type: Array as PropType<string[]>,\n    default() {\n      // 品类筛选、城区筛选、距离排序、佣金排序、销量排序、好评排序、过滤无分享赚\n      return Object.values(FilterTypes)\n    }\n  },\n  /* 是否立刻执行过滤 */\n  immediate: {\n    type: Boolean,\n    default: false\n  },\n  /* 初始筛选条件 */\n  initialFilter: {\n    type: Object as PropType<FilterDataType>,\n    default() {\n      return {}\n    }\n  },\n  categoryInfos: {\n    type: Array as PropType<CategorysType[]>,\n    default() {\n      return []\n    }\n  },\n  districts: {\n    type: Array as PropType<DistrictType[]>,\n    default() {\n      return []\n    }\n  },\n  /* 是否开启吸顶 */\n  sticky: {\n    type: Boolean,\n    default: true\n  },\n  /* 触发吸顶需要滚动的距离 */\n  stickyDistance: {\n    type: Number,\n    default: 0\n  },\n  /* 吸顶后距离顶部的距离 */\n  offsetTop: {\n    type: [Number, String],\n    default: 0\n  }\n})\nconst emit = defineEmits(['filter-change'])\n\nconst { componentName, filterData, shareGoodsOnlyBoolean, resetFilterData } =\n  getFilterComponent(props, emit)\n\nconst { classifyOpen, classifyClosed } = getClassify(props)\n\nconst categoryDropdownItem: Ref<any> = ref(null)\nconst districtDropdownItem: Ref<any> = ref(null)\nconst {\n  allCategoryInfos,\n  selectCategory,\n  selectCategoryTitle,\n  categoryClick,\n  categorySelect\n} = getCategory(props, filterData, [categoryDropdownItem, districtDropdownItem])\n\nconst { allDistricts, selectDistrict, districtClick, districtSelect } =\n  getDistrict(props, filterData, [districtDropdownItem, categoryDropdownItem])\n\nconst { sortToggle } = getSort(props, filterData, [\n  categoryDropdownItem,\n  districtDropdownItem\n])\n\ndefineExpose({\n  resetFilterData\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.classify-sort {\n  overflow: hidden;\n  .van-dropdown-menu {\n    :deep(.van-dropdown-menu__bar) {\n      height: auto;\n      padding-left: 24px;\n      overflow: hidden;\n      flex-wrap: nowrap;\n      box-shadow: none;\n      background: #ffffff;\n      .van-dropdown-menu__item {\n        margin-right: 18px;\n        flex: none;\n\n        .van-dropdown-menu__title {\n          padding: 0;\n          &::after {\n            display: none;\n          }\n          .title {\n            width: 162px;\n            height: 60px;\n            line-height: 60px;\n            text-align: center;\n            font-size: 26px;\n            color: #666666;\n            background: #ffffff;\n            border-top-left-radius: 8px;\n            border-top-right-radius: 8px;\n            @include ellicpsis;\n            i {\n              display: inline-block;\n              vertical-align: middle;\n              width: 10px;\n              height: 8px;\n              background: url('@/assets/images/classify-sort/icon-arrow-down.png')\n                0 0/100% 100% no-repeat;\n              margin-left: 8px;\n            }\n          }\n          .title.active {\n            color: #ff5900;\n          }\n        }\n        .van-dropdown-menu__title.van-dropdown-menu__title--down {\n          .title {\n            background: #f6f6f6;\n            i {\n              transform: rotate(180deg);\n            }\n          }\n        }\n      }\n    }\n    :deep(.van-dropdown-item) {\n      .van-overlay {\n        top: 2px;\n      }\n      .van-dropdown-item__content {\n        background: #f6f6f6;\n        border-bottom-left-radius: 16px;\n        border-bottom-right-radius: 16px;\n      }\n    }\n  }\n  .classify-check {\n    height: 60px;\n    margin: 20px 24px;\n    justify-content: center;\n    background: #fff3ed;\n    overflow: initial;\n    border: 2px solid #ff5900;\n    border-radius: 6px;\n    :deep(.van-checkbox__icon) {\n      height: auto;\n      i {\n        width: 28px;\n        height: 28px;\n        line-height: 28px;\n        &::before {\n          width: 100%;\n          height: 100%;\n          font-size: 20px;\n          line-height: 28px;\n        }\n      }\n    }\n    :deep(.van-checkbox__label) {\n      font-size: 26px;\n      color: #ff5900;\n      line-height: 30px;\n      margin-left: 8px;\n    }\n  }\n}\n</style>\n","import { Sticky as VanSticky } from 'vant'\nimport {\n  CategoryAll,\n  CategorysType,\n  CategoryType,\n  DistrictAll,\n  DistrictType,\n  FilterTypes,\n  FilterDataType\n} from '@/constant/classifySort'\nimport {\n  computed,\n  getCurrentInstance,\n  markRaw,\n  ref,\n  Ref,\n  toRefs,\n  watch\n} from 'vue'\n\nexport const getFilterComponent = (props: any, emit: any) => {\n  const { immediate, initialFilter, sticky, options } = toRefs(props)\n\n  const componentName: Ref<any> = ref('div')\n  if (sticky.value) {\n    // 当使用compoentis传入组件时需要把引入的组件对象使用markRaw函数修改为不响应的原始值\n    componentName.value = markRaw(VanSticky)\n  }\n  const initFilterData: any = {}\n  if (options.value.indexOf(FilterTypes.DISTANCE) > -1) {\n    initFilterData.distanceSort = false\n  }\n  if (options.value.indexOf(FilterTypes.GOOD) > -1) {\n    initFilterData.storeFavPersonNumSort = false\n  }\n  if (options.value.indexOf(FilterTypes.EARN) > -1) {\n    initFilterData.shareAmountSort = false\n  }\n  if (options.value.indexOf(FilterTypes.SALE) > -1) {\n    initFilterData.saleNumSort = false\n  }\n  if (options.value.indexOf(FilterTypes.EARNONLY) > -1) {\n    initFilterData.shareGoodsOnly = 0\n  }\n  const filterData: Ref<FilterDataType> = ref({\n    ...initFilterData,\n    ...initialFilter.value\n  })\n  const shareGoodsOnlyBoolean = ref(!!filterData.value.shareGoodsOnly)\n  watch(shareGoodsOnlyBoolean, (val) => {\n    filterData.value.shareGoodsOnly = val ? 1 : 0\n  })\n  watch(\n    filterData,\n    () => {\n      emit('filter-change', filterData.value)\n    },\n    {\n      deep: true,\n      immediate: immediate.value\n    }\n  )\n  const resetFilterData = () => {\n    filterData.value = {\n      ...initFilterData,\n      ...initialFilter.value\n    }\n    shareGoodsOnlyBoolean.value = !!filterData.value.shareGoodsOnly\n  }\n  return {\n    componentName,\n    filterData,\n    shareGoodsOnlyBoolean,\n    resetFilterData\n  }\n}\n\nexport const getClassify = (props: any) => {\n  const { sticky, stickyDistance } = toRefs(props)\n\n  const internalInstance = getCurrentInstance()\n\n  /* 获取父元素 */\n  function getParentDom() {\n    if (internalInstance && internalInstance.proxy) {\n      const element = internalInstance && internalInstance.proxy.$el\n      return element.parentElement || { style: {} }\n    }\n    return { style: {} }\n  }\n\n  let oldParentHeight: any\n  /* 菜单打开前吸顶 */\n  const classifyOpen = () => {\n    if (sticky.value) {\n      if (window.scrollY < Math.ceil(stickyDistance.value)) {\n        oldParentHeight = getParentDom().style.minHeight\n        getParentDom().style.minHeight = '100vh'\n        window.scrollTo(0, Math.ceil(stickyDistance.value))\n      } else {\n        /* 解决VanDropdownMenu手动滚动吸顶后，menu的滚动位置不再改变导致offset不会更新，导致下拉菜单top位置不对的问题\n          源码：/node_modules/vant/es/dropdown-menu/DropdownMenu.js\n          var onScroll = () => {\n            if (opened.value) {\n              updateOffset();\n            }\n          };\n          解决方法：手动给Menu制造一个滚动，触发updateOffset()\n        */\n        const scrollY = window.scrollY\n        window.scrollTo(0, 0)\n        window.scrollTo(0, scrollY)\n      }\n    }\n  }\n  /* 菜单关闭后恢复设置的minHeight */\n  const classifyClosed = () => {\n    if (sticky.value) {\n      if (oldParentHeight !== undefined) {\n        getParentDom().style.minHeight = oldParentHeight\n        oldParentHeight = undefined\n      }\n    }\n  }\n  return {\n    classifyOpen,\n    classifyClosed\n  }\n}\n\nexport const getCategory = (\n  props: any,\n  filterData: Ref<FilterDataType>,\n  dropdownItems: Ref<any>[]\n) => {\n  const { categoryInfos } = toRefs(props)\n  const [categoryDropdownItem, districtDropdownItem] = dropdownItems\n\n  const allCategoryInfos: Ref<CategorysType[]> = computed(() => {\n    return [CategoryAll, ...categoryInfos.value]\n  })\n\n  const selectCategory: Ref<CategoryType | undefined> = computed(() => {\n    const selectCategoryId = filterData.value.level4CategoryId\n      ? filterData.value.level4CategoryId.join(',')\n      : ''\n    for (const categoryInfo of allCategoryInfos.value) {\n      for (const category of categoryInfo.list) {\n        if (category.categoryId == selectCategoryId) {\n          selectCategoryTitle.value =\n            category.title == '全部' ? categoryInfo.title : category.title\n          return category\n        }\n      }\n    }\n    return undefined\n  })\n  const selectCategoryTitle = ref('全部')\n  const categoryClick = () => {\n    if (\n      districtDropdownItem.value &&\n      districtDropdownItem.value.state.showPopup\n    ) {\n      // 关闭其他下拉菜单\n      districtDropdownItem.value && districtDropdownItem.value.toggle(false)\n    } else {\n      categoryDropdownItem.value && categoryDropdownItem.value.toggle()\n    }\n  }\n  const categorySelect = (category: CategoryType) => {\n    if (category.categoryId) {\n      filterData.value.level4CategoryId = category.categoryId.split(',')\n    } else {\n      delete filterData.value.level4CategoryId\n    }\n    categoryDropdownItem.value && categoryDropdownItem.value.toggle(false)\n  }\n\n  return {\n    allCategoryInfos,\n    selectCategory,\n    selectCategoryTitle,\n    categoryClick,\n    categorySelect\n  }\n}\n\nexport const getDistrict = (\n  props: any,\n  filterData: Ref<FilterDataType>,\n  dropdownItems: Ref<any>[]\n) => {\n  const { districts } = toRefs(props)\n  const [districtDropdownItem, categoryDropdownItem] = dropdownItems\n\n  const allDistricts: Ref<DistrictType[]> = computed(() => {\n    return [DistrictAll, ...districts.value]\n  })\n\n  const selectDistrict: Ref<DistrictType | undefined> = computed(() => {\n    const selectDistrictId = filterData.value.districtId\n    return allDistricts.value.find((item) => item.id === selectDistrictId)\n  })\n\n  const districtClick = () => {\n    if (\n      categoryDropdownItem.value &&\n      categoryDropdownItem.value.state.showPopup\n    ) {\n      // 关闭其他下拉菜单\n      categoryDropdownItem.value && categoryDropdownItem.value.toggle(false)\n    } else {\n      districtDropdownItem.value && districtDropdownItem.value.toggle()\n    }\n  }\n  const districtSelect = (district: DistrictType) => {\n    if (district.id) {\n      filterData.value.districtId = district.id\n    } else {\n      delete filterData.value.districtId\n    }\n    districtDropdownItem.value && districtDropdownItem.value.toggle(false)\n  }\n\n  return {\n    allDistricts,\n    selectDistrict,\n    districtClick,\n    districtSelect\n  }\n}\n\nexport const getSort = (\n  props: any,\n  filterData: Ref<FilterDataType>,\n  dropdownItems: Ref<any>[]\n) => {\n  const [categoryDropdownItem, districtDropdownItem] = dropdownItems\n\n  /* 排序按钮点击切换 */\n  const sortToggle = (sortKey: string) => {\n    const newSort = !filterData.value[sortKey]\n    if (filterData.value.hasOwnProperty('distanceSort')) {\n      filterData.value.distanceSort = false\n    }\n    if (filterData.value.hasOwnProperty('shareAmountSort')) {\n      filterData.value.shareAmountSort = false\n    }\n    if (filterData.value.hasOwnProperty('storeFavPersonNumSort')) {\n      filterData.value.storeFavPersonNumSort = false\n    }\n    if (filterData.value.hasOwnProperty('saleNumSort')) {\n      filterData.value.saleNumSort = false\n    }\n    filterData.value[sortKey] = newSort\n    // 关闭所有下拉菜单\n    categoryDropdownItem.value && categoryDropdownItem.value.toggle(false)\n    districtDropdownItem.value && districtDropdownItem.value.toggle(false)\n  }\n  return {\n    sortToggle\n  }\n}\n","<template>\n  <VanEmpty :image=\"showImage\" :image-size=\"120\" :description=\"text\">\n    <slot></slot>\n  </VanEmpty>\n</template>\n<script lang=\"ts\" setup>\nimport { Empty as VanEmpty } from 'vant'\nimport { computed, toRefs } from 'vue'\nimport imageEmpty from '@/assets/images/empty-error/icon-empty.png'\nimport imageError from '@/assets/images/empty-error/icon-error.png'\n\nconst props = defineProps({\n  type: {\n    type: String,\n    default: 'error'\n  },\n  image: {\n    type: String,\n    default: ''\n  },\n  text: {\n    type: String,\n    default: ''\n  }\n})\nconst { type, image } = toRefs(props)\n\nconst showImage = computed(() => {\n  if (image.value) {\n    return image.value\n  } else if (type.value == 'error') {\n    return imageError\n  } else if (type.value == 'empty') {\n    return imageEmpty\n  } else {\n    return ''\n  }\n})\n</script>\n<style scoped>\n:deep(.van-empty__bottom) {\n  margin-top: 48px;\n}\n</style>\n","export default \"__VITE_ASSET__8aacf827__\"","export default \"__VITE_ASSET__a1d40f34__\"","import { createApp } from 'vue'\nimport { ConfigProvider } from 'vant'\n\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport { setupComponents } from './plugins/components'\nimport { setupDirectives } from './plugins/directives'\nimport { setupMethods } from './plugins/middlewares'\nimport { setupMixins } from './plugins/mixins'\nimport '@/assets/css/normalize.scss'\n\nconst app = createApp(App)\nsetupComponents(app)\nsetupDirectives(app)\nsetupMethods(app)\nsetupMixins(app)\napp.use(ConfigProvider)\napp.use(store).use(router).mount('#app')\n","import { App } from 'vue'\nimport BaseImg from '@/components/base-img/BaseImg.vue'\nimport ElementItem from '@/components/element-item/ElementItem.vue'\nimport ElementNum from '@/components/element-num/ElementNum.vue'\nimport ElementNum2 from '@/components/element-num/ElementNum2.vue'\nimport ElementCell from '@/components/element-cell/ElementCell.vue'\nimport TitleBar from '@/components/title-bar/TitleBar.vue'\nimport ClassifySort from '@/components/classify-sort/ClassifySort.vue'\nimport EmptyError from '@/components/empty-error/EmptyError.vue'\n\n/**\n * 注册全组件\n * @param app\n */\nexport function setupComponents(app: App) {\n  app.component('BaseImg', BaseImg)\n  app.component('ElementItem', ElementItem)\n  app.component('ElementNum', ElementNum)\n  app.component('ElementNum2', ElementNum2)\n  app.component('ElementCell', ElementCell)\n  app.component('TitleBar', TitleBar)\n  app.component('ClassifySort', ClassifySort)\n  app.component('EmptyError', EmptyError)\n}\n","import { App } from 'vue'\nimport { Toast } from 'vant'\n\n/**\n * 注册全局方法\n * @param app\n */\nexport function setupMethods(app: App) {\n  app.config.globalProperties.$toast = Toast\n}\n","import { App } from 'vue'\n\n/**\n * 注册全局mixin\n * @param app\n */\nexport function setupMixins(app: App) {\n  app.mixin({})\n}\n"],"names":["isShow","loadDom","document","querySelector","style","display","url","uid","jsCookie","get","skey","referUrl","location","href","encodeURIComponent","relList","createElement","supports","link","querySelectorAll","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","p","localStore","storage","inMemoryStorage","testKey","setItem","removeItem","e","getItem","name","isSupported","JSON","parse","hasOwnProperty","value","stringify","String","clear","key","index","Object","keys","storageFactory","localStorage","AMap","Promise","resolve","reject","window","Map","err","onAMapLoaded","plugin","geolocation","Geolocation","enableHighAccuracy","timeout","buttonOffset","Pixel","zoomToAccuracy","buttonPosition","getCurrentPosition","event","addListener","data","log","addressComponent","position","cityId","adcode","city","obj","cityName","replace","lat","lng","error","cache","locationStorage","now","Date","res","time","getH5Location","__spreadProps","STORAGE_KEYS","COOKIE_KEYS","DefaultCity","selectCity","split","citycode","set","auth","cloudbase","init","env","persistence","options","loading","toasting","authHeader","getAuthHeader","toast","service","axios","create","headers","interceptors","request","use","config","Toast","forbidClick","duration","response","http","createService","withCredentials","lHttp","ajax","userAgent","navigator","console","iPhone","match","iPad","mac","isIOS","sfc","props","val","body","classList","add","defineComponent","setup","useStore","dispatch","meta","_component_router_view","_KeepAlive","seen","urlPrefixes","api","getLocationData","store2","location2","ref","cityInfo","districts","locationLoaded","__async","getLocation","cookieCity","getSelectCity","titleBarDom","titleBarHeight","getBoundingClientRect","height","commit","districtList","result","DistrictList","queryDistricts","map","item","id","ID","NAME","queryHomeConfig","queryHomeList","queryAllElements","params","post","code","msg","message","getHomeMain","banners","ads","recommendElements","homeConfig","elements","mainDom","mainHeight","adIndex","bannerClick","banner","adClick","adChange","toRefs","CategoryAll","title","categoryId","list","DistrictAll","FilterTypes","CATEGORY","DISTRICT","DISTANCE","EARN","SALE","GOOD","EARNONLY","getOffsetTop","tabOffsetTop","computed","state","home","classifySortOffsetTop","tabsDom","tabHeight","classifySortStickyDistance","getGroupList","classifySort","groupList","reactive","finished","start","load","longLatitude","openOption","groupCategoryInfo","length","filterData","tabs","categoryInfo","groupInfo","newGroups","push","total","groupFilterOptions","groupFilterInitData","shareGoodsOnly","distanceSort","groupFilterIsClassify","level4CategoryId","districtId","groupFilterChange","newFilterData","scrollY","scrollTo","Math","floor","groupFilterReset","resetFilterData","moreGroupElements","group","param","__spreadValues","isSpec","limit","allElementInfo","elementInfo","filter","some","item2","concat","getElementList","elementList","elementCategoryInfo","newElements","elementFilterOptions","elementFilterInitData","shareAmountSort","elementFilterIsClassify","elementFilterChange","elementFilterReset","selectedTab","groupClassifySort","elementClassifySort","router2","useRouter","ensureLogin","getShareList","then","catch","deleteSuccess","page1Config","page1Data","page1Groups","queryPage1Config","level3CategoryId","cityCode","qs","tabname","getThemeDetail","forEach","detailDomText","selectedThemeImages","imageDom","exist","detailDom","DOMParser","parseFromString","childNodes","imageDetail","className","appendChild","selectedTheme","theme","images","imgUrl","selectedThemeImageStart","themeDetailShow","remove","themeDetailImages","themeDetailImageIndex","themeDetailElement","getMinElement","showThemeDetail","picIndex","themeDetailImageChange","showTabs","getTabs","getPage1Data","route","useRoute","groupedCitys","citysKeys","allCitys","queryAllCitys","groupBy","PINYIN","citys","values","sort","item1","nextTick","cityClick","referrer","query","decodeURIComponent","toString","getCityChooseData","searchValue","getSearchBarData","searchClick","routes","path","alias","component","Home","keepAlive","CheckList","Page1","CityChoose","Search","phoneNumber","phonePattern","password","phoneCode","sendText","loginText","phoneUpdate","sendTime","nowTime","diffTime","interval","setInterval","loginForm","sendClick","validate","sendPhoneCode","submit","signInWithPhoneCodeOrPassword","signUpWithPhoneCode","router","createRouter","history","createWebHistory","scrollBehavior","to","from","savedPosition","hash","el","left","top","beforeEach","next","baseModule","deps","indexOf","all","dep","isCss","endsWith","cssSelector","as","crossOrigin","head","rej","addEventListener","v","default","afterEach","createStore","userInfo","setUserInfo","actions","queryUserInfo","_0","user","getCurrenUser","modules","namespaced","setTitleBarHeight","setMainHeight","getters","components","VanImage","width","Number","fit","src","attrs","this","$props","parseInt","checkElement","uncheckElement","getElementCheck","emit","elementId","elementAddClick","elementDelClick","spuIds","element","elementNum","elementShareStatus","elementShareInfo","desc","poster","image","elementShareShow","elementShareImgtxt","_sfc_main","num","n","_cache","_openBlock","_createElementBlock","_hoisted_2","minNum","maxNum","class","_createElementVNode","_hoisted_3","_toDisplayString","_hoisted_4","_createCommentVNode","_component_ElementNum","componentName","shareGoodsOnlyBoolean","immediate","initialFilter","sticky","markRaw","VanSticky","initFilterData","storeFavPersonNumSort","saleNumSort","deep","getFilterComponent","classifyOpen","classifyClosed","stickyDistance","internalInstance","getCurrentInstance","proxy","$el","parentElement","oldParentHeight","ceil","getParentDom","minHeight","getClassify","categoryDropdownItem","districtDropdownItem","allCategoryInfos","selectCategory","selectCategoryTitle","categoryClick","categorySelect","dropdownItems","categoryInfos","selectCategoryId","join","category","showPopup","toggle","getCategory","allDistricts","selectDistrict","districtClick","districtSelect","selectDistrictId","find","district","getDistrict","sortToggle","sortKey","newSort","getSort","showImage","app","createApp","App","app2","BaseImg","ElementItem","ElementNum","ElementNum2","ElementCell","TitleBar","ClassifySort","EmptyError","globalProperties","$toast","setupMethods","mixin","setupMixins","ConfigProvider","store","mount"],"mappings":"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"}