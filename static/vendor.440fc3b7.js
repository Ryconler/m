var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;function i(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const s=i("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function a(e){return!!e||""===e}function u(e){if(T(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=R(r)?f(r):u(r);if(o)for(const e in o)t[e]=o[e]}return t}return R(e)||P(e)?e:void 0}const c=/;(?![^(]*\))/g,l=/:(.+)/;function f(e){const t={};return e.split(c).forEach((e=>{if(e){const n=e.split(l);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function h(e){let t="";if(R(e))t=e;else if(T(e))for(let n=0;n<e.length;n++){const r=h(e[n]);r&&(t+=r+" ")}else if(P(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e){if(!e)return null;let{class:t,style:n}=e;return t&&!R(t)&&(e.class=h(t)),n&&(e.style=u(n)),e}const d=e=>null==e?"":T(e)||P(e)&&(e.toString===j||!C(e.toString))?JSON.stringify(e,g,2):String(e),g=(e,t)=>t&&t.__v_isRef?g(e,t.value):x(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:N(t)?{[`Set(${t.size})`]:[...t.values()]}:!P(t)||T(t)||D(t)?t:String(t),v={},y=[],m=()=>{},_=()=>!1,b=/^on[^a-z]/,w=e=>b.test(e),E=e=>e.startsWith("onUpdate:"),S=Object.assign,O=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},I=Object.prototype.hasOwnProperty,A=(e,t)=>I.call(e,t),T=Array.isArray,x=e=>"[object Map]"===U(e),N=e=>"[object Set]"===U(e),C=e=>"function"==typeof e,R=e=>"string"==typeof e,k=e=>"symbol"==typeof e,P=e=>null!==e&&"object"==typeof e,L=e=>P(e)&&C(e.then)&&C(e.catch),j=Object.prototype.toString,U=e=>j.call(e),D=e=>"[object Object]"===U(e),M=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,B=i(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},q=/-(\w)/g,W=F((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),$=/\B([A-Z])/g,V=F((e=>e.replace($,"-$1").toLowerCase())),H=F((e=>e.charAt(0).toUpperCase()+e.slice(1))),G=F((e=>e?`on${H(e)}`:"")),z=(e,t)=>!Object.is(e,t),K=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},J=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Y=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let X;let Z;const Q=[];class ee{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Z&&(this.parent=Z,this.index=(Z.scopes||(Z.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Q.push(this),Z=this)}off(){this.active&&(Q.pop(),Z=Q[Q.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const te=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ne=e=>(e.w&se)>0,re=e=>(e.n&se)>0,oe=new WeakMap;let ie=0,se=1;const ae=[];let ue;const ce=Symbol(""),le=Symbol("");class fe{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||Z)&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();if(!ae.includes(this))try{return ae.push(ue=this),de.push(pe),pe=!0,se=1<<++ie,ie<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=se})(this):he(this),this.fn()}finally{ie<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];ne(o)&&!re(o)?o.delete(e):t[n++]=o,o.w&=~se,o.n&=~se}t.length=n}})(this),se=1<<--ie,ve(),ae.pop();const e=ae.length;ue=e>0?ae[e-1]:void 0}}stop(){this.active&&(he(this),this.onStop&&this.onStop(),this.active=!1)}}function he(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let pe=!0;const de=[];function ge(){de.push(pe),pe=!1}function ve(){const e=de.pop();pe=void 0===e||e}function ye(e,t,n){if(!me())return;let r=oe.get(e);r||oe.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=te()),_e(o)}function me(){return pe&&void 0!==ue}function _e(e,t){let n=!1;ie<=30?re(e)||(e.n|=se,n=!ne(e)):n=!e.has(ue),n&&(e.add(ue),ue.deps.push(e))}function be(e,t,n,r,o,i){const s=oe.get(e);if(!s)return;let a=[];if("clear"===t)a=[...s.values()];else if("length"===n&&T(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&a.push(e)}));else switch(void 0!==n&&a.push(s.get(n)),t){case"add":T(e)?M(n)&&a.push(s.get("length")):(a.push(s.get(ce)),x(e)&&a.push(s.get(le)));break;case"delete":T(e)||(a.push(s.get(ce)),x(e)&&a.push(s.get(le)));break;case"set":x(e)&&a.push(s.get(ce))}if(1===a.length)a[0]&&we(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);we(te(e))}}function we(e,t){for(const n of T(e)?e:[...e])(n!==ue||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Ee=i("__proto__,__v_isRef,__isVue"),Se=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(k)),Oe=Ne(),Ie=Ne(!1,!0),Ae=Ne(!0),Te=xe();function xe(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ht(this);for(let t=0,o=this.length;t<o;t++)ye(n,0,t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(ht)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ge();const n=ht(this)[t].apply(this,e);return ve(),n}})),e}function Ne(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?ot:rt:t?nt:tt).get(n))return n;const i=T(n);if(!e&&i&&A(Te,r))return Reflect.get(Te,r,o);const s=Reflect.get(n,r,o);if(k(r)?Se.has(r):Ee(r))return s;if(e||ye(n,0,r),t)return s;if(mt(s)){return!i||!M(r)?s.value:s}return P(s)?e?at(s):st(s):s}}function Ce(e=!1){return function(t,n,r,o){let i=t[n];if(!e&&(r=ht(r),i=ht(i),!T(t)&&mt(i)&&!mt(r)))return i.value=r,!0;const s=T(t)&&M(n)?Number(n)<t.length:A(t,n),a=Reflect.set(t,n,r,o);return t===ht(o)&&(s?z(r,i)&&be(t,"set",n,r):be(t,"add",n,r)),a}}const Re={get:Oe,set:Ce(),deleteProperty:function(e,t){const n=A(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&be(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return k(t)&&Se.has(t)||ye(e,0,t),n},ownKeys:function(e){return ye(e,0,T(e)?"length":ce),Reflect.ownKeys(e)}},ke={get:Ae,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Pe=S({},Re,{get:Ie,set:Ce(!0)}),Le=e=>e,je=e=>Reflect.getPrototypeOf(e);function Ue(e,t,n=!1,r=!1){const o=ht(e=e.__v_raw),i=ht(t);t!==i&&!n&&ye(o,0,t),!n&&ye(o,0,i);const{has:s}=je(o),a=r?Le:n?gt:dt;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function De(e,t=!1){const n=this.__v_raw,r=ht(n),o=ht(e);return e!==o&&!t&&ye(r,0,e),!t&&ye(r,0,o),e===o?n.has(e):n.has(e)||n.has(o)}function Me(e,t=!1){return e=e.__v_raw,!t&&ye(ht(e),0,ce),Reflect.get(e,"size",e)}function Be(e){e=ht(e);const t=ht(this);return je(t).has.call(t,e)||(t.add(e),be(t,"add",e,e)),this}function Fe(e,t){t=ht(t);const n=ht(this),{has:r,get:o}=je(n);let i=r.call(n,e);i||(e=ht(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?z(t,s)&&be(n,"set",e,t):be(n,"add",e,t),this}function qe(e){const t=ht(this),{has:n,get:r}=je(t);let o=n.call(t,e);o||(e=ht(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&be(t,"delete",e,void 0),i}function We(){const e=ht(this),t=0!==e.size,n=e.clear();return t&&be(e,"clear",void 0,void 0),n}function $e(e,t){return function(n,r){const o=this,i=o.__v_raw,s=ht(i),a=t?Le:e?gt:dt;return!e&&ye(s,0,ce),i.forEach(((e,t)=>n.call(r,a(e),a(t),o)))}}function Ve(e,t,n){return function(...r){const o=this.__v_raw,i=ht(o),s=x(i),a="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...r),l=n?Le:t?gt:dt;return!t&&ye(i,0,u?le:ce),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[l(e[0]),l(e[1])]:l(e),done:t}},[Symbol.iterator](){return this}}}}function He(e){return function(...t){return"delete"!==e&&this}}function Ge(){const e={get(e){return Ue(this,e)},get size(){return Me(this)},has:De,add:Be,set:Fe,delete:qe,clear:We,forEach:$e(!1,!1)},t={get(e){return Ue(this,e,!1,!0)},get size(){return Me(this)},has:De,add:Be,set:Fe,delete:qe,clear:We,forEach:$e(!1,!0)},n={get(e){return Ue(this,e,!0)},get size(){return Me(this,!0)},has(e){return De.call(this,e,!0)},add:He("add"),set:He("set"),delete:He("delete"),clear:He("clear"),forEach:$e(!0,!1)},r={get(e){return Ue(this,e,!0,!0)},get size(){return Me(this,!0)},has(e){return De.call(this,e,!0)},add:He("add"),set:He("set"),delete:He("delete"),clear:He("clear"),forEach:$e(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=Ve(o,!1,!1),n[o]=Ve(o,!0,!1),t[o]=Ve(o,!1,!0),r[o]=Ve(o,!0,!0)})),[e,n,t,r]}const[ze,Ke,Je,Ye]=Ge();function Xe(e,t){const n=t?e?Ye:Je:e?Ke:ze;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(A(n,r)&&r in t?n:t,r,o)}const Ze={get:Xe(!1,!1)},Qe={get:Xe(!1,!0)},et={get:Xe(!0,!1)},tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap;function it(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>U(e).slice(8,-1))(e))}function st(e){return e&&e.__v_isReadonly?e:ut(e,!1,Re,Ze,tt)}function at(e){return ut(e,!0,ke,et,rt)}function ut(e,t,n,r,o){if(!P(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=it(e);if(0===s)return e;const a=new Proxy(e,2===s?r:n);return o.set(e,a),a}function ct(e){return lt(e)?ct(e.__v_raw):!(!e||!e.__v_isReactive)}function lt(e){return!(!e||!e.__v_isReadonly)}function ft(e){return ct(e)||lt(e)}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function pt(e){return J(e,"__v_skip",!0),e}const dt=e=>P(e)?st(e):e,gt=e=>P(e)?at(e):e;function vt(e){me()&&((e=ht(e)).dep||(e.dep=te()),_e(e.dep))}function yt(e,t){(e=ht(e)).dep&&we(e.dep)}function mt(e){return Boolean(e&&!0===e.__v_isRef)}function _t(e){return bt(e,!1)}function bt(e,t){return mt(e)?e:new wt(e,t)}class wt{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ht(e),this._value=t?e:dt(e)}get value(){return vt(this),this._value}set value(e){e=this._shallow?e:ht(e),z(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:dt(e),yt(this))}}function Et(e){return mt(e)?e.value:e}const St={get:(e,t,n)=>Et(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return mt(o)&&!mt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Ot(e){return ct(e)?e:new Proxy(e,St)}function It(e){const t=T(e)?new Array(e.length):{};for(const n in e)t[n]=Tt(e,n);return t}class At{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Tt(e,t){const n=e[t];return mt(n)?n:new At(e,t)}class xt{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new fe(e,(()=>{this._dirty||(this._dirty=!0,yt(this))})),this.__v_isReadonly=n}get value(){const e=ht(this);return vt(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Nt(e,t){let n,r;const o=C(e);o?(n=e,r=m):(n=e.get,r=e.set);return new xt(n,r,o||!r)}function Ct(e,t,...n){const r=e.vnode.props||v;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=r[e]||v;i?o=n.map((e=>e.trim())):t&&(o=n.map(Y))}let a,u=r[a=G(t)]||r[a=G(W(t))];!u&&i&&(u=r[a=G(V(t))]),u&&uo(u,e,6,o);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,uo(c,e,6,o)}}function Rt(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let s={},a=!1;if(!C(e)){const r=e=>{const n=Rt(e,t,!0);n&&(a=!0,S(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||a?(T(i)?i.forEach((e=>s[e]=null)):S(s,i),r.set(e,s),s):(r.set(e,null),null)}function kt(e,t){return!(!e||!w(t))&&(t=t.slice(2).replace(/Once$/,""),A(e,t[0].toLowerCase()+t.slice(1))||A(e,V(t))||A(e,t))}Promise.resolve();let Pt=null,Lt=null;function jt(e){const t=Pt;return Pt=e,Lt=e&&e.type.__scopeId||null,t}function Ut(e){Lt=e}function Dt(){Lt=null}function Mt(e,t=Pt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Or(-1);const o=jt(t),i=e(...n);return jt(o),r._d&&Or(1),i};return r._n=!0,r._c=!0,r._d=!0,r}function Bt(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:f,data:h,setupState:p,ctx:d,inheritAttrs:g}=e;let v,y;const m=jt(e);try{if(4&n.shapeFlag){const e=o||r;v=Br(l.call(e,e,f,i,p,h,d)),y=u}else{const e=t;0,v=Br(e.length>1?e(i,{attrs:u,slots:a,emit:c}):e(i,null)),y=t.props?u:Ft(u)}}catch(b){br.length=0,co(b,e,1),v=Lr(mr)}let _=v;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=_;e.length&&7&t&&(s&&e.some(E)&&(y=qt(y,s)),_=Ur(_,y))}return n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),v=_,jt(m),v}const Ft=e=>{let t;for(const n in e)("class"===n||"style"===n||w(n))&&((t||(t={}))[n]=e[n]);return t},qt=(e,t)=>{const n={};for(const r in e)E(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Wt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!kt(n,i))return!0}return!1}function $t(e,t){if(Xr){let n=Xr.provides;const r=Xr.parent&&Xr.parent.provides;r===n&&(n=Xr.provides=Object.create(r)),n[e]=t}else;}function Vt(e,t,n=!1){const r=Xr||Pt;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&C(t)?t.call(r.proxy):t}}const Ht=[Function,Array],Gt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ht,onEnter:Ht,onAfterEnter:Ht,onEnterCancelled:Ht,onBeforeLeave:Ht,onLeave:Ht,onAfterLeave:Ht,onLeaveCancelled:Ht,onBeforeAppear:Ht,onAppear:Ht,onAfterAppear:Ht,onAppearCancelled:Ht},setup(e,{slots:t}){const n=Zr(),r=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn((()=>{e.isMounted=!0})),_n((()=>{e.isUnmounting=!0})),e}();let o;return()=>{const i=t.default&&Qt(t.default(),!0);if(!i||!i.length)return;const s=ht(e),{mode:a}=s,u=i[0];if(r.isLeaving)return Yt(u);const c=Xt(u);if(!c)return Yt(u);const l=Jt(c,s,r,n);Zt(c,l);const f=n.subTree,h=f&&Xt(f);let p=!1;const{getTransitionKey:d}=c.type;if(d){const e=d();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(h&&h.type!==mr&&(!Nr(c,h)||p)){const e=Jt(h,s,r,n);if(Zt(h,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Yt(u);"in-out"===a&&c.type!==mr&&(e.delayLeave=(e,t,n)=>{Kt(r,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return u}}},zt=Gt;function Kt(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Jt(e,t,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:d,onBeforeAppear:g,onAppear:v,onAfterAppear:y,onAppearCancelled:m}=t,_=String(e.key),b=Kt(n,e),w=(e,t)=>{e&&uo(e,r,9,t)},E={mode:i,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!o)return;r=g||a}t._leaveCb&&t._leaveCb(!0);const i=b[_];i&&Nr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),w(r,[t])},enter(e){let t=u,r=c,i=l;if(!n.isMounted){if(!o)return;t=v||u,r=y||c,i=m||l}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?i:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(f,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,r(),w(n?d:p,[t]),t._leaveCb=void 0,b[o]===e&&delete b[o])};b[o]=e,h?(h(t,s),h.length<=1&&s()):s()},clone:e=>Jt(e,t,n,r)};return E}function Yt(e){if(nn(e))return(e=Ur(e)).children=null,e}function Xt(e){return nn(e)?e.children?e.children[0]:void 0:e}function Zt(e,t){6&e.shapeFlag&&e.component?Zt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qt(e,t=!1){let n=[],r=0;for(let o=0;o<e.length;o++){const i=e[o];i.type===vr?(128&i.patchFlag&&r++,n=n.concat(Qt(i.children,t))):(t||i.type!==mr)&&n.push(i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function en(e){return C(e)?{setup:e,name:e.name}:e}const tn=e=>!!e.type.__asyncLoader,nn=e=>e.type.__isKeepAlive,rn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Zr(),r=n.ctx;if(!r.renderer)return t.default;const o=new Map,i=new Set;let s=null;const a=n.suspense,{renderer:{p:u,m:c,um:l,o:{createElement:f}}}=r,h=f("div");function p(e){fn(e),l(e,n,a)}function d(e){o.forEach(((t,n)=>{const r=so(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=o.get(e);s&&t.type===s.type?s&&fn(s):p(t),o.delete(e),i.delete(e)}r.activate=(e,t,n,r,o)=>{const i=e.component;c(e,t,n,0,a),u(i.vnode,e,t,n,i,a,r,e.slotScopeIds,o),er((()=>{i.isDeactivated=!1,i.a&&K(i.a);const t=e.props&&e.props.onVnodeMounted;t&&rr(t,i.parent,e)}),a)},r.deactivate=e=>{const t=e.component;c(e,h,null,1,a),er((()=>{t.da&&K(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&rr(n,t.parent,e),t.isDeactivated=!0}),a)},Lo((()=>[e.include,e.exclude]),(([e,t])=>{e&&d((t=>sn(e,t))),t&&d((e=>!sn(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&o.set(v,hn(n.subTree))};return vn(y),mn(y),_n((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,o=hn(t);if(e.type!==o.type)p(e);else{fn(o);const e=o.component.da;e&&er(e,r)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!(xr(r)&&(4&r.shapeFlag||128&r.shapeFlag)))return s=null,r;let a=hn(r);const u=a.type,c=so(tn(a)?a.type.__asyncResolved||{}:u),{include:l,exclude:f,max:h}=e;if(l&&(!c||!sn(l,c))||f&&c&&sn(f,c))return s=a,r;const p=null==a.key?u:a.key,d=o.get(p);return a.el&&(a=Ur(a),128&r.shapeFlag&&(r.ssContent=a)),v=p,d?(a.el=d.el,a.component=d.component,a.transition&&Zt(a,a.transition),a.shapeFlag|=512,i.delete(p),i.add(p)):(i.add(p),h&&i.size>parseInt(h,10)&&g(i.values().next().value)),a.shapeFlag|=256,s=a,r}}},on=rn;function sn(e,t){return T(e)?e.some((e=>sn(e,t))):R(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function an(e,t){cn(e,"a",t)}function un(e,t){cn(e,"da",t)}function cn(e,t,n=Xr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(pn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)nn(e.parent.vnode)&&ln(r,t,n,e),e=e.parent}}function ln(e,t,n,r){const o=pn(t,e,r,!0);bn((()=>{O(r[t],o)}),n)}function fn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function hn(e){return 128&e.shapeFlag?e.ssContent:e}function pn(e,t,n=Xr,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ge(),Qr(n);const o=uo(t,n,e,r);return eo(),ve(),o});return r?o.unshift(i):o.push(i),i}}const dn=e=>(t,n=Xr)=>(!no||"sp"===e)&&pn(e,t,n),gn=dn("bm"),vn=dn("m"),yn=dn("bu"),mn=dn("u"),_n=dn("bum"),bn=dn("um"),wn=dn("sp"),En=dn("rtg"),Sn=dn("rtc");function On(e,t=Xr){pn("ec",e,t)}let In=!0;function An(e){const t=Nn(e),n=e.proxy,r=e.ctx;In=!1,t.beforeCreate&&Tn(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:f,mounted:h,beforeUpdate:p,updated:d,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:_,destroyed:b,unmounted:w,render:E,renderTracked:S,renderTriggered:O,errorCaptured:I,serverPrefetch:A,expose:x,inheritAttrs:N,components:R,directives:k,filters:L}=t;if(c&&function(e,t,n=m,r=!1){T(e)&&(e=Pn(e));for(const o in e){const n=e[o];let i;i=P(n)?"default"in n?Vt(n.from||o,n.default,!0):Vt(n.from||o):Vt(n),mt(i)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[o]=i}}(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const m in s){const e=s[m];C(e)&&(r[m]=e.bind(n))}if(o){const t=o.call(n,n);P(t)&&(e.data=st(t))}if(In=!0,i)for(const T in i){const e=i[T],t=Nt({get:C(e)?e.bind(n,n):C(e.get)?e.get.bind(n,n):m,set:!C(e)&&C(e.set)?e.set.bind(n):m});Object.defineProperty(r,T,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}if(a)for(const m in a)xn(a[m],r,n,m);if(u){const e=C(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{$t(t,e[t])}))}function j(e,t){T(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(l&&Tn(l,e,"c"),j(gn,f),j(vn,h),j(yn,p),j(mn,d),j(an,g),j(un,v),j(On,I),j(Sn,S),j(En,O),j(_n,_),j(bn,w),j(wn,A),T(x))if(x.length){const t=e.exposed||(e.exposed={});x.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===m&&(e.render=E),null!=N&&(e.inheritAttrs=N),R&&(e.components=R),k&&(e.directives=k)}function Tn(e,t,n){uo(T(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function xn(e,t,n,r){const o=r.includes(".")?Do(n,r):()=>n[r];if(R(e)){const n=t[e];C(n)&&Lo(o,n)}else if(C(e))Lo(o,e.bind(n));else if(P(e))if(T(e))e.forEach((e=>xn(e,t,n,r)));else{const r=C(e.handler)?e.handler.bind(n):t[e.handler];C(r)&&Lo(o,r,e)}}function Nn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let u;return a?u=a:o.length||n||r?(u={},o.length&&o.forEach((e=>Cn(u,e,s,!0))),Cn(u,t,s)):u=t,i.set(t,u),u}function Cn(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Cn(e,i,n,!0),o&&o.forEach((t=>Cn(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=Rn[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Rn={data:kn,props:jn,emits:jn,methods:jn,computed:jn,beforeCreate:Ln,created:Ln,beforeMount:Ln,mounted:Ln,beforeUpdate:Ln,updated:Ln,beforeDestroy:Ln,beforeUnmount:Ln,destroyed:Ln,unmounted:Ln,activated:Ln,deactivated:Ln,errorCaptured:Ln,serverPrefetch:Ln,components:jn,directives:jn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=S(Object.create(null),e);for(const r in t)n[r]=Ln(e[r],t[r]);return n},provide:kn,inject:function(e,t){return jn(Pn(e),Pn(t))}};function kn(e,t){return t?e?function(){return S(C(e)?e.call(this,this):e,C(t)?t.call(this,this):t)}:t:e}function Pn(e){if(T(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ln(e,t){return e?[...new Set([].concat(e,t))]:t}function jn(e,t){return e?S(S(Object.create(null),e),t):t}function Un(e,t,n,r=!1){const o={},i={};J(i,Cr,1),e.propsDefaults=Object.create(null),Dn(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:ut(o,!1,Pe,Qe,nt):e.type.props?e.props=o:e.props=i,e.attrs=i}function Dn(e,t,n,r){const[o,i]=e.propsOptions;let s,a=!1;if(t)for(let u in t){if(B(u))continue;const c=t[u];let l;o&&A(o,l=W(u))?i&&i.includes(l)?(s||(s={}))[l]=c:n[l]=c:kt(e.emitsOptions,u)||c!==r[u]&&(r[u]=c,a=!0)}if(i){const t=ht(n),r=s||v;for(let s=0;s<i.length;s++){const a=i[s];n[a]=Mn(o,t,a,r[a],e,!A(r,a))}}return a}function Mn(e,t,n,r,o,i){const s=e[n];if(null!=s){const e=A(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&C(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Qr(o),r=i[n]=e.call(null,t),eo())}else r=e}s[0]&&(i&&!e?r=!1:!s[1]||""!==r&&r!==V(n)||(r=!0))}return r}function Bn(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},a=[];let u=!1;if(!C(e)){const r=e=>{u=!0;const[n,r]=Bn(e,t,!0);S(s,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!u)return r.set(e,y),y;if(T(i))for(let l=0;l<i.length;l++){const e=W(i[l]);Fn(e)&&(s[e]=v)}else if(i)for(const l in i){const e=W(l);if(Fn(e)){const t=i[l],n=s[e]=T(t)||C(t)?{type:t}:t;if(n){const t=$n(Boolean,n.type),r=$n(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||A(n,"default"))&&a.push(e)}}}const c=[s,a];return r.set(e,c),c}function Fn(e){return"$"!==e[0]}function qn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Wn(e,t){return qn(e)===qn(t)}function $n(e,t){return T(t)?t.findIndex((t=>Wn(t,e))):C(t)&&Wn(t,e)?0:-1}const Vn=e=>"_"===e[0]||"$stable"===e,Hn=e=>T(e)?e.map(Br):[Br(e)],Gn=(e,t,n)=>{const r=Mt(((...e)=>Hn(t(...e))),n);return r._c=!1,r},zn=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Vn(o))continue;const n=e[o];if(C(n))t[o]=Gn(0,n,r);else if(null!=n){const e=Hn(n);t[o]=()=>e}}},Kn=(e,t)=>{const n=Hn(t);e.slots.default=()=>n};function Jn(e,t){if(null===Pt)return e;const n=Pt.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,i,s,a=v]=t[o];C(e)&&(e={mounted:e,updated:e}),e.deep&&Mo(i),r.push({dir:e,instance:n,value:i,oldValue:void 0,arg:s,modifiers:a})}return e}function Yn(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let u=a.dir[r];u&&(ge(),uo(u,n,8,[e.el,a,e,t]),ve())}}function Xn(){return{app:null,config:{isNativeTag:_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zn=0;function Qn(e,t){return function(n,r=null){null==r||P(r)||(r=null);const o=Xn(),i=new Set;let s=!1;const a=o.app={_uid:Zn++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Fo,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&C(e.install)?(i.add(e),e.install(a,...t)):C(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),a),component:(e,t)=>t?(o.components[e]=t,a):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,a):o.directives[e],mount(i,u,c){if(!s){const l=Lr(n,r);return l.appContext=o,u&&t?t(l,i):e(l,i,c),s=!0,a._container=i,i.__vue_app__=a,io(l.component)||l.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,a)};return a}}const er=function(e,t){t&&t.pendingBranch?T(e)?t.effects.push(...e):t.effects.push(e):To(e,_o,mo,bo)};function tr(e){return function(e,t){(X||(X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})).__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:s,createComment:a,setText:u,setElementText:c,parentNode:l,nextSibling:f,setScopeId:h=m,cloneNode:p,insertStaticContent:d}=e,g=(e,t,n,r=null,o=null,i=null,s=!1,a=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!Nr(e,t)&&(r=ne(e),z(e,o,i,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:l,shapeFlag:f}=t;switch(c){case yr:_(e,t,n,r);break;case mr:b(e,t,n,r);break;case _r:null==e&&w(t,n,r,s);break;case vr:P(e,t,n,r,o,i,s,a,u);break;default:1&f?I(e,t,n,r,o,i,s,a,u):6&f?j(e,t,n,r,o,i,s,a,u):(64&f||128&f)&&c.process(e,t,n,r,o,i,s,a,u,oe)}null!=l&&o&&nr(l,e&&e.ref,i,t||e,!t)},_=(e,t,r,o)=>{if(null==e)n(t.el=s(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},b=(e,t,r,o)=>{null==e?n(t.el=a(t.children||""),r,o):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=d(e.children,t,n,r)},E=({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=f(e),n(e,r,o),e=i;n(t,r,o)},O=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=f(e),r(e),e=n;r(t)},I=(e,t,n,r,o,i,s,a,u)=>{s=s||"svg"===t.type,null==e?T(t,n,r,o,i,s,a,u):C(e,t,o,i,s,a,u)},T=(e,t,r,s,a,u,l,f)=>{let h,d;const{type:g,props:v,shapeFlag:y,transition:m,patchFlag:_,dirs:b}=e;if(e.el&&void 0!==p&&-1===_)h=e.el=p(e.el);else{if(h=e.el=i(e.type,u,v&&v.is,v),8&y?c(h,e.children):16&y&&N(e.children,h,null,s,a,u&&"foreignObject"!==g,l,f),b&&Yn(e,null,s,"created"),v){for(const t in v)"value"===t||B(t)||o(h,t,null,v[t],u,e.children,s,a,te);"value"in v&&o(h,"value",null,v.value),(d=v.onVnodeBeforeMount)&&rr(d,s,e)}x(h,e,e.scopeId,l,s)}b&&Yn(e,null,s,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&m&&!m.persisted;w&&m.beforeEnter(h),n(h,t,r),((d=v&&v.onVnodeMounted)||w||b)&&er((()=>{d&&rr(d,s,e),w&&m.enter(h),b&&Yn(e,null,s,"mounted")}),a)},x=(e,t,n,r,o)=>{if(n&&h(e,n),r)for(let i=0;i<r.length;i++)h(e,r[i]);if(o){if(t===o.subTree){const t=o.vnode;x(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},N=(e,t,n,r,o,i,s,a,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=a?Fr(e[c]):Br(e[c]);g(null,u,t,n,r,o,i,s,a)}},C=(e,t,n,r,i,s,a)=>{const u=t.el=e.el;let{patchFlag:l,dynamicChildren:f,dirs:h}=t;l|=16&e.patchFlag;const p=e.props||v,d=t.props||v;let g;(g=d.onVnodeBeforeUpdate)&&rr(g,n,t,e),h&&Yn(t,e,n,"beforeUpdate");const y=i&&"foreignObject"!==t.type;if(f?R(e.dynamicChildren,f,u,n,r,y,s):a||q(e,t,u,null,n,r,y,s,!1),l>0){if(16&l)k(u,t,p,d,n,r,i);else if(2&l&&p.class!==d.class&&o(u,"class",null,d.class,i),4&l&&o(u,"style",p.style,d.style,i),8&l){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const a=s[t],c=p[a],l=d[a];l===c&&"value"!==a||o(u,a,c,l,i,e.children,n,r,te)}}1&l&&e.children!==t.children&&c(u,t.children)}else a||null!=f||k(u,t,p,d,n,r,i);((g=d.onVnodeUpdated)||h)&&er((()=>{g&&rr(g,n,t,e),h&&Yn(t,e,n,"updated")}),r)},R=(e,t,n,r,o,i,s)=>{for(let a=0;a<t.length;a++){const u=e[a],c=t[a],f=u.el&&(u.type===vr||!Nr(u,c)||70&u.shapeFlag)?l(u.el):n;g(u,c,f,null,r,o,i,s,!0)}},k=(e,t,n,r,i,s,a)=>{if(n!==r){for(const u in r){if(B(u))continue;const c=r[u],l=n[u];c!==l&&"value"!==u&&o(e,u,l,c,a,t.children,i,s,te)}if(n!==v)for(const u in n)B(u)||u in r||o(e,u,n[u],null,a,t.children,i,s,te);"value"in r&&o(e,"value",n.value,r.value)}},P=(e,t,r,o,i,a,u,c,l)=>{const f=t.el=e?e.el:s(""),h=t.anchor=e?e.anchor:s("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(n(f,r,o),n(h,r,o),N(t.children,r,h,i,a,u,c,l)):p>0&&64&p&&d&&e.dynamicChildren?(R(e.dynamicChildren,d,r,i,a,u,c),(null!=t.key||i&&t===i.subTree)&&or(e,t,!0)):q(e,t,r,h,i,a,u,c,l)},j=(e,t,n,r,o,i,s,a,u)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,s,u):U(t,n,r,o,i,s,u):D(e,t,u)},U=(e,t,n,r,o,i,s)=>{const a=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Jr,i={uid:Yr++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bn(r,o),emitsOptions:Rt(r,o),emit:null,emitted:null,propsDefaults:v,inheritAttrs:r.inheritAttrs,ctx:v,data:v,props:v,attrs:v,slots:v,refs:v,setupState:v,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Ct.bind(null,i),e.ce&&e.ce(i);return i}(e,r,o);if(nn(e)&&(a.ctx.renderer=oe),function(e,t=!1){no=t;const{props:n,children:r}=e.vnode,o=to(e);Un(e,n,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=ht(t),J(t,"_",n)):zn(t,e.slots={})}else e.slots={},t&&Kn(e,t);J(e.slots,Cr,1)})(e,r);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=pt(new Proxy(e.ctx,Kr));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(ye(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Qr(e),ge();const o=ao(r,e,0,[e.props,n]);if(ve(),eo(),L(o)){if(o.then(eo,eo),t)return o.then((n=>{ro(e,n,t)})).catch((t=>{co(t,e,0)}));e.asyncDep=o}else ro(e,o,t)}else oo(e,t)}(e,t):void 0;no=!1}(a),a.asyncDep){if(o&&o.registerDep(a,M),!e.el){const e=a.subTree=Lr(mr);b(null,e,t,n)}}else M(a,e,t,n,o,i,s)},D=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!o&&!a||a&&a.$stable)||r!==s&&(r?!s||Wt(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Wt(r,s,c):!!s;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!kt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,function(e){const t=ho.indexOf(e);t>po&&ho.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},M=(e,t,n,r,o,i,s)=>{const a=new fe((()=>{if(e.isMounted){let t,{next:n,bu:r,u:u,parent:c,vnode:f}=e,h=n;a.allowRecurse=!1,n?(n.el=f.el,F(e,n,s)):n=f,r&&K(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&rr(t,c,n,f),a.allowRecurse=!0;const p=Bt(e),d=e.subTree;e.subTree=p,g(d,p,l(d.el),ne(d),e,o,i),n.el=p.el,null===h&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,p.el),u&&er(u,o),(t=n.props&&n.props.onVnodeUpdated)&&er((()=>rr(t,c,n,f)),o)}else{let s;const{el:u,props:c}=t,{bm:l,m:f,parent:h}=e,p=tn(t);if(a.allowRecurse=!1,l&&K(l),!p&&(s=c&&c.onVnodeBeforeMount)&&rr(s,h,t),a.allowRecurse=!0,u&&se){const n=()=>{e.subTree=Bt(e),se(u,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const s=e.subTree=Bt(e);g(null,s,n,r,e,o,i),t.el=s.el}if(f&&er(f,o),!p&&(s=c&&c.onVnodeMounted)){const e=t;er((()=>rr(s,h,e)),o)}256&t.shapeFlag&&e.a&&er(e.a,o),e.isMounted=!0,t=n=r=null}}),(()=>Io(e.update)),e.scope),u=e.update=a.run.bind(a);u.id=e.uid,a.allowRecurse=u.allowRecurse=!0,u()},F=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=ht(o),[u]=e.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;Dn(e,t,o,i)&&(c=!0);for(const i in a)t&&(A(t,i)||(r=V(i))!==i&&A(t,r))||(u?!n||void 0===n[i]&&void 0===n[r]||(o[i]=Mn(u,a,i,void 0,e,!0)):delete o[i]);if(i!==a)for(const e in i)t&&A(t,e)||(delete i[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const l=t[s];if(u)if(A(i,s))l!==i[s]&&(i[s]=l,c=!0);else{const t=W(s);o[t]=Mn(u,a,t,l,e,!1)}else l!==i[s]&&(i[s]=l,c=!0)}}c&&be(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=v;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(S(o,t),n||1!==e||delete o._):(i=!t.$stable,zn(t,o)),s=t}else t&&(Kn(e,t),s={default:1});if(i)for(const a in o)Vn(a)||a in s||delete o[a]})(e,t.children,n),ge(),xo(void 0,e.update),ve()},q=(e,t,n,r,o,i,s,a,u=!1)=>{const l=e&&e.children,f=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:d}=t;if(p>0){if(128&p)return void H(l,h,n,r,o,i,s,a,u);if(256&p)return void $(l,h,n,r,o,i,s,a,u)}8&d?(16&f&&te(l,o,i),h!==l&&c(n,h)):16&f?16&d?H(l,h,n,r,o,i,s,a,u):te(l,o,i,!0):(8&f&&c(n,""),16&d&&N(h,n,r,o,i,s,a,u))},$=(e,t,n,r,o,i,s,a,u)=>{t=t||y;const c=(e=e||y).length,l=t.length,f=Math.min(c,l);let h;for(h=0;h<f;h++){const r=t[h]=u?Fr(t[h]):Br(t[h]);g(e[h],r,n,null,o,i,s,a,u)}c>l?te(e,o,i,!0,!1,f):N(t,n,r,o,i,s,a,u,f)},H=(e,t,n,r,o,i,s,a,u)=>{let c=0;const l=t.length;let f=e.length-1,h=l-1;for(;c<=f&&c<=h;){const r=e[c],l=t[c]=u?Fr(t[c]):Br(t[c]);if(!Nr(r,l))break;g(r,l,n,null,o,i,s,a,u),c++}for(;c<=f&&c<=h;){const r=e[f],c=t[h]=u?Fr(t[h]):Br(t[h]);if(!Nr(r,c))break;g(r,c,n,null,o,i,s,a,u),f--,h--}if(c>f){if(c<=h){const e=h+1,f=e<l?t[e].el:r;for(;c<=h;)g(null,t[c]=u?Fr(t[c]):Br(t[c]),n,f,o,i,s,a,u),c++}}else if(c>h)for(;c<=f;)z(e[c],o,i,!0),c++;else{const p=c,d=c,v=new Map;for(c=d;c<=h;c++){const e=t[c]=u?Fr(t[c]):Br(t[c]);null!=e.key&&v.set(e.key,c)}let m,_=0;const b=h-d+1;let w=!1,E=0;const S=new Array(b);for(c=0;c<b;c++)S[c]=0;for(c=p;c<=f;c++){const r=e[c];if(_>=b){z(r,o,i,!0);continue}let l;if(null!=r.key)l=v.get(r.key);else for(m=d;m<=h;m++)if(0===S[m-d]&&Nr(r,t[m])){l=m;break}void 0===l?z(r,o,i,!0):(S[l-d]=c+1,l>=E?E=l:w=!0,g(r,t[l],n,null,o,i,s,a,u),_++)}const O=w?function(e){const t=e.slice(),n=[0];let r,o,i,s,a;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<u?i=a+1:s=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(S):y;for(m=O.length-1,c=b-1;c>=0;c--){const e=d+c,f=t[e],h=e+1<l?t[e+1].el:r;0===S[c]?g(null,f,n,h,o,i,s,a,u):w&&(m<0||c!==O[m]?G(f,n,h,2):m--)}}},G=(e,t,r,o,i=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=e;if(6&l)return void G(e.component.subTree,t,r,o);if(128&l)return void e.suspense.move(t,r,o);if(64&l)return void a.move(e,t,r,oe);if(a===vr){n(s,t,r);for(let e=0;e<c.length;e++)G(c[e],t,r,o);return void n(e.anchor,t,r)}if(a===_r)return void E(e,t,r);if(2!==o&&1&l&&u)if(0===o)u.beforeEnter(s),n(s,t,r),er((()=>u.enter(s)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=u,a=()=>n(s,t,r),c=()=>{e(s,(()=>{a(),i&&i()}))};o?o(s,a,c):c()}else n(s,t,r)},z=(e,t,n,r=!1,o=!1)=>{const{type:i,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:f,dirs:h}=e;if(null!=a&&nr(a,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const p=1&l&&h,d=!tn(e);let g;if(d&&(g=s&&s.onVnodeBeforeUnmount)&&rr(g,t,e),6&l)Q(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&Yn(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,o,oe,r):c&&(i!==vr||f>0&&64&f)?te(c,t,n,!1,!0):(i===vr&&384&f||!o&&16&l)&&te(u,t,n),r&&Y(e)}(d&&(g=s&&s.onVnodeUnmounted)||p)&&er((()=>{g&&rr(g,t,e),p&&Yn(e,null,t,"unmounted")}),n)},Y=e=>{const{type:t,el:n,anchor:o,transition:i}=e;if(t===vr)return void Z(n,o);if(t===_r)return void O(e);const s=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},Z=(e,t)=>{let n;for(;e!==t;)n=f(e),r(e),e=n;r(t)},Q=(e,t,n)=>{const{bum:r,scope:o,update:i,subTree:s,um:a}=e;r&&K(r),o.stop(),i&&(i.active=!1,z(s,e,t,n)),a&&er(a,t),er((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},te=(e,t,n,r=!1,o=!1,i=0)=>{for(let s=i;s<e.length;s++)z(e[s],t,n,r,o)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),re=(e,t,n)=>{null==e?t._vnode&&z(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),No(),t._vnode=e},oe={p:g,um:z,m:G,r:Y,mt:U,mc:N,pc:q,pbc:R,n:ne,o:e};let ie,se;t&&([ie,se]=t(oe));return{render:re,hydrate:ie,createApp:Qn(re,ie)}}(e)}function nr(e,t,n,r,o=!1){if(T(e))return void e.forEach(((e,i)=>nr(e,t&&(T(t)?t[i]:t),n,r,o)));if(tn(r)&&!o)return;const i=4&r.shapeFlag?io(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:u}=e,c=t&&t.r,l=a.refs===v?a.refs={}:a.refs,f=a.setupState;if(null!=c&&c!==u&&(R(c)?(l[c]=null,A(f,c)&&(f[c]=null)):mt(c)&&(c.value=null)),R(u)){const e=()=>{l[u]=s,A(f,u)&&(f[u]=s)};s?(e.id=-1,er(e,n)):e()}else if(mt(u)){const e=()=>{u.value=s};s?(e.id=-1,er(e,n)):e()}else C(u)&&ao(u,a,12,[s,l])}function rr(e,t,n,r=null){uo(e,t,7,[n,r])}function or(e,t,n=!1){const r=e.children,o=t.children;if(T(r)&&T(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Fr(o[i]),t.el=e.el),n||or(e,t))}}const ir=e=>e&&(e.disabled||""===e.disabled),sr=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ar=(e,t)=>{const n=e&&e.to;if(R(n)){if(t){return t(n)}return null}return n},ur={__isTeleport:!0,process(e,t,n,r,o,i,s,a,u,c){const{mc:l,pc:f,pbc:h,o:{insert:p,querySelector:d,createText:g,createComment:v}}=c,y=ir(t.props);let{shapeFlag:m,children:_,dynamicChildren:b}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");p(e,n,r),p(c,n,r);const f=t.target=ar(t.props,d),h=t.targetAnchor=g("");f&&(p(h,f),s=s||sr(f));const v=(e,t)=>{16&m&&l(_,e,t,o,i,s,a,u)};y?v(n,c):f&&v(f,h)}else{t.el=e.el;const r=t.anchor=e.anchor,l=t.target=e.target,p=t.targetAnchor=e.targetAnchor,g=ir(e.props),v=g?n:l,m=g?r:p;if(s=s||sr(l),b?(h(e.dynamicChildren,b,v,o,i,s,a),or(e,t,!0)):u||f(e,t,v,m,o,i,s,a,!1),y)g||cr(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=ar(t.props,d);e&&cr(t,e,null,c,0)}else g&&cr(t,l,p,c,1)}},remove(e,t,n,r,{um:o,o:{remove:i}},s){const{shapeFlag:a,children:u,anchor:c,targetAnchor:l,target:f,props:h}=e;if(f&&i(l),(s||!ir(h))&&(i(c),16&a))for(let p=0;p<u.length;p++){const e=u[p];o(e,t,n,!0,!!e.dynamicChildren)}},move:cr,hydrate:function(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:u}},c){const l=t.target=ar(t.props,u);if(l){const u=l._lpa||l.firstChild;16&t.shapeFlag&&(ir(t.props)?(t.anchor=c(s(e),t,a(e),n,r,o,i),t.targetAnchor=u):(t.anchor=s(e),t.targetAnchor=c(u,t,l,n,r,o,i)),l._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}};function cr(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:u,children:c,props:l}=e,f=2===i;if(f&&r(s,t,n),(!f||ir(l))&&16&u)for(let h=0;h<c.length;h++)o(c[h],t,n,2);f&&r(a,t,n)}const lr=ur;function fr(e,t){return dr("components",e,!0,t)||e}const hr=Symbol();function pr(e){return R(e)?dr("components",e,!1)||e:e||hr}function dr(e,t,n=!0,r=!1){const o=Pt||Xr;if(o){const n=o.type;if("components"===e){const e=so(n);if(e&&(e===t||e===W(t)||e===H(W(t))))return n}const i=gr(o[e]||n[e],t)||gr(o.appContext[e],t);return!i&&r?n:i}}function gr(e,t){return e&&(e[t]||e[W(t)]||e[H(W(t))])}const vr=Symbol(void 0),yr=Symbol(void 0),mr=Symbol(void 0),_r=Symbol(void 0),br=[];let wr=null;function Er(e=!1){br.push(wr=e?null:[])}let Sr=1;function Or(e){Sr+=e}function Ir(e){return e.dynamicChildren=Sr>0?wr||y:null,br.pop(),wr=br[br.length-1]||null,Sr>0&&wr&&wr.push(e),e}function Ar(e,t,n,r,o,i){return Ir(Pr(e,t,n,r,o,i,!0))}function Tr(e,t,n,r,o){return Ir(Lr(e,t,n,r,o,!0))}function xr(e){return!!e&&!0===e.__v_isVNode}function Nr(e,t){return e.type===t.type&&e.key===t.key}const Cr="__vInternal",Rr=({key:e})=>null!=e?e:null,kr=({ref:e})=>null!=e?R(e)||mt(e)||C(e)?{i:Pt,r:e}:e:null;function Pr(e,t=null,n=null,r=0,o=null,i=(e===vr?0:1),s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rr(t),ref:t&&kr(t),scopeId:Lt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(qr(u,n),128&i&&e.normalize(u)):n&&(u.shapeFlag|=R(n)?8:16),Sr>0&&!s&&wr&&(u.patchFlag>0||6&i)&&32!==u.patchFlag&&wr.push(u),u}const Lr=function(e,t=null,n=null,r=0,o=null,i=!1){e&&e!==hr||(e=mr);if(xr(e)){const r=Ur(e,t,!0);return n&&qr(r,n),r}s=e,C(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){t=jr(t);let{class:e,style:n}=t;e&&!R(e)&&(t.class=h(e)),P(n)&&(ft(n)&&!T(n)&&(n=S({},n)),t.style=u(n))}const a=R(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:P(e)?4:C(e)?2:0;return Pr(e,t,n,r,o,a,i,!0)};function jr(e){return e?ft(e)||Cr in e?S({},e):e:null}function Ur(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,a=t?Wr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Rr(a),ref:t&&t.ref?n&&o?T(o)?o.concat(kr(t)):[o,kr(t)]:kr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==vr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ur(e.ssContent),ssFallback:e.ssFallback&&Ur(e.ssFallback),el:e.el,anchor:e.anchor}}function Dr(e=" ",t=0){return Lr(yr,null,e,t)}function Mr(e="",t=!1){return t?(Er(),Tr(mr,null,e)):Lr(mr,null,e)}function Br(e){return null==e||"boolean"==typeof e?Lr(mr):T(e)?Lr(vr,null,e.slice()):"object"==typeof e?Fr(e):Lr(yr,null,String(e))}function Fr(e){return null===e.el||e.memo?e:Ur(e)}function qr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(T(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),qr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Cr in t?3===r&&Pt&&(1===Pt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Pt}}else C(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),64&r?(n=16,t=[Dr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=h([t.class,r.class]));else if("style"===e)t.style=u([t.style,r.style]);else if(w(e)){const n=t[e],o=r[e];n===o||T(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function $r(e,t,n,r){let o;const i=n&&n[r];if(T(e)||R(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,i&&i[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,i&&i[n])}else if(P(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,i&&i[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];o[r]=t(e[s],s,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function Vr(e,t,n={},r,o){if(Pt.isCE)return Lr("slot","default"===t?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Er();const s=i&&Hr(i(n)),a=Tr(vr,{key:n.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Hr(e){return e.some((e=>!xr(e)||e.type!==mr&&!(e.type===vr&&!Hr(e.children))))?e:null}const Gr=e=>e?to(e)?io(e)||e.proxy:Gr(e.parent):null,zr=S(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$emit:e=>e.emit,$options:e=>Nn(e),$forceUpdate:e=>()=>Io(e.update),$nextTick:e=>Oo.bind(e.proxy),$watch:e=>Uo.bind(e)}),Kr={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return i[t]}else{if(r!==v&&A(r,t))return s[t]=0,r[t];if(o!==v&&A(o,t))return s[t]=1,o[t];if((c=e.propsOptions[0])&&A(c,t))return s[t]=2,i[t];if(n!==v&&A(n,t))return s[t]=3,n[t];In&&(s[t]=4)}}const l=zr[t];let f,h;return l?("$attrs"===t&&ye(e,0,t),l(e)):(f=a.__cssModules)&&(f=f[t])?f:n!==v&&A(n,t)?(s[t]=3,n[t]):(h=u.config.globalProperties,A(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;if(o!==v&&A(o,t))o[t]=n;else if(r!==v&&A(r,t))r[t]=n;else if(A(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return void 0!==n[s]||e!==v&&A(e,s)||t!==v&&A(t,s)||(a=i[0])&&A(a,s)||A(r,s)||A(zr,s)||A(o.config.globalProperties,s)}},Jr=Xn();let Yr=0;let Xr=null;const Zr=()=>Xr||Pt,Qr=e=>{Xr=e,e.scope.on()},eo=()=>{Xr&&Xr.scope.off(),Xr=null};function to(e){return 4&e.vnode.shapeFlag}let no=!1;function ro(e,t,n){C(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:P(t)&&(e.setupState=Ot(t)),oo(e,n)}function oo(e,t,n){const r=e.type;e.render||(e.render=r.render||m),Qr(e),ge(),An(e),ve(),eo()}function io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ot(pt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in zr?zr[n](e):void 0}))}function so(e){return C(e)&&e.displayName||e.name}function ao(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){co(i,t,n)}return o}function uo(e,t,n,r){if(C(e)){const o=ao(e,t,n,r);return o&&L(o)&&o.catch((e=>{co(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(uo(e[i],t,n,r));return o}function co(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void ao(s,null,10,[e,o,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let lo=!1,fo=!1;const ho=[];let po=0;const go=[];let vo=null,yo=0;const mo=[];let _o=null,bo=0;const wo=Promise.resolve();let Eo=null,So=null;function Oo(e){const t=Eo||wo;return e?t.then(this?e.bind(this):e):t}function Io(e){ho.length&&ho.includes(e,lo&&e.allowRecurse?po+1:po)||e===So||(null==e.id?ho.push(e):ho.splice(function(e){let t=po+1,n=ho.length;for(;t<n;){const r=t+n>>>1;Co(ho[r])<e?t=r+1:n=r}return t}(e.id),0,e),Ao())}function Ao(){lo||fo||(fo=!0,Eo=wo.then(Ro))}function To(e,t,n,r){T(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Ao()}function xo(e,t=null){if(go.length){for(So=t,vo=[...new Set(go)],go.length=0,yo=0;yo<vo.length;yo++)vo[yo]();vo=null,yo=0,So=null,xo(e,t)}}function No(e){if(mo.length){const e=[...new Set(mo)];if(mo.length=0,_o)return void _o.push(...e);for(_o=e,_o.sort(((e,t)=>Co(e)-Co(t))),bo=0;bo<_o.length;bo++)_o[bo]();_o=null,bo=0}}const Co=e=>null==e.id?1/0:e.id;function Ro(e){fo=!1,lo=!0,xo(e),ho.sort(((e,t)=>Co(e)-Co(t)));try{for(po=0;po<ho.length;po++){const e=ho[po];e&&!1!==e.active&&ao(e,null,14)}}finally{po=0,ho.length=0,No(),lo=!1,Eo=null,(ho.length||go.length||mo.length)&&Ro(e)}}function ko(e,t){return jo(e,null,t)}const Po={};function Lo(e,t,n){return jo(e,t,n)}function jo(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=v){const a=Xr;let u,c,l=!1,f=!1;if(mt(e)?(u=()=>e.value,l=!!e._shallow):ct(e)?(u=()=>e,r=!0):T(e)?(f=!0,l=e.some(ct),u=()=>e.map((e=>mt(e)?e.value:ct(e)?Mo(e):C(e)?ao(e,a,2):void 0))):u=C(e)?t?()=>ao(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),uo(e,a,3,[h])}:m,t&&r){const e=u;u=()=>Mo(e())}let h=e=>{c=y.onStop=()=>{ao(e,a,4)}};if(no)return h=m,t?n&&uo(t,a,3,[u(),f?[]:void 0,h]):u(),m;let p=f?[]:Po;const d=()=>{if(y.active)if(t){const e=y.run();(r||l||(f?e.some(((e,t)=>z(e,p[t]))):z(e,p)))&&(c&&c(),uo(t,a,3,[e,p===Po?void 0:p,h]),p=e)}else y.run()};let g;d.allowRecurse=!!t,g="sync"===o?d:"post"===o?()=>er(d,a&&a.suspense):()=>{!a||a.isMounted?function(e){To(e,vo,go,yo)}(d):d()};const y=new fe(u,g);return t?n?d():p=y.run():"post"===o?er(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&O(a.scope.effects,y)}}function Uo(e,t,n){const r=this.proxy,o=R(e)?e.includes(".")?Do(r,e):()=>r[e]:e.bind(r,r);let i;C(t)?i=t:(i=t.handler,n=t);const s=Xr;Qr(this);const a=jo(o,i.bind(r),n);return s?Qr(s):eo(),a}function Do(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Mo(e,t){if(!P(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),mt(e))Mo(e.value,t);else if(T(e))for(let n=0;n<e.length;n++)Mo(e[n],t);else if(N(e)||x(e))e.forEach((e=>{Mo(e,t)}));else if(D(e))for(const n in e)Mo(e[n],t);return e}function Bo(e,t,n){const r=arguments.length;return 2===r?P(t)&&!T(t)?xr(t)?Lr(e,null,[t]):Lr(e,t):Lr(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&xr(n)&&(n=[n]),Lr(e,t,n))}const Fo="3.2.22",qo="undefined"!=typeof document?document:null,Wo=new Map,$o={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?qo.createElementNS("http://www.w3.org/2000/svg",e):qo.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>qo.createTextNode(e),createComment:e=>qo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const o=n?n.previousSibling:t.lastChild;let i=Wo.get(e);if(!i){const t=qo.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,i=t.content,r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}Wo.set(e,i)}return t.insertBefore(i.cloneNode(!0),n),[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const Vo=/\s*!important$/;function Ho(e,t,n){if(T(n))n.forEach((n=>Ho(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=zo[t];if(n)return n;let r=W(t);if("filter"!==r&&r in e)return zo[t]=r;r=H(r);for(let o=0;o<Go.length;o++){const n=Go[o]+r;if(n in e)return zo[t]=n}return t}(e,t);Vo.test(n)?e.setProperty(V(r),n.replace(Vo,""),"important"):e[r]=n}}const Go=["Webkit","Moz","ms"],zo={};const Ko="http://www.w3.org/1999/xlink";let Jo=Date.now,Yo=!1;if("undefined"!=typeof window){Jo()>document.createEvent("Event").timeStamp&&(Jo=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Yo=!!(e&&Number(e[1])<=53)}let Xo=0;const Zo=Promise.resolve(),Qo=()=>{Xo=0};function ei(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[n,a]=function(e){let t;if(ti.test(e)){let n;for(t={};n=e.match(ti);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[V(e.slice(2)),t]}(t);if(r){const s=i[t]=function(e,t){const n=e=>{const r=e.timeStamp||Jo();(Yo||r>=n.attached-1)&&uo(function(e,t){if(T(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Xo||(Zo.then(Qo),Xo=Jo()))(),n}(r,o);!function(e,t,n,r){e.addEventListener(t,n,r)}(e,n,s,a)}else s&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,a),i[t]=void 0)}}const ti=/(?:Once|Passive|Capture)$/;const ni=/^on[a-z]/;const ri="transition",oi=(e,{slots:t})=>Bo(zt,function(e){const t={};for(const S in e)S in ii||(t[S]=e[S]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,d=function(e){if(null==e)return null;if(P(e))return[ui(e.enter),ui(e.leave)];{const t=ui(e);return[t,t]}}(o),g=d&&d[0],v=d&&d[1],{onBeforeEnter:y,onEnter:m,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:E=y,onAppear:O=m,onAppearCancelled:I=_}=t,A=(e,t,n)=>{li(e,t?l:a),li(e,t?c:s),n&&n()},T=(e,t)=>{li(e,p),li(e,h),t&&t()},x=e=>(t,n)=>{const o=e?O:m,s=()=>A(t,e,n);si(o,[t,s]),fi((()=>{li(t,e?u:i),ci(t,e?l:a),ai(o)||pi(t,r,g,s)}))};return S(t,{onBeforeEnter(e){si(y,[e]),ci(e,i),ci(e,s)},onBeforeAppear(e){si(E,[e]),ci(e,u),ci(e,c)},onEnter:x(!1),onAppear:x(!0),onLeave(e,t){const n=()=>T(e,t);ci(e,f),document.body.offsetHeight,ci(e,h),fi((()=>{li(e,f),ci(e,p),ai(b)||pi(e,r,v,n)})),si(b,[e,n])},onEnterCancelled(e){A(e,!1),si(_,[e])},onAppearCancelled(e){A(e,!0),si(I,[e])},onLeaveCancelled(e){T(e),si(w,[e])}})}(e),t);oi.displayName="Transition";const ii={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};oi.props=S({},zt.props,ii);const si=(e,t=[])=>{T(e)?e.forEach((e=>e(...t))):e&&e(...t)},ai=e=>!!e&&(T(e)?e.some((e=>e.length>1)):e.length>1);function ui(e){return Y(e)}function ci(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function li(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function fi(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let hi=0;function pi(e,t,n,r){const o=e._endId=++hi,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:u}=function(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r("transitionDelay"),i=r("transitionDuration"),s=di(o,i),a=r("animationDelay"),u=r("animationDuration"),c=di(a,u);let l=null,f=0,h=0;t===ri?s>0&&(l=ri,f=s,h=i.length):"animation"===t?c>0&&(l="animation",f=c,h=u.length):(f=Math.max(s,c),l=f>0?s>c?ri:"animation":null,h=l?l===ri?i.length:u.length:0);const p=l===ri&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:l,timeout:f,propCount:h,hasTransform:p}}(e,t);if(!s)return r();const c=s+"end";let l=0;const f=()=>{e.removeEventListener(c,h),i()},h=t=>{t.target===e&&++l>=u&&f()};setTimeout((()=>{l<u&&f()}),a+1),e.addEventListener(c,h)}function di(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>gi(t)+gi(e[n]))))}function gi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}const vi={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):yi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),yi(e,!0),r.enter(e)):r.leave(e,(()=>{yi(e,!1)})):yi(e,t))},beforeUnmount(e,{value:t}){yi(e,t)}};function yi(e,t){e.style.display=t?e._vod:"none"}const mi=S({patchProp:(e,t,n,r,o=!1,i,u,c,l)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,o):"style"===t?function(e,t,n){const r=e.style,o=R(n);if(n&&!o){for(const e in n)Ho(r,e,n[e]);if(t&&!R(t))for(const e in t)null==n[e]&&Ho(r,e,"")}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}(e,n,r):w(t)?E(t)||ei(e,t,0,r,u):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ni.test(t)&&C(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(ni.test(t)&&R(n))return!1;return t in e}(e,t,r,o))?function(e,t,n,r,o,i,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,o,i),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const r=null==n?"":n;return e.value!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const r=typeof e[t];if("boolean"===r)return void(e[t]=a(n));if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r){try{e[t]=0}catch(u){}return void e.removeAttribute(t)}}try{e[t]=n}catch(c){}}(e,t,r,i,u,c,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,n);else{const r=s(t);null==n||r&&!a(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,o))}},$o);let _i;const bi=(...e)=>{const t=(_i||(_i=tr(mi))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(R(e)){return document.querySelector(e)}return e}(e);if(!r)return;const o=t._component;C(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function wi(){}var Ei=Object.assign,Si="undefined"!=typeof window;function Oi(e,t){var n=t.split("."),r=e;return n.forEach((e=>{var t;r=null!=(t=r[e])?t:""})),r}function Ii(e,t,n){return t.reduce(((t,r)=>(n&&void 0===e[r]||(t[r]=e[r]),t)),{})}var Ai=[Number,String],Ti={type:Boolean,default:!0},xi=e=>({type:e,required:!0}),Ni=()=>({type:Array,default:()=>[]}),Ci=e=>({type:Number,default:e}),Ri=e=>({type:Ai,default:e}),ki=e=>({type:String,default:e});const Pi="undefined"!=typeof window;function Li(e){return Pi?requestAnimationFrame(e):-1}function ji(e){Li((()=>Li(e)))}const Ui=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Di=e=>{const t=Et(e);if(t===window){const e=t.innerWidth,n=t.innerHeight;return Ui(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():Ui(0,0)};function Mi(e){const t=Vt(e,null);if(t){const e=Zr(),{link:n,unlink:r,internalChildren:o}=t;n(e),bn((()=>r(e)));return{parent:t,index:Nt((()=>o.indexOf(e)))}}return{parent:null,index:_t(-1)}}function Bi(e,t,n){const r=function(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach((e=>{var r;xr(e)&&(t.push(e),(null==(r=e.component)?void 0:r.subTree)&&n(e.component.subTree.children),e.children&&n(e.children))}))};return n(e),t}(e.subTree.children);n.sort(((e,t)=>r.indexOf(e.vnode)-r.indexOf(t.vnode)));const o=n.map((e=>e.proxy));t.sort(((e,t)=>o.indexOf(e)-o.indexOf(t)))}function Fi(e){const t=st([]),n=st([]),r=Zr();return{children:t,linkChildren:o=>{$t(e,Object.assign({link:e=>{e.proxy&&(n.push(e),t.push(e.proxy),Bi(r,t,n))},unlink:e=>{const r=n.indexOf(e);t.splice(r,1),n.splice(r,1)},children:t,internalChildren:n},o))}}}function qi(e){let t;vn((()=>{e(),Oo((()=>{t=!0}))})),an((()=>{t&&e()}))}function Wi(e,t,n={}){if(!Pi)return;const{target:r=window,passive:o=!1,capture:i=!1}=n;let s;const a=n=>{const r=Et(n);r&&!s&&(r.addEventListener(e,t,{capture:i,passive:o}),s=!0)},u=n=>{const r=Et(n);r&&s&&(r.removeEventListener(e,t,i),s=!1)};bn((()=>u(r))),un((()=>u(r))),qi((()=>a(r))),mt(r)&&Lo(r,((e,t)=>{u(t),a(e)}))}let $i,Vi;const Hi=/scroll|auto/i,Gi=Pi?window:void 0;function zi(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Ki(e,t=Gi){let n=e;for(;n&&n!==t&&zi(n);){const{overflowY:e}=window.getComputedStyle(n);if(Hi.test(e))return n;n=n.parentNode}return t}function Ji(e,t=Gi){const n=_t();return vn((()=>{e.value&&(n.value=Ki(e.value,t))})),n}let Yi;const Xi=Symbol("van-field");function Zi(e){const t=Vt(Xi,null);t&&!t.customValue.value&&(t.customValue.value=e,Lo(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}var Qi=e=>null!=e,es=e=>"function"==typeof e,ts=e=>null!==e&&"object"==typeof e,ns=e=>ts(e)&&es(e.then)&&es(e.catch),rs=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function os(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function is(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function ss(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function as(e){is(window,e),is(document.body,e)}function us(e,t){if(e===window)return 0;var n=t?os(t):ss();return Di(e).top+n}var cs=!!Si&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function ls(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function fs(e){var t=Et(e);if(!t)return!1;var n=window.getComputedStyle(t),r="none"===n.display,o=null===t.offsetParent&&"fixed"!==n.position;return r||o}var hs,{width:ps,height:ds}=function(){if(!$i&&($i=_t(0),Vi=_t(0),Pi)){const e=()=>{$i.value=window.innerWidth,Vi.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:$i,height:Vi}}();function gs(e){if(Qi(e))return rs(e)?e+"px":String(e)}function vs(e){if(Qi(e)){var t=gs(e);return{width:t,height:t}}}function ys(e){var t={};return void 0!==e&&(t.zIndex=+e),t}function ms(e){return+(e=e.replace(/rem/g,""))*function(){if(!hs){var e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;hs=parseFloat(t)}return hs}()}function _s(e){if("number"==typeof e)return e;if(Si){if(e.includes("rem"))return ms(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*ps.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*ds.value/100}(e)}return parseFloat(e)}var bs=/-(\w)/g,ws=e=>e.replace(bs,((e,t)=>t.toUpperCase())),Es=(e,t,n)=>Math.min(Math.max(e,t),n);function Ss(e,t,n){var r=e.indexOf(t);return-1===r?e:"-"===t&&0!==r?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}var{hasOwnProperty:Os}=Object.prototype;function Is(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){var r=t[n];Qi(r)&&(Os.call(e,n)&&ts(r)?e[n]=Is(Object(e[n]),r):e[n]=r)}(e,t,n)})),e}var As=_t("zh-CN"),Ts=st({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>e+"年"+t+"月",rangePrompt:e=>"最多选择 "+e+" 天"},vanCascader:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:e=>e+"折",condition:e=>"满"+e+"元可用"},vanCouponCell:{title:"优惠券",count:e=>e+"张可用"},vanCouponList:{exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",defaultAddress:"设为默认收货地址"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌信息"},vanAddressList:{add:"新增地址"}}}),xs={messages:()=>Ts[As.value],use(e,t){As.value=e,this.add({[e]:t})},add(e){void 0===e&&(e={}),Is(Ts,e)}};function Ns(e){var t=ws(e)+".";return function(e){for(var n=xs.messages(),r=Oi(n,t+e)||Oi(n,e),o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return es(r)?r(...i):r}}function Cs(e,t){return t?"string"==typeof t?" "+e+"--"+t:Array.isArray(t)?t.reduce(((t,n)=>t+Cs(e,n)),""):Object.keys(t).reduce(((n,r)=>n+(t[r]?Cs(e,r):"")),""):""}function Rs(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),""+(t=t?e+"__"+t:e)+Cs(t,n))}function ks(e){var t="van-"+e;return[t,Rs(t),Ns(t)]}var Ps=Symbol("van-form");function Ls(e,t){var{args:n=[],done:r,canceled:o}=t;if(e){var i=e.apply(null,n);ns(i)?i.then((e=>{e?r():o&&o()})).catch(wi):i?r():o&&o()}else r()}function js(e){return e.install=t=>{var{name:n}=e;t.component(n,e),t.component(ws("-"+n),e)},e}function Us(e){var t=Zr();t&&Ei(t.proxy,e)}var Ds={to:[String,Object],url:String,replace:Boolean};function Ms(e){var{to:t,url:n,replace:r,$router:o}=e;t&&o?o[r?"replace":"push"](t):n&&(r?location.replace(n):location.href=n)}function Bs(){var e=Zr().proxy;return()=>Ms(e)}var[Fs,qs]=ks("badge"),Ws=js(en({name:Fs,props:{dot:Boolean,max:Ai,tag:ki("div"),color:String,offset:Array,content:Ai,showZero:Ti},setup(e,t){var{slots:n}=t,r=()=>{if(n.content)return!0;var{content:t,showZero:r}=e;return Qi(t)&&""!==t&&(r||0!==t)},o=()=>{var{dot:t,max:o,content:i}=e;if(!t&&r())return n.content?n.content():Qi(o)&&rs(i)&&+i>o?o+"+":i},i=Nt((()=>{var t={background:e.color};if(e.offset){var[r,o]=e.offset;n.default?(t.top=gs(o),t.right="number"==typeof r?gs(-r):r.startsWith("-")?r.replace("-",""):"-"+r):(t.marginTop=gs(o),t.marginLeft=gs(r))}return t})),s=()=>{if(r()||e.dot)return Lr("div",{class:qs({dot:e.dot,fixed:!!n.default}),style:i.value},[o()])};return()=>{if(n.default){var{tag:t}=e;return Lr(t,{class:qs("wrapper")},{default:()=>[n.default(),s()]})}return s()}}})),[$s,Vs]=ks("config-provider"),Hs=Symbol($s);var Gs=en({name:$s,props:{tag:ki("div"),themeVars:Object,iconPrefix:String},setup(e,t){var{slots:n}=t,r=Nt((()=>{if(e.themeVars)return t=e.themeVars,n={},Object.keys(t).forEach((e=>{var r;n["--van-"+(r=e,r.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""))]=t[e]})),n;var t,n}));return $t(Hs,e),()=>Lr(e.tag,{class:Vs(),style:r.value},{default:()=>[null==n.default?void 0:n.default()]})}}),[zs,Ks]=ks("icon"),Js=js(en({name:zs,props:{dot:Boolean,tag:ki("i"),name:String,size:Ai,badge:Ai,color:String,classPrefix:String},setup(e,t){var{slots:n}=t,r=Vt(Hs,null),o=Nt((()=>e.classPrefix||(null==r?void 0:r.iconPrefix)||Ks()));return()=>{var{tag:t,dot:r,name:i,size:s,badge:a,color:u}=e,c=(e=>null==e?void 0:e.includes("/"))(i);return Lr(Ws,{dot:r,tag:t,content:a,class:[o.value,c?"":o.value+"-"+i],style:{color:u,fontSize:gs(s)}},{default:()=>[null==n.default?void 0:n.default(),c&&Lr("img",{class:Ks("image"),src:i},null)]})}}})),[Ys,Xs]=ks("loading"),Zs=Array(12).fill(null).map(((e,t)=>Lr("i",{class:Xs("line",String(t+1))},null))),Qs=Lr("svg",{class:Xs("circular"),viewBox:"25 25 50 50"},[Lr("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ea=js(en({name:Ys,props:{size:Ai,type:ki("circular"),color:String,vertical:Boolean,textSize:Ai,textColor:String},setup(e,t){var{slots:n}=t,r=Nt((()=>Ei({color:e.color},vs(e.size)))),o=()=>{var t;if(n.default)return Lr("span",{class:Xs("text"),style:{fontSize:gs(e.textSize),color:null!=(t=e.textColor)?t:e.color}},[n.default()])};return()=>{var{type:t,vertical:n}=e;return Lr("div",{class:Xs([t,{vertical:n}])},[Lr("span",{class:Xs("spinner",t),style:r.value},["spinner"===t?Zs:Qs]),o()])}}})),[ta,na]=ks("button"),ra=js(en({name:ta,props:Ei({},Ds,{tag:ki("button"),text:String,icon:String,type:ki("default"),size:ki("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:ki("button"),loadingSize:Ai,loadingText:String,loadingType:String,iconPosition:ki("left")}),emits:["click"],setup(e,t){var{emit:n,slots:r}=t,o=Bs(),i=()=>e.loading?r.loading?r.loading():Lr(ea,{size:e.loadingSize,type:e.loadingType,class:na("loading")},null):r.icon?Lr("div",{class:na("icon")},[r.icon()]):e.icon?Lr(Js,{name:e.icon,class:na("icon"),classPrefix:e.iconPrefix},null):void 0,s=()=>{var t;if(t=e.loading?e.loadingText:r.default?r.default():e.text)return Lr("span",{class:na("text")},[t])},a=()=>{var{color:t,plain:n}=e;if(t){var r={color:n?t:"white"};return n||(r.background=t),t.includes("gradient")?r.border=0:r.borderColor=t,r}},u=t=>{e.loading?ls(t):e.disabled||(n("click",t),o())};return()=>{var{tag:t,type:n,size:r,block:o,round:c,plain:l,square:f,loading:h,disabled:p,hairline:d,nativeType:g,iconPosition:v}=e,y=[na([n,r,{plain:l,block:o,round:c,square:f,loading:h,disabled:p,hairline:d}]),{"van-hairline--surround":d}];return Lr(t,{type:g,class:y,style:a(),disabled:p,onClick:u},{default:()=>[Lr("div",{class:na("content")},["left"===v&&i(),s(),"right"===v&&i()])]})}}})),oa={show:Boolean,zIndex:Ai,overlay:Ti,duration:Ai,teleport:[String,Object],lockScroll:Ti,lazyRender:Ti,beforeClose:Function,overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,closeOnClickOverlay:Ti};function ia(){var e=_t(0),t=_t(0),n=_t(0),r=_t(0),o=_t(0),i=_t(0),s=_t(""),a=()=>{n.value=0,r.value=0,o.value=0,i.value=0,s.value=""};return{move:a=>{var u,c,l=a.touches[0];n.value=l.clientX<0?0:l.clientX-e.value,r.value=l.clientY-t.value,o.value=Math.abs(n.value),i.value=Math.abs(r.value),s.value||(s.value=(u=o.value,c=i.value,u>c&&u>10?"horizontal":c>u&&c>10?"vertical":""))},start:n=>{a(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:a,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:o,offsetY:i,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value}}var sa=0;function aa(e){var t=_t(!1);return Lo(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}var ua=Symbol();function ca(e){var t=Vt(ua,null);t&&Lo(t,(t=>{t&&e()}))}var[la,fa]=ks("overlay"),ha=js(en({name:la,props:{show:Boolean,zIndex:Ai,duration:Ai,className:null,lockScroll:Ti,customStyle:Object},setup(e,t){var{slots:n}=t,r=aa((()=>e.show)),o=e=>{ls(e,!0)},i=r((()=>{var t=Ei(ys(e.zIndex),e.customStyle);return Qi(e.duration)&&(t.animationDuration=e.duration+"s"),Jn(Lr("div",{style:t,class:[fa(),e.className],onTouchmove:e.lockScroll?o:wi},[null==n.default?void 0:n.default()]),[[vi,e.show]])}));return()=>Lr(oi,{name:"van-fade",appear:!0},{default:i})}})),pa=Ei({},oa,{round:Boolean,position:ki("center"),closeIcon:ki("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:ki("top-right"),safeAreaInsetBottom:Boolean}),[da,ga]=ks("popup"),va=2e3,ya=js(en({name:da,inheritAttrs:!1,props:pa,emits:["open","close","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,t){var n,r,o,i,s,a,u,c,l,{emit:f,attrs:h,slots:p}=t,d=_t(),g=_t(),v=aa((()=>e.show||!e.lazyRender)),y=Nt((()=>{var t={zIndex:d.value};Qi(e.duration)&&(t["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s");return t})),m=()=>{n||(void 0!==e.zIndex&&(va=+e.zIndex),n=!0,d.value=++va,f("open"))},_=()=>{n&&Ls(e.beforeClose,{done(){n=!1,f("close"),f("update:show",!1)}})},b=t=>{f("click-overlay",t),e.closeOnClickOverlay&&_()},w=()=>{if(e.overlay)return Lr(ha,{show:e.show,class:e.overlayClass,zIndex:d.value,duration:e.duration,customStyle:e.overlayStyle,onClick:b},{default:p["overlay-content"]})},E=e=>{f("click-close-icon",e),_()},S=()=>{if(e.closeable)return Lr(Js,{role:"button",tabindex:0,name:e.closeIcon,class:[ga("close-icon",e.closeIconPosition),"van-haptics-feedback"],classPrefix:e.iconPrefix,onClick:E},null)},O=()=>f("opened"),I=()=>f("closed"),A=v((()=>{var{round:t,position:n,safeAreaInsetBottom:r}=e;return Jn(Lr("div",Wr({ref:g,style:y.value,class:[ga({round:t,[n]:n}),{"van-safe-area-bottom":r}]},h),[null==p.default?void 0:p.default(),S()]),[[vi,e.show]])})),T=()=>{var{position:t,transition:n,transitionAppear:r}=e;return Lr(oi,{name:n||("center"===t?"van-fade":"van-popup-slide-"+t),appear:r,onAfterEnter:O,onAfterLeave:I},{default:A})};return Lo((()=>e.show),(e=>{e?m():(n=!1,f("close"))})),Us({popupRef:g}),o=g,i=()=>e.show&&e.lockScroll,s=ia(),a=e=>{s.move(e);var t=s.deltaY.value>0?"10":"01",n=Ki(e.target,o.value),{scrollHeight:r,offsetHeight:i,scrollTop:a}=n,u="11";0===a?u=i>=r?"00":"01":a+i>=r&&(u="10"),"11"===u||!s.isVertical()||parseInt(u,2)&parseInt(t,2)||ls(e,!0)},u=()=>{document.addEventListener("touchstart",s.start),document.addEventListener("touchmove",a,{passive:!1}),sa||document.body.classList.add("van-overflow-hidden"),sa++},c=()=>{sa&&(document.removeEventListener("touchstart",s.start),document.removeEventListener("touchmove",a),--sa||document.body.classList.remove("van-overflow-hidden"))},l=()=>i()&&c(),qi((()=>i()&&u())),un(l),_n(l),Lo(i,(e=>{e?u():c()})),Wi("popstate",(()=>{e.closeOnPopstate&&(_(),r=!1)})),vn((()=>{e.show&&m()})),an((()=>{r&&(f("update:show",!0),r=!1)})),un((()=>{e.show&&(_(),r=!0)})),$t(ua,(()=>e.show)),()=>e.teleport?Lr(lr,{to:e.teleport},{default:()=>[w(),T()]}):Lr(vr,null,[w(),T()])}})),[ma,_a]=ks("cell"),ba={icon:String,size:String,title:Ai,value:Ai,label:Ai,center:Boolean,isLink:Boolean,border:Ti,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},wa=js(en({name:ma,props:Ei({},ba,Ds),setup(e,t){var{slots:n}=t,r=Bs(),o=()=>{if(n.label||Qi(e.label))return Lr("div",{class:[_a("label"),e.labelClass]},[n.label?n.label():e.label])},i=()=>{if(n.title||Qi(e.title))return Lr("div",{class:[_a("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():Lr("span",null,[e.title]),o()])},s=()=>{var t=n.value||n.default;if(t||Qi(e.value)){var r=n.title||Qi(e.title);return Lr("div",{class:[_a("value",{alone:!r}),e.valueClass]},[t?t():Lr("span",null,[e.value])])}},a=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){var t=e.arrowDirection?"arrow-"+e.arrowDirection:"arrow";return Lr(Js,{name:t,class:_a("right-icon")},null)}};return()=>{var t,{size:o,center:u,border:c,isLink:l,required:f}=e,h=null!=(t=e.clickable)?t:l,p={center:u,required:f,clickable:h,borderless:!c};return o&&(p[o]=!!o),Lr("div",{class:_a(p),role:h?"button":void 0,tabindex:h?0:void 0,onClick:r},[n.icon?n.icon():e.icon?Lr(Js,{name:e.icon,class:_a("left-icon"),classPrefix:e.iconPrefix},null):void 0,i(),s(),a(),null==n.extra?void 0:n.extra()])}}})),[Ea,Sa]=ks("form"),Oa=js(en({name:Ea,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:Ai,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:Ti,validateTrigger:ki("onBlur"),showErrorMessage:Ti,errorMessageAlign:String},emits:["submit","failed"],setup(e,t){var{emit:n,slots:r}=t,{children:o,linkChildren:i}=Fi(Ps),s=e=>e?o.filter((t=>e.includes(t.name))):o,a=t=>{return"string"==typeof t?(e=>{var t=o.find((t=>t.name===e));return t?new Promise(((e,n)=>{t.validate().then((t=>{t?n(t):e()}))})):Promise.reject()})(t):e.validateFirst?(n=t,new Promise(((e,t)=>{var r=[];s(n).reduce(((e,t)=>e.then((()=>{if(!r.length)return t.validate().then((e=>{e&&r.push(e)}))}))),Promise.resolve()).then((()=>{r.length?t(r):e()}))}))):(e=>new Promise(((t,n)=>{var r=s(e);Promise.all(r.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?n(e):t()}))})))(t);var n},u=(e,t)=>{o.some((n=>n.name===e&&(n.$el.scrollIntoView(t),!0)))},c=()=>{var t=o.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{});a().then((()=>n("submit",t))).catch((r=>{n("failed",{values:t,errors:r}),e.scrollToError&&r[0].name&&u(r[0].name)}))},l=e=>{ls(e),c()};return i({props:e}),Us({submit:c,validate:a,scrollToField:u,resetValidation:e=>{"string"==typeof e&&(e=[e]),s(e).forEach((e=>{e.resetValidation()}))}}),()=>Lr("form",{class:Sa(),onSubmit:l},[null==r.default?void 0:r.default()])}}));function Ia(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function Aa(e,t){var{message:n}=t;return es(n)?n(e,t):n||""}function Ta(e){var{target:t}=e;t.composing=!0}function xa(e){var{target:t}=e;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var Na=0;function Ca(){var e=Zr(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t+"-"+ ++Na}var[Ra,ka]=ks("field"),Pa={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Ai,formatter:Function,clearIcon:ki("clear"),modelValue:Ri(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,clearTrigger:ki("focus"),formatTrigger:ki("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},La=en({name:Ra,props:Ei({},ba,Pa,{rows:Ai,type:ki("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Ai,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,t){var{emit:n,slots:r}=t,o=Ca(),i=st({focused:!1,validateFailed:!1,validateMessage:""}),s=_t(),a=_t(),{parent:u}=Mi(Ps),c=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},l=t=>Qi(e[t])?e[t]:u&&Qi(u.props[t])?u.props[t]:void 0,f=Nt((()=>{var t=l("readonly");if(e.clearable&&!t){var n=""!==c(),r="always"===e.clearTrigger||"focus"===e.clearTrigger&&i.focused;return n&&r}return!1})),h=Nt((()=>a.value&&r.input?a.value():e.modelValue)),p=e=>e.reduce(((e,t)=>e.then((()=>{if(!i.validateFailed){var{value:e}=h;return t.formatter&&(e=t.formatter(e,t)),Ia(e,t)?t.validator?function(e,t){return new Promise((n=>{var r=t.validator(e,t);if(ns(r))return r.then(n);n(r)}))}(e,t).then((n=>{n&&"string"==typeof n?(i.validateFailed=!0,i.validateMessage=n):!1===n&&(i.validateFailed=!0,i.validateMessage=Aa(e,t))})):void 0:(i.validateFailed=!0,void(i.validateMessage=Aa(e,t)))}}))),Promise.resolve()),d=()=>{i.validateFailed&&(i.validateFailed=!1,i.validateMessage="")},g=function(t){return void 0===t&&(t=e.rules),new Promise((n=>{d(),t?p(t).then((()=>{i.validateFailed?n({name:e.name,message:i.validateMessage}):n()})):n()}))},v=t=>{if(u&&e.rules){var n=u.props.validateTrigger===t,r=e.rules.filter((e=>e.trigger?e.trigger===t:n));r.length&&g(r)}},y=function(t,r){if(void 0===r&&(r="onChange"),t=(t=>{var{maxlength:n}=e;if(Qi(n)&&t.length>n){var r=c();return r&&r.length===+n?r:t.slice(0,+n)}return t})(t),"number"===e.type||"digit"===e.type){var o="number"===e.type;t=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),e=t?Ss(e,".",/\./g):e.split(".")[0];var r=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?Ss(e,"-",/-/g):e.replace(/-/,"")).replace(r,"")}(t,o,o)}e.formatter&&r===e.formatTrigger&&(t=e.formatter(t)),s.value&&s.value.value!==t&&(s.value.value=t),t!==e.modelValue&&n("update:modelValue",t)},m=e=>{e.target.composing||y(e.target.value)},_=()=>{var e;return null==(e=s.value)?void 0:e.blur()},b=()=>{var t=s.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){var n=ss();e.style.height="auto";var r=e.scrollHeight;if(ts(t)){var{maxHeight:o,minHeight:i}=t;void 0!==o&&(r=Math.min(r,o)),void 0!==i&&(r=Math.max(r,i))}r&&(e.style.height=r+"px",as(n))}(t,e.autosize)},w=e=>{i.focused=!0,n("focus",e),Oo(b),l("readonly")&&_()},E=e=>{l("readonly")||(i.focused=!1,y(c(),"onBlur"),n("blur",e),v("onBlur"),Oo(b),cs&&as(ss()))},S=e=>n("click-input",e),O=e=>n("click-left-icon",e),I=e=>n("click-right-icon",e),A=e=>{ls(e),n("update:modelValue",""),n("clear",e)},T=Nt((()=>"boolean"==typeof e.error?e.error:!!(u&&u.props.showError&&i.validateFailed)||void 0)),x=Nt((()=>{var e=l("labelWidth");if(e)return{width:gs(e)}})),N=t=>{13===t.keyCode&&(u&&u.props.submitOnEnter||"textarea"===e.type||ls(t),"search"===e.type&&_());n("keypress",t)},C=()=>e.id||o+"-input",R=()=>{var t=ka("control",[l("inputAlign"),{error:T.value,custom:!!r.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(r.input)return Lr("div",{class:t,onClick:S},[r.input()]);var n,i={id:C(),ref:s,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,value:e.modelValue,disabled:l("disabled"),readonly:l("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,"aria-labelledby":e.label?o+"-label":void 0,onBlur:E,onFocus:w,onInput:m,onClick:S,onChange:xa,onKeypress:N,onCompositionend:xa,onCompositionstart:Ta};return"textarea"===e.type?Lr("textarea",i,null):Lr("input",Wr("number"===(n=e.type)?{type:"text",inputmode:"decimal"}:"digit"===n?{type:"tel",inputmode:"numeric"}:{type:n},i),null)},k=()=>{var t=r["right-icon"];if(e.rightIcon||t)return Lr("div",{class:ka("right-icon"),onClick:I},[t?t():Lr(Js,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},P=()=>{if(e.showWordLimit&&e.maxlength){var t=c().length;return Lr("div",{class:ka("word-limit")},[Lr("span",{class:ka("word-num")},[t]),Dr("/"),e.maxlength])}},L=()=>{if(!u||!1!==u.props.showErrorMessage){var t=e.errorMessage||i.validateMessage;if(t){var n=r["error-message"],o=l("errorMessageAlign");return Lr("div",{class:ka("error-message",o)},[n?n({message:t}):t])}}},j=()=>[Lr("div",{class:ka("body")},[R(),f.value&&Lr(Js,{name:e.clearIcon,class:ka("clear"),onTouchstart:A},null),k(),r.button&&Lr("div",{class:ka("button")},[r.button()])]),P(),L()];return Us({blur:_,focus:()=>{var e;return null==(e=s.value)?void 0:e.focus()},validate:g,formValue:h,resetValidation:d}),$t(Xi,{customValue:a,resetValidation:d,validateWithTrigger:v}),Lo((()=>e.modelValue),(()=>{y(c()),d(),v("onChange"),Oo(b)})),vn((()=>{y(c(),e.formatTrigger),Oo(b)})),()=>{var t,n=l("disabled"),i=l("labelAlign"),s=(t=l("colon")?":":"",r.label?[r.label(),t]:e.label?Lr("label",{id:o+"-label",for:C()},[e.label+t]):void 0),a=(()=>{var t=r["left-icon"];if(e.leftIcon||t)return Lr("div",{class:ka("left-icon"),onClick:O},[t?t():Lr(Js,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return Lr(wa,{size:e.size,icon:e.leftIcon,class:ka({error:T.value,disabled:n,["label-"+i]:i}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:x.value,valueClass:ka("value"),titleClass:[ka("label",[i,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:a?()=>a:null,title:s?()=>s:null,value:j,extra:r.extra})}}}),ja=js(La);function Ua(){var e=st({show:!1}),t=t=>{e.show=t},n=n=>{Ei(e,n,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return Us({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function Da(e){var t=bi(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}var Ma=0;var[Ba,Fa]=ks("toast"),qa=["show","overlay","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Wa=en({name:Ba,props:{icon:String,show:Boolean,type:ki("text"),overlay:Boolean,message:Ai,iconSize:Ai,duration:Ci(2e3),position:ki("middle"),className:null,iconPrefix:String,transition:ki("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:null,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},emits:["update:show"],setup(e,t){var n,{emit:r}=t,o=!1,i=()=>{var t=e.show&&e.forbidClick;o!==t&&((o=t)?(Ma||document.body.classList.add("van-toast--unclickable"),Ma++):Ma&&(--Ma||document.body.classList.remove("van-toast--unclickable")))},s=e=>r("update:show",e),a=()=>{e.closeOnClick&&s(!1)},u=()=>clearTimeout(n),c=()=>{var{icon:t,type:n,iconSize:r,iconPrefix:o,loadingType:i}=e;return t||"success"===n||"fail"===n?Lr(Js,{name:t||n,size:r,class:Fa("icon"),classPrefix:o},null):"loading"===n?Lr(ea,{class:Fa("loading"),size:r,type:i},null):void 0},l=()=>{var{type:t,message:n}=e;if(Qi(n)&&""!==n)return"html"===t?Lr("div",{class:Fa("text"),innerHTML:String(n)},null):Lr("div",{class:Fa("text")},[n])};return Lo((()=>[e.show,e.forbidClick]),i),Lo((()=>[e.show,e.type,e.message,e.duration]),(()=>{u(),e.show&&e.duration>0&&(n=setTimeout((()=>{s(!1)}),e.duration))})),vn(i),bn(i),()=>Lr(ya,Wr({class:[Fa([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:a,onClosed:u,"onUpdate:show":s},Ii(e,qa)),{default:()=>[c(),l()]})}}),$a={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},Va=[],Ha=!1,Ga=Ei({},$a),za=new Map;function Ka(e){return ts(e)?e:{message:e}}function Ja(){if(!Va.length||Ha){var e=function(){var{instance:e,unmount:t}=Da({setup(){var n=_t(""),{open:r,state:o,close:i,toggle:s}=Ua(),a=()=>{Ha&&(Va=Va.filter((t=>t!==e)),t())};return Lo(n,(e=>{o.message=e})),Zr().render=()=>Lr(Wa,Wr(o,{onClosed:a,"onUpdate:show":s}),null),{open:r,clear:i,message:n}}});return e}();Va.push(e)}return Va[Va.length-1]}function Ya(e){if(void 0===e&&(e={}),!Si)return{};var t=Ja(),n=Ka(e);return t.open(Ei({},Ga,za.get(n.type||Ga.type),n)),t}var Xa=e=>t=>Ya(Ei({type:e},Ka(t)));Ya.loading=Xa("loading"),Ya.success=Xa("success"),Ya.fail=Xa("fail"),Ya.clear=e=>{if(Va.length)if(e)Va.forEach((e=>{e.clear()})),Va=[];else if(Ha){var t;null==(t=Va.shift())||t.clear()}else Va[0].clear()},Ya.setDefaultOptions=function(e,t){"string"==typeof e?za.set(e,t):Ei(Ga,e)},Ya.resetDefaultOptions=e=>{"string"==typeof e?za.delete(e):(Ga=Ei({},$a),za.clear())},Ya.allowMultiple=function(e){void 0===e&&(e=!0),Ha=e},Ya.install=e=>{e.use(js(Wa)),e.config.globalProperties.$toast=Ya};var Za={name:null,shape:ki("round"),disabled:Boolean,iconSize:Ai,modelValue:null,checkedColor:String,labelPosition:String,labelDisabled:Boolean},Qa=en({props:Ei({},Za,{bem:xi(Function),role:String,parent:Object,checked:Boolean,bindGroup:Ti}),emits:["click","toggle"],setup(e,t){var{emit:n,slots:r}=t,o=_t(),i=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},s=Nt((()=>i("disabled")||e.disabled)),a=Nt((()=>i("direction"))),u=Nt((()=>{var t=e.checkedColor||i("checkedColor");if(t&&e.checked&&!s.value)return{borderColor:t,backgroundColor:t}})),c=t=>{var{target:r}=t,i=o.value,a=i===r||(null==i?void 0:i.contains(r));s.value||!a&&e.labelDisabled||n("toggle"),n("click",t)},l=()=>{var{bem:t,shape:n,checked:a}=e,c=e.iconSize||i("iconSize");return Lr("div",{ref:o,class:t("icon",[n,{disabled:s.value,checked:a}]),style:{fontSize:gs(c)}},[r.icon?r.icon({checked:a,disabled:s.value}):Lr(Js,{name:"success",style:u.value},null)])},f=()=>{if(r.default)return Lr("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[r.default()])};return()=>{var t="left"===e.labelPosition?[f(),l()]:[l(),f()];return Lr("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},a.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:c},[t])}}});var[eu,tu]=ks("image"),nu=js(en({name:eu,props:{src:String,alt:String,fit:String,round:Boolean,width:Ai,height:Ai,radius:Ai,lazyLoad:Boolean,iconSize:Ai,showError:Ti,errorIcon:ki("photo-fail"),iconPrefix:String,showLoading:Ti,loadingIcon:ki("photo")},emits:["load","error"],setup(e,t){var{emit:n,slots:r}=t,o=_t(!1),i=_t(!0),s=_t(),{$Lazyload:a}=Zr().proxy,u=Nt((()=>{var t={width:gs(e.width),height:gs(e.height)};return Qi(e.radius)&&(t.overflow="hidden",t.borderRadius=gs(e.radius)),t}));Lo((()=>e.src),(()=>{o.value=!1,i.value=!0}));var c=e=>{i.value=!1,n("load",e)},l=e=>{o.value=!0,i.value=!1,n("error",e)},f=(t,n,r)=>r?r():Lr(Js,{name:t,size:e.iconSize,class:n,classPrefix:e.iconPrefix},null),h=()=>{if(!o.value&&e.src){var t,n={alt:e.alt,class:tu("img"),style:{objectFit:e.fit}};return e.lazyLoad?Jn(Lr("img",Wr({ref:s},n),null),[[(t="lazy",dr("directives",t)),e.src]]):Lr("img",Wr({src:e.src,onLoad:c,onError:l},n),null)}},p=e=>{var{el:t}=e;t===s.value&&i.value&&c()},d=e=>{var{el:t}=e;t!==s.value||o.value||l()};return a&&Si&&(a.$on("loaded",p),a.$on("error",d),_n((()=>{a.$off("loaded",p),a.$off("error",d)}))),()=>Lr("div",{class:tu({round:e.round}),style:u.value},[h(),i.value&&e.showLoading?Lr("div",{class:tu("loading")},[f(e.loadingIcon,tu("loading-icon"),r.loading)]):o.value&&e.showError?Lr("div",{class:tu("error")},[f(e.errorIcon,tu("error-icon"),r.error)]):void 0,null==r.default?void 0:r.default()])}}));var[ru,ou]=ks("sticky"),iu=js(en({name:ru,props:{zIndex:Ai,position:ki("top"),container:Object,offsetTop:Ri(0),offsetBottom:Ri(0)},emits:["scroll","change"],setup(e,t){var{emit:n,slots:r}=t,o=_t(),i=Ji(o),s=st({fixed:!1,width:0,height:0,transform:0}),a=Nt((()=>_s("top"===e.position?e.offsetTop:e.offsetBottom))),u=Nt((()=>{var{fixed:e,height:t,width:n}=s;if(e)return{width:n+"px",height:t+"px"}})),c=Nt((()=>{if(s.fixed){var t=Ei(ys(e.zIndex),{width:s.width+"px",height:s.height+"px",[e.position]:a.value+"px"});return s.transform&&(t.transform="translate3d(0, "+s.transform+"px, 0)"),t}})),l=()=>{if(o.value&&!fs(o)){var{container:t,position:r}=e,i=Di(o),u=os(window);if(s.width=i.width,s.height=i.height,"top"===r)if(t){var c=Di(t),l=c.bottom-a.value-s.height;s.fixed=a.value>i.top&&c.bottom>0,s.transform=l<0?l:0}else s.fixed=a.value>i.top;else{var{clientHeight:f}=document.documentElement;if(t){var h=Di(t),p=f-h.top-a.value-s.height;s.fixed=f-a.value<i.bottom&&f>h.top,s.transform=p<0?-p:0}else s.fixed=f-a.value<i.bottom}(e=>{n("scroll",{scrollTop:e,isFixed:s.fixed})})(u)}};return Lo((()=>s.fixed),(e=>n("change",e))),Wi("scroll",l,{target:i}),function(e,t){if(Si&&window.IntersectionObserver){var n=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),r=()=>{e.value&&n.unobserve(e.value)};un(r),_n(r),qi((()=>{e.value&&n.observe(e.value)}))}}(o,l),()=>Lr("div",{ref:o,style:u.value},[Lr("div",{class:ou({fixed:s.fixed}),style:c.value},[null==r.default?void 0:r.default()])])}})),[su,au]=ks("tab"),uu=en({name:su,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Ai,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,renderTitle:Function,inactiveColor:String,showZeroBadge:Ti},setup(e){var t=Nt((()=>{var t={},{type:n,color:r,disabled:o,isActive:i,activeColor:s,inactiveColor:a}=e;r&&"card"===n&&(t.borderColor=r,o||(i?t.backgroundColor=r:t.color=r));var u=i?s:a;return u&&(t.color=u),t}));return()=>{return Lr("div",{id:e.id,role:"tab",class:[au({active:e.isActive,disabled:e.disabled})],style:t.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[(n=Lr("span",{class:au("text",{ellipsis:!e.scrollable})},[e.renderTitle?e.renderTitle():e.title]),e.dot||Qi(e.badge)&&""!==e.badge?Lr(Ws,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[n]}):n)]);var n}}}),[cu,lu]=ks("swipe"),fu={loop:Ti,width:Ai,height:Ai,vertical:Boolean,autoplay:Ri(0),duration:Ri(500),touchable:Ti,lazyRender:Boolean,initialSwipe:Ri(0),indicatorColor:String,showIndicators:Ti,stopPropagation:Ti},hu=Symbol(cu),pu=js(en({name:cu,props:fu,emits:["change"],setup(e,t){var n,r,{emit:o,slots:i}=t,s=_t(),a=st({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),u=ia(),{children:c,linkChildren:l}=Fi(hu),f=Nt((()=>c.length)),h=Nt((()=>a[e.vertical?"height":"width"])),p=Nt((()=>e.vertical?u.deltaY.value:u.deltaX.value)),d=Nt((()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-h.value*f.value:0)),g=Nt((()=>Math.ceil(Math.abs(d.value)/h.value))),v=Nt((()=>f.value*h.value)),y=Nt((()=>(a.active+f.value)%f.value)),m=Nt((()=>{var t=e.vertical?"vertical":"horizontal";return u.direction.value===t})),_=Nt((()=>{var t={transitionDuration:(a.swiping?0:e.duration)+"ms",transform:"translate"+(e.vertical?"Y":"X")+"("+a.offset+"px)"};if(h.value){var n=e.vertical?"height":"width",r=e.vertical?"width":"height";t[n]=v.value+"px",t[r]=e[r]?e[r]+"px":""}return t})),b=function(t,n){void 0===n&&(n=0);var r=t*h.value;e.loop||(r=Math.min(r,-d.value));var o=n-r;return e.loop||(o=Es(o,d.value,0)),o},w=t=>{var{pace:n=0,offset:r=0,emitChange:i}=t;if(!(f.value<=1)){var{active:s}=a,u=(t=>{var{active:n}=a;return t?e.loop?Es(n+t,-1,f.value):Es(n+t,0,g.value):n})(n),l=b(u,r);if(e.loop){if(c[0]&&l!==d.value){var h=l<d.value;c[0].setOffset(h?v.value:0)}if(c[f.value-1]&&0!==l){var p=l>0;c[f.value-1].setOffset(p?-v.value:0)}}a.active=u,a.offset=l,i&&u!==s&&o("change",y.value)}},E=()=>{a.swiping=!0,a.active<=-1?w({pace:f.value}):a.active>=f.value&&w({pace:-f.value})},S=()=>{E(),u.reset(),ji((()=>{a.swiping=!1,w({pace:1,emitChange:!0})}))},O=()=>clearTimeout(n),I=()=>{O(),e.autoplay>0&&f.value>1&&(n=setTimeout((()=>{S(),I()}),+e.autoplay))},A=function(t){if(void 0===t&&(t=+e.initialSwipe),s.value){if(!fs(s)){var n,r,o={width:s.value.offsetWidth,height:s.value.offsetHeight};a.rect=o,a.width=+(null!=(n=e.width)?n:o.width),a.height=+(null!=(r=e.height)?r:o.height)}f.value&&(t=Math.min(f.value-1,t)),a.active=t,a.swiping=!0,a.offset=b(t),c.forEach((e=>{e.setOffset(0)})),I()}},T=()=>A(a.active),x=t=>{e.touchable&&(u.start(t),r=Date.now(),O(),E())},N=t=>{e.touchable&&a.swiping&&(u.move(t),m.value&&(ls(t,e.stopPropagation),w({offset:p.value})))},C=()=>{if(e.touchable&&a.swiping){var t=Date.now()-r,n=p.value/t;if((Math.abs(n)>.25||Math.abs(p.value)>h.value/2)&&m.value){var o=e.vertical?u.offsetY.value:u.offsetX.value,i=0;i=e.loop?o>0?p.value>0?-1:1:0:-Math[p.value>0?"ceil":"floor"](p.value/h.value),w({pace:i,emitChange:!0})}else p.value&&w({pace:0});a.swiping=!1,I()}},R=(t,n)=>{var r=n===y.value,o=r?{backgroundColor:e.indicatorColor}:void 0;return Lr("i",{style:o,class:lu("indicator",{active:r})},null)};return Us({prev:()=>{E(),u.reset(),ji((()=>{a.swiping=!1,w({pace:-1,emitChange:!0})}))},next:S,state:a,resize:T,swipeTo:function(t,n){void 0===n&&(n={}),E(),u.reset(),ji((()=>{var r;r=e.loop&&t===f.value?0===a.active?0:t:t%f.value,n.immediate?ji((()=>{a.swiping=!1})):a.swiping=!1,w({pace:r-a.active,emitChange:!0})}))}}),l({size:h,props:e,count:f,activeIndicator:y}),Lo((()=>e.initialSwipe),(e=>A(+e))),Lo(f,(()=>A(a.active))),Lo((()=>e.autoplay),I),Lo([ps,ds],T),Lo(function(){if(!Yi&&(Yi=_t("visible"),Pi)){const e=()=>{Yi.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Yi}(),(e=>{"visible"===e?I():O()})),vn(A),an((()=>A(a.active))),ca((()=>A(a.active))),un(O),_n(O),()=>Lr("div",{ref:s,class:lu()},[Lr("div",{style:_.value,class:lu("track",{vertical:e.vertical}),onTouchstart:x,onTouchmove:N,onTouchend:C,onTouchcancel:C},[null==i.default?void 0:i.default()]),i.indicator?i.indicator({active:y.value}):e.showIndicators&&f.value>1?Lr("div",{class:lu("indicators",{vertical:e.vertical})},[Array(f.value).fill("").map(R)]):void 0])}})),[du,gu]=ks("tabs"),vu=en({name:du,props:{count:xi(Number),inited:Boolean,animated:Boolean,duration:xi(Ai),swipeable:Boolean,lazyRender:Boolean,currentIndex:xi(Number)},emits:["change"],setup(e,t){var{emit:n,slots:r}=t,o=_t(),i=e=>n("change",e),s=t=>{var n=o.value;n&&n.state.active!==t&&n.swipeTo(t,{immediate:!e.inited})};return Lo((()=>e.currentIndex),s),vn((()=>{s(e.currentIndex)})),()=>{return Lr("div",{class:gu("content",{animated:e.animated||e.swipeable})},[(t=null==r.default?void 0:r.default(),e.animated||e.swipeable?Lr(pu,{ref:o,loop:!1,class:gu("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[t]}):t)]);var t}}}),[yu,mu]=ks("tabs"),_u={type:ki("line"),color:String,border:Boolean,sticky:Boolean,active:Ri(0),duration:Ri(.3),animated:Boolean,ellipsis:Ti,swipeable:Boolean,scrollspy:Boolean,offsetTop:Ri(0),background:String,lazyRender:Ti,lineWidth:Ai,lineHeight:Ai,beforeChange:Function,swipeThreshold:Ri(5),titleActiveColor:String,titleInactiveColor:String},bu=Symbol(yu),wu=en({name:yu,props:_u,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,t){var n,r,o,i,{emit:s,slots:a}=t,u=_t(),c=_t(),l=_t(),f=Ca(),h=Ji(u),[p,d]=(i=_t([]),yn((()=>{i.value=[]})),[i,e=>t=>{i.value[e]=t}]),{children:g,linkChildren:v}=Fi(bu),y=st({inited:!1,position:"",lineStyle:{},currentIndex:-1}),m=Nt((()=>g.length>e.swipeThreshold||!e.ellipsis)),_=Nt((()=>({borderColor:e.color,background:e.background}))),b=(e,t)=>{var n;return null!=(n=e.name)?n:t},w=Nt((()=>{var e=g[y.currentIndex];if(e)return b(e,y.currentIndex)})),E=Nt((()=>_s(e.offsetTop))),S=Nt((()=>e.sticky?E.value+n:0)),O=t=>{var n=c.value,r=p.value;if(m.value&&n&&r&&r[y.currentIndex]){var o=r[y.currentIndex].$el;!function(e,t,n){var r=0,o=e.scrollLeft,i=0===n?1:Math.round(1e3*n/16);!function n(){e.scrollLeft+=(t-o)/i,++r<i&&Li(n)}()}(n,o.offsetLeft-(n.offsetWidth-o.offsetWidth)/2,t?0:+e.duration)}},I=()=>{var t=y.inited;Oo((()=>{var n=p.value;if(n&&n[y.currentIndex]&&"line"===e.type&&!fs(u.value)){var r=n[y.currentIndex].$el,{lineWidth:o,lineHeight:i}=e,s=r.offsetLeft+r.offsetWidth/2,a={width:gs(o),backgroundColor:e.color,transform:"translateX("+s+"px) translateX(-50%)"};if(t&&(a.transitionDuration=e.duration+"s"),Qi(i)){var c=gs(i);a.height=c,a.borderRadius=c}y.lineStyle=a}}))},A=t=>{var n=(e=>{for(var t=e<y.currentIndex?-1:1;e>=0&&e<g.length;){if(!g[e].disabled)return e;e+=t}})(t);if(Qi(n)){var r=g[n],o=b(r,n),i=null!==y.currentIndex;y.currentIndex=n,o!==e.active&&(s("update:active",o),i&&s("change",o,r.title))}},T=e=>{var t=g.find(((t,n)=>b(t,n)===e)),n=t?g.indexOf(t):0;A(n)},x=function(t){if(void 0===t&&(t=!1),e.scrollspy){var n=g[y.currentIndex].$el;if(n&&h.value){var o=us(n,h.value)-S.value;r=!0,function(e,t,n,r){var o=os(e),i=o<t,s=0===n?1:Math.round(1e3*n/16),a=(t-o)/s;!function n(){o+=a,(i&&o>t||!i&&o<t)&&(o=t),is(e,o),i&&o<t||!i&&o>t?Li(n):r&&Li(r)}()}(h.value,o,t?0:+e.duration,(()=>{r=!1}))}}},N=e=>{o=e.isFixed,s("scroll",e)},C=()=>g.map(((t,n)=>Lr(uu,Wr({id:f+"-"+n,ref:d(n),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,isActive:n===y.currentIndex,controls:t.id,scrollable:m.value,renderTitle:t.$slots.title,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:r=>((t,n,r)=>{var{title:o,disabled:i}=g[n],a=b(g[n],n);i?s("disabled",a,o):(Ls(e.beforeChange,{args:[a],done:()=>{A(n),x()}}),s("click",a,o),Ms(t)),s("click-tab",{name:a,title:o,event:r,disabled:i})})(t,n,r)},Ii(t,["dot","badge","title","disabled","showZeroBadge"])),null))),R=()=>{var t,n,{type:r,border:o}=e;return Lr("div",{ref:l,class:[mu("wrap",{scrollable:m.value}),{"van-hairline--top-bottom":"line"===r&&o}]},[Lr("div",{ref:c,role:"tablist",class:mu("nav",[r,{complete:m.value}]),style:_.value,"aria-orientation":"horizontal"},[null==(t=a["nav-left"])?void 0:t.call(a),C(),"line"===r&&Lr("div",{class:mu("line"),style:y.lineStyle},null),null==(n=a["nav-right"])?void 0:n.call(a)])])};Lo([()=>e.color,ps],I),Lo((()=>e.active),(e=>{e!==w.value&&T(e)})),Lo((()=>g.length),(()=>{y.inited&&(T(e.active),I(),Oo((()=>{O(!0)})))})),Lo((()=>y.currentIndex),(()=>{O(),I(),o&&!e.scrollspy&&as(Math.ceil(us(u.value)-E.value))}));return Us({resize:I,scrollTo:e=>{Oo((()=>{T(e),x(!0)}))}}),an(I),ca(I),qi((()=>{T(e.active),Oo((()=>{y.inited=!0,l.value&&(n=Di(l.value).height),O(!0)}))})),Wi("scroll",(()=>{if(e.scrollspy&&!r){var t=(()=>{for(var e=0;e<g.length;e++){var{top:t}=Di(g[e].$el);if(t>S.value)return 0===e?0:e-1}return g.length-1})();A(t)}}),{target:h}),v({id:f,props:e,setLine:I,onRendered:(e,t)=>s("rendered",e,t),currentName:w,scrollIntoView:O}),()=>{var t,n;return Lr("div",{ref:u,class:mu([e.type])},[e.sticky?Lr(iu,{container:u.value,offsetTop:E.value,onScroll:N},{default:()=>[R(),null==(t=a["nav-bottom"])?void 0:t.call(a)]}):[R(),null==(n=a["nav-bottom"])?void 0:n.call(a)],Lr(vu,{count:g.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:A},{default:()=>[null==a.default?void 0:a.default()]})])}}}),Eu=Symbol(),[Su,Ou]=ks("swipe-item"),Iu=js(en({name:Su,setup(e,t){var n,{slots:r}=t,o=st({offset:0,inited:!1,mounted:!1}),{parent:i,index:s}=Mi(hu);if(i){var a=Nt((()=>{var e={},{vertical:t}=i.props;return i.size.value&&(e[t?"height":"width"]=i.size.value+"px"),o.offset&&(e.transform="translate"+(t?"Y":"X")+"("+o.offset+"px)"),e})),u=Nt((()=>{var{loop:e,lazyRender:t}=i.props;if(!t||n)return!0;if(!o.mounted)return!1;var r=i.activeIndicator.value,a=i.count.value-1,u=0===r&&e?a:r-1,c=r===a&&e?0:r+1;return n=s.value===r||s.value===u||s.value===c}));return vn((()=>{Oo((()=>{o.mounted=!0}))})),Us({setOffset:e=>{o.offset=e}}),()=>Lr("div",{class:Ou(),style:a.value},[u.value?null==r.default?void 0:r.default():null])}}})),[Au,Tu]=ks("tab"),xu=js(en({name:Au,props:Ei({},Ds,{dot:Boolean,name:Ai,badge:Ai,title:String,disabled:Boolean,titleClass:null,titleStyle:[String,Object],showZeroBadge:Ti}),setup(e,t){var{slots:n}=t,r=Ca(),o=_t(!1),{parent:i,index:s}=Mi(bu);if(i){var a=()=>{var t;return null!=(t=e.name)?t:s.value},u=Nt((()=>{var t=a()===i.currentName.value;return t&&!o.value&&(o.value=!0,i.props.lazyRender&&Oo((()=>{i.onRendered(a(),e.title)}))),t}));return Lo((()=>e.title),(()=>{i.setLine(),i.scrollIntoView()})),$t(Eu,u),()=>{var e=i.id+"-"+s.value,{animated:t,swipeable:a,scrollspy:c,lazyRender:l}=i.props;if(n.default||t){var f=c||u.value;if(t||a)return Lr(Iu,{id:r,role:"tabpanel",class:Tu("pane-wrapper",{inactive:!u.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":e},{default:()=>[Lr("div",{class:Tu("panel")},[null==n.default?void 0:n.default()])]});var h=o.value||c||!l?null==n.default?void 0:n.default():null;return Us({id:r}),Jn(Lr("div",{id:r,role:"tabpanel",class:Tu("panel"),tabindex:f?0:-1,"aria-labelledby":e},[h]),[[vi,f]])}}}}})),Nu=js(wu),[Cu,Ru]=ks("checkbox-group"),ku={max:Ai,disabled:Boolean,iconSize:Ai,direction:String,modelValue:Ni(),checkedColor:String},Pu=Symbol(Cu);en({name:Cu,props:ku,emits:["change","update:modelValue"],setup(e,t){var{emit:n,slots:r}=t,{children:o,linkChildren:i}=Fi(Pu),s=e=>n("update:modelValue",e);return Lo((()=>e.modelValue),(e=>n("change",e))),Us({toggleAll:function(e){void 0===e&&(e={}),"boolean"==typeof e&&(e={checked:e});var{checked:t,skipDisabled:n}=e,r=o.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&n?e.checked.value:null!=t?t:!e.checked.value))).map((e=>e.name));s(r)}}),Zi((()=>e.modelValue)),i({props:e,updateValue:s}),()=>Lr("div",{class:Ru([e.direction])},[null==r.default?void 0:r.default()])}});var Lu,[ju,Uu]=ks("checkbox"),Du=js(en({name:ju,props:Ei({},Za,{bindGroup:Ti}),emits:["change","update:modelValue"],setup(e,t){var{emit:n,slots:r}=t,{parent:o}=Mi(Pu),i=Nt((()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue)),s=function(t){void 0===t&&(t=!i.value),o&&e.bindGroup?(t=>{var{name:n}=e,{max:r,modelValue:i}=o.props,s=i.slice();if(t)r&&s.length>=r||s.includes(n)||(s.push(n),e.bindGroup&&o.updateValue(s));else{var a=s.indexOf(n);-1!==a&&(s.splice(a,1),e.bindGroup&&o.updateValue(s))}})(t):n("update:modelValue",t)};return Lo((()=>e.modelValue),(e=>n("change",e))),Us({toggle:s,props:e,checked:i}),Zi((()=>e.modelValue)),()=>Lr(Qa,Wr({bem:Uu,role:"checkbox",parent:o,checked:i.value,onToggle:s},e),Ii(r,["default","icon"]))}})),Mu=js(Gs),[Bu,Fu]=ks("dropdown-menu"),qu={overlay:Ti,zIndex:Ai,duration:Ri(.2),direction:ki("down"),activeColor:String,closeOnClickOutside:Ti,closeOnClickOverlay:Ti},Wu=Symbol(Bu),$u=en({name:Bu,props:qu,setup(e,t){var{slots:n}=t,r=Ca(),o=_t(),i=_t(),s=_t(0),{children:a,linkChildren:u}=Fi(Wu),c=Ji(o),l=Nt((()=>a.some((e=>e.state.showWrapper)))),f=Nt((()=>{if(l.value&&Qi(e.zIndex))return{zIndex:+e.zIndex+1}})),h=()=>{if(i.value){var t=Di(i);"down"===e.direction?s.value=t.bottom:s.value=ds.value-t.top}},p=(t,n)=>{var{showPopup:o}=t.state,{disabled:i,titleClass:s}=t;return Lr("div",{id:r+"-"+n,role:"button",tabindex:i?void 0:0,class:[Fu("item",{disabled:i}),{"van-haptics-feedback":!i}],onClick:()=>{var e;i||(e=n,a.forEach(((t,n)=>{n===e?(h(),t.toggle()):t.state.showPopup&&t.toggle(!1,{immediate:!0})})))}},[Lr("span",{class:[Fu("title",{down:o===("down"===e.direction),active:o}),s],style:{color:o?e.activeColor:""}},[Lr("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return u({id:r,props:e,offset:s}),function(e,t,n={}){if(!Pi)return;const{eventName:r="click"}=n;Wi(r,(n=>{const r=Et(e);r&&!r.contains(n.target)&&t(n)}),{target:document})}(o,(()=>{e.closeOnClickOutside&&a.forEach((e=>{e.toggle(!1)}))})),Wi("scroll",(()=>{l.value&&h()}),{target:c}),()=>Lr("div",{ref:o,class:Fu()},[Lr("div",{ref:i,style:f.value,class:Fu("bar",{opened:l.value})},[a.map(p)]),null==n.default?void 0:n.default()])}}),[Vu,Hu]=ks("dropdown-item"),Gu=js(en({name:Vu,props:{title:String,options:Ni(),disabled:Boolean,teleport:[String,Object],lazyRender:Ti,modelValue:null,titleClass:null},emits:["open","opened","close","closed","change","update:modelValue"],setup(e,t){var{emit:n,slots:r}=t,o=st({showPopup:!1,transition:!0,showWrapper:!1}),{parent:i,index:s}=Mi(Wu);if(i){var a=e=>()=>n(e),u=a("open"),c=a("close"),l=a("opened"),f=()=>{o.showWrapper=!1,n("closed")},h=t=>{e.teleport&&t.stopPropagation()},p=t=>{var{activeColor:r}=i.props,s=t.value===e.modelValue;return Lr(wa,{role:"menuitem",key:t.value,icon:t.icon,title:t.text,class:Hu("option",{active:s}),style:{color:s?r:""},tabindex:s?0:-1,clickable:!0,onClick:()=>{o.showPopup=!1,t.value!==e.modelValue&&(n("update:modelValue",t.value),n("change",t.value))}},{value:()=>{if(s)return Lr(Js,{class:Hu("icon"),color:r,name:"success"},null)}})},d=()=>{var{offset:t}=i,{zIndex:n,overlay:a,duration:d,direction:g,closeOnClickOverlay:v}=i.props,y=ys(n);return"down"===g?y.top=t.value+"px":y.bottom=t.value+"px",Jn(Lr("div",{style:y,class:Hu([g]),onClick:h},[Lr(ya,{show:o.showPopup,"onUpdate:show":e=>o.showPopup=e,role:"menu",class:Hu("content"),overlay:a,position:"down"===g?"top":"bottom",duration:o.transition?d:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":i.id+"-"+s.value,closeOnClickOverlay:v,onOpen:u,onClose:c,onOpened:l,onClosed:f},{default:()=>[e.options.map(p),null==r.default?void 0:r.default()]})]),[[vi,o.showWrapper]])};return Us({state:o,toggle:function(e,t){void 0===e&&(e=!o.showPopup),void 0===t&&(t={}),e!==o.showPopup&&(o.showPopup=e,o.transition=!t.immediate,e&&(o.showWrapper=!0))},renderTitle:()=>{if(r.title)return r.title();if(e.title)return e.title;var t=e.options.find((t=>t.value===e.modelValue));return t?t.text:""}}),()=>e.teleport?Lr(lr,{to:e.teleport},{default:()=>[d()]}):d()}}})),zu=js($u),Ku="van-empty-network-",Ju=(e,t,n)=>Lr("stop",{"stop-color":e,offset:t+"%","stop-opacity":n},null),Yu=Lr("svg",{viewBox:"0 0 160 160"},[Lr("defs",null,[Lr("linearGradient",{id:Ku+"1",x1:"64%",y1:"100%",x2:"64%"},[Ju("#FFF",0,.5),Ju("#F2F3F5",100)]),Lr("linearGradient",{id:Ku+"2",x1:"50%",x2:"50%",y2:"84%"},[Ju("#EBEDF0",0),Ju("#DCDEE0",100,0)]),Lr("linearGradient",{id:Ku+"3",x1:"100%",x2:"100%",y2:"100%"},[Ju("#EAEDF0",0),Ju("#DCDEE0",100)]),Lr("radialGradient",{id:Ku+"4",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[Ju("#EBEDF0",0),Ju("#FFF",100,0)])]),Lr("g",{fill:"none"},[Lr("g",{opacity:".8"},[Lr("path",{d:"M36 131V53H16v20H2v58h34z",fill:"url(#"+Ku+"1)"},null),Lr("path",{d:"M123 15h22v14h9v77h-31V15z",fill:"url(#"+Ku+"1)"},null)]),Lr("path",{fill:"url(#"+Ku+"4)",d:"M0 139h160v21H0z"},null),Lr("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:"url(#"+Ku+"2)"},null),Lr("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[Lr("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:"url(#"+Ku+"3)"},null),Lr("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:"url(#"+Ku+"3)"},null),Lr("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:"url(#"+Ku+"3)"},null),Lr("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:"url(#"+Ku+"3)"},null)]),Lr("g",{transform:"translate(31 105)"},[Lr("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),Lr("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),Lr("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),[Xu,Zu]=ks("empty"),Qu=["error","search","default"],ec=js(en({name:Xu,props:{image:ki("default"),imageSize:Ai,description:String},setup(e,t){var{slots:n}=t,r=()=>{if(n.image)return n.image();var{image:t}=e;return"network"===t?Yu:(Qu.includes(t)&&(t="https://img.yzcdn.cn/vant/empty-image-"+t+".png"),Lr("img",{src:t},null))},o=()=>{var t=n.description?n.description():e.description;if(t)return Lr("p",{class:Zu("description")},[t])},i=()=>{if(n.default)return Lr("div",{class:Zu("bottom")},[n.default()])};return()=>Lr("div",{class:Zu()},[Lr("div",{class:Zu("image"),style:vs(e.imageSize)},[r()]),o(),i()])}})),tc=e=>Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2)),nc=ks("image-preview")[1],rc=en({props:{src:String,show:Boolean,active:Number,minZoom:xi(Ai),maxZoom:xi(Ai),rootWidth:xi(Number),rootHeight:xi(Number)},emits:["scale","close"],setup(e,t){var n,r,o,i,s,a,{emit:u}=t,c=st({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),l=ia(),f=Nt((()=>{var{rootWidth:t,rootHeight:n}=e,r=n/t;return c.imageRatio>r})),h=Nt((()=>{var{scale:e,moveX:t,moveY:n,moving:r,zooming:o}=c,i={transitionDuration:o||r?"0s":".3s"};if(1!==e){var s=t/e,a=n/e;i.transform="scale("+e+", "+e+") translate("+s+"px, "+a+"px)"}return i})),p=Nt((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:n}=e,r=f.value?n/c.imageRatio:t;return Math.max(0,(c.scale*r-t)/2)}return 0})),d=Nt((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:n}=e,r=f.value?n:t*c.imageRatio;return Math.max(0,(c.scale*r-n)/2)}return 0})),g=t=>{(t=Es(t,+e.minZoom,+e.maxZoom))!==c.scale&&(c.scale=t,u("scale",{scale:t,index:e.active}))},v=()=>{g(1),c.moveX=0,c.moveY=0},y=e=>{var{touches:t}=e,{offsetX:s}=l;l.start(e),n=c.moveX,r=c.moveY,a=Date.now(),c.moving=1===t.length&&1!==c.scale,c.zooming=2===t.length&&!s.value,c.zooming&&(o=c.scale,i=tc(e.touches))},m=e=>{var{touches:t}=e;if(l.move(e),(c.moving||c.zooming)&&ls(e,!0),c.moving){var{deltaX:s,deltaY:a}=l,u=s.value+n,f=a.value+r;c.moveX=Es(u,-p.value,p.value),c.moveY=Es(f,-d.value,d.value)}if(c.zooming&&2===t.length){var h=tc(t);g(o*h/i)}},_=()=>{var e,{offsetX:t,offsetY:n}=l,r=Date.now()-a;t.value<10&&n.value<10&&r<250&&(s?(clearTimeout(s),s=null,e=c.scale>1?1:2,g(e),c.moveX=0,c.moveY=0):s=setTimeout((()=>{u("close"),s=null}),250))},b=e=>{var t=!1;(c.moving||c.zooming)&&(t=!0,c.moving&&n===c.moveX&&r===c.moveY&&(t=!1),e.touches.length||(c.zooming&&(c.moveX=Es(c.moveX,-p.value,p.value),c.moveY=Es(c.moveY,-d.value,d.value),c.zooming=!1),c.moving=!1,n=0,r=0,o=1,c.scale<1&&v())),ls(e,t),_(),l.reset()},w=e=>{var{naturalWidth:t,naturalHeight:n}=e.target;c.imageRatio=n/t};return Lo((()=>e.active),v),Lo((()=>e.show),(e=>{e||v()})),()=>{var t={loading:()=>Lr(ea,{type:"spinner"},null)};return Lr(Iu,{class:nc("swipe-item"),onTouchstart:y,onTouchmove:m,onTouchend:b,onTouchcancel:b},{default:()=>[Lr(nu,{src:e.src,fit:"contain",class:nc("image",{vertical:f.value}),style:h.value,onLoad:w},t)]})}}}),[oc,ic]=ks("image-preview"),sc=["show","transition","overlayStyle","closeOnPopstate"],ac=en({name:oc,props:{show:Boolean,loop:Ti,images:Ni(),minZoom:Ri(1/3),maxZoom:Ri(3),overlay:Ti,closeable:Boolean,showIndex:Ti,className:null,closeIcon:ki("clear"),transition:String,beforeClose:Function,overlayStyle:Object,swipeDuration:Ri(300),startPosition:Ri(0),showIndicators:Boolean,closeOnPopstate:Ti,closeIconPosition:ki("top-right")},emits:["scale","close","closed","change","update:show"],setup(e,t){var{emit:n,slots:r}=t,o=_t(),i=st({active:0,rootWidth:0,rootHeight:0}),s=()=>{if(o.value){var e=Di(o.value.$el);i.rootWidth=e.width,i.rootHeight=e.height,o.value.resize()}},a=e=>n("scale",e),u=e=>n("update:show",e),c=()=>{Ls(e.beforeClose,{args:[i.active],done:()=>u(!1)})},l=e=>{e!==i.active&&(i.active=e,n("change",e))},f=()=>{if(e.showIndex)return Lr("div",{class:ic("index")},[r.index?r.index({index:i.active}):i.active+1+" / "+e.images.length])},h=()=>{if(r.cover)return Lr("div",{class:ic("cover")},[r.cover()])},p=()=>{if(e.closeable)return Lr(Js,{role:"button",name:e.closeIcon,class:[ic("close-icon",e.closeIconPosition),"van-haptics-feedback"],onClick:c},null)},d=()=>n("closed"),g=(e,t)=>{var n;return null==(n=o.value)?void 0:n.swipeTo(e,t)};return Us({swipeTo:g}),vn(s),Lo([ps,ds],s),Lo((()=>e.startPosition),(e=>l(+e))),Lo((()=>e.show),(t=>{var{images:r,startPosition:o}=e;t?(l(+o),Oo((()=>{s(),g(+o,{immediate:!0})}))):n("close",{index:i.active,url:r[i.active]})})),()=>Lr(ya,Wr({class:[ic(),e.className],overlayClass:ic("overlay"),onClosed:d,"onUpdate:show":u},Ii(e,sc)),{default:()=>[p(),Lr(pu,{ref:o,lazyRender:!0,loop:e.loop,class:ic("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:l},{default:()=>[e.images.map((t=>Lr(rc,{src:t,show:e.show,active:i.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:i.rootWidth,rootHeight:i.rootHeight,onScale:a,onClose:c},null)))]}),f(),h()]})}}),uc={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};var cc=function(e,t){if(void 0===t&&(t=0),Si)return Lu||({instance:Lu}=Da({setup(){var{state:e,toggle:t}=Ua(),n=()=>{e.images=[]};return()=>Lr(ac,Wr(e,{onClosed:n,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,Lu.open(Ei({},uc,e)),Lu};cc.Component=js(ac),cc.install=e=>{e.use(cc.Component)};var[lc,fc]=ks("index-bar"),hc={sticky:Ti,zIndex:Ai,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Ci(0),indexList:{type:Array,default:function(){var e="A".charCodeAt(0),t=Array(26).fill("").map(((t,n)=>String.fromCharCode(e+n)));return t}}},pc=Symbol(lc),dc=en({name:lc,props:hc,emits:["select","change"],setup(e,t){var{emit:n,slots:r}=t,o=_t(),i=_t(""),s=ia(),a=Ji(o),{children:u,linkChildren:c}=Fi(pc);c({props:e});var l=Nt((()=>{if(Qi(e.zIndex))return{zIndex:+e.zIndex+1}})),f=Nt((()=>{if(e.highlightColor)return{color:e.highlightColor}})),h=()=>{if(!fs(o)){var{sticky:t,indexList:n}=e,r=os(a.value),s=Di(a),c=u.map((e=>e.getRect(a.value,s))),l=((t,n)=>{for(var r=u.length-1;r>=0;r--){var o=r>0?n[r-1].height:0;if(t+(e.sticky?o+e.stickyOffsetTop:0)>=n[r].top)return r}return-1})(r,c);i.value=n[l],t&&u.forEach(((t,n)=>{var{state:o,$el:i}=t;if(n===l||n===l-1){var a=i.getBoundingClientRect();o.left=a.left,o.width=a.width}else o.left=null,o.width=null;if(n===l)o.active=!0,o.top=Math.max(e.stickyOffsetTop,c[n].top-r)+s.top;else if(n===l-1){var u=c[l].top-r;o.active=u>0,o.top=u+s.top-c[n].height}else o.active=!1}))}},p=()=>Oo(h);Wi("scroll",h,{target:a}),vn(p),Lo((()=>e.indexList),p),Lo(i,(e=>{e&&n("change",e)}));var d,g=t=>{t=String(t);var r=u.find((e=>String(e.index)===t));r&&(r.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&as(ss()-e.stickyOffsetTop),n("select",r.index))},v=e=>{var{index:t}=e.dataset;t&&g(t)},y=e=>{v(e.target)},m=e=>{if(s.move(e),s.isVertical()){ls(e);var{clientX:t,clientY:n}=e.touches[0],r=document.elementFromPoint(t,n);if(r){var{index:o}=r.dataset;o&&d!==o&&(d=o,v(r))}}},_=()=>Lr("div",{class:fc("sidebar"),style:l.value,onClick:y,onTouchstart:s.start,onTouchmove:m},[e.indexList.map((e=>{var t=e===i.value;return Lr("span",{class:fc("index",{active:t}),style:t?f.value:void 0,"data-index":e},[e])}))]);return Us({scrollTo:g}),()=>Lr("div",{ref:o,class:fc()},[e.teleport?Lr(lr,{to:e.teleport},{default:()=>[_()]}):_(),null==r.default?void 0:r.default()])}}),[gc,vc]=ks("index-anchor"),yc=js(en({name:gc,props:{index:Ai},setup(e,t){var{slots:n}=t,r=st({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=_t(),{parent:i}=Mi(pc);if(i){var s=()=>r.active&&i.props.sticky,a=Nt((()=>{var{zIndex:e,highlightColor:t}=i.props;if(s())return Ei(ys(e),{left:r.left?r.left+"px":void 0,width:r.width?r.width+"px":void 0,transform:r.top?"translate3d(0, "+r.top+"px, 0)":void 0,color:t})}));return Us({state:r,getRect:(e,t)=>{var n=Di(o);return r.rect.height=n.height,e===window||e===document.body?r.rect.top=n.top+ss():r.rect.top=n.top+os(e)-t.top,r.rect}}),()=>{var t=s();return Lr("div",{ref:o,style:{height:t?r.rect.height+"px":void 0}},[Lr("div",{style:a.value,class:[vc({sticky:t}),{"van-hairline--bottom":t}]},[n.default?n.default():e.index])])}}}})),mc=js(dc),[_c,bc,wc]=ks("list"),Ec=js(en({name:_c,props:{error:Boolean,offset:Ri(300),loading:Boolean,finished:Boolean,errorText:String,direction:ki("down"),loadingText:String,finishedText:String,immediateCheck:Ti},emits:["load","update:error","update:loading"],setup(e,t){var{emit:n,slots:r}=t,o=_t(!1),i=_t(),s=_t(),a=Vt(Eu,null),u=Ji(i),c=()=>{Oo((()=>{if(!(o.value||e.finished||e.error||!1===(null==a?void 0:a.value))){var{offset:t,direction:r}=e,c=Di(u);if(c.height&&!fs(i)){var l=Di(s);("up"===r?c.top-l.top<=t:l.bottom-c.bottom<=t)&&(o.value=!0,n("update:loading",!0),n("load"))}}}))},l=()=>{if(e.finished){var t=r.finished?r.finished():e.finishedText;if(t)return Lr("div",{class:bc("finished-text")},[t])}},f=()=>{n("update:error",!1),c()},h=()=>{if(e.error){var t=r.error?r.error():e.errorText;if(t)return Lr("div",{role:"button",class:bc("error-text"),tabindex:0,onClick:f},[t])}},p=()=>{if(o.value&&!e.finished)return Lr("div",{class:bc("loading")},[r.loading?r.loading():Lr(ea,{class:bc("loading-icon")},{default:()=>[e.loadingText||wc("loading")]})])};return Lo((()=>[e.loading,e.finished,e.error]),c),a&&Lo(a,(e=>{e&&c()})),mn((()=>{o.value=e.loading})),vn((()=>{e.immediateCheck&&c()})),Us({check:c}),Wi("scroll",c,{target:u}),()=>{var t=null==r.default?void 0:r.default(),n=Lr("div",{ref:s,class:bc("placeholder")},null);return Lr("div",{ref:i,role:"feed",class:bc(),"aria-busy":o.value},["down"===e.direction?t:n,p(),l(),h(),"up"===e.direction?t:n])}}})),[Sc,Oc]=ks("notice-bar"),Ic=js(en({name:Sc,props:{text:String,mode:String,color:String,delay:Ri(1),speed:Ri(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,t){var n,{emit:r,slots:o}=t,i=0,s=0,a=_t(),u=_t(),c=st({show:!0,offset:0,duration:0}),l=t=>{"closeable"===e.mode&&(c.show=!1,r("close",t))},f=()=>{if(o["right-icon"])return o["right-icon"]();var t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?Lr(Js,{name:t,class:Oc("right-icon"),onClick:l},null):void 0},h=()=>{c.offset=i,c.duration=0,Li((()=>{ji((()=>{c.offset=-s,c.duration=(s+i)/+e.speed,r("replay")}))}))},p=()=>{var{delay:t,speed:r,scrollable:o}=e,l=Qi(t)?1e3*+t:0;i=0,s=0,c.offset=0,c.duration=0,clearTimeout(n),n=setTimeout((()=>{if(a.value&&u.value&&!1!==o){var e=Di(a).width,t=Di(u).width;(o||t>e)&&ji((()=>{i=e,s=t,c.offset=-s,c.duration=s/+r}))}}),l)};return ca(p),qi(p),Wi("pageshow",p),Us({reset:p}),Lo((()=>[e.text,e.scrollable]),p),()=>{var t,n,{color:r,wrapable:i,background:s}=e;return Jn(Lr("div",{role:"alert",class:Oc({wrapable:i}),style:{color:r,background:s}},[o["left-icon"]?o["left-icon"]():e.leftIcon?Lr(Js,{class:Oc("left-icon"),name:e.leftIcon},null):void 0,(t=!1===e.scrollable&&!e.wrapable,n={transform:c.offset?"translateX("+c.offset+"px)":"",transitionDuration:c.duration+"s"},Lr("div",{ref:a,role:"marquee",class:Oc("wrap")},[Lr("div",{ref:u,style:n,class:[Oc("content"),{"van-ellipsis":t}],onTransitionend:h},[o.default?o.default():e.text])])),f()]),[[vi,c.show]])}}})),[Ac,Tc,xc]=ks("search"),Nc=js(en({name:Ac,props:Ei({},Pa,{label:String,shape:ki("square"),leftIcon:ki("search"),clearable:Ti,actionText:String,background:String,showAction:Boolean}),emits:["search","cancel","update:modelValue"],setup(e,t){var{emit:n,slots:r,attrs:o}=t,i=Ca(),s=_t(),a=()=>{r.action||(n("update:modelValue",""),n("cancel"))},u=t=>{13===t.keyCode&&(ls(t),n("search",e.modelValue))},c=()=>e.id||i+"-input",l=()=>{if(r.label||e.label)return Lr("label",{class:Tc("label"),for:c()},[r.label?r.label():e.label])},f=()=>{if(e.showAction){var t=e.actionText||xc("cancel");return Lr("div",{class:Tc("action"),role:"button",tabindex:0,onClick:a},[r.action?r.action():t])}},h=Object.keys(Pa);return Us({focus:()=>{var e;return null==(e=s.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=s.value)?void 0:e.blur()}}),()=>{return Lr("div",{class:Tc({"show-action":e.showAction}),style:{background:e.background}},[null==r.left?void 0:r.left(),Lr("div",{class:Tc("content",e.shape)},[l(),(t=Ei({},o,Ii(e,h),{id:c()}),Lr(ja,Wr({ref:s,type:"search",class:Tc("field"),border:!1,onKeypress:u,"onUpdate:modelValue":e=>n("update:modelValue",e)},t),Ii(r,["left-icon","right-icon"])))]),f()]);var t}}}));function Cc(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}const Rc="function"==typeof Proxy;class kc{constructor(e,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=i;const s={};if(e.settings)for(const t in e.settings){const n=e.settings[t];s[t]=n.defaultValue}const a=`__vue-devtools-plugin-settings__${e.id}`;let u=((e,i)=>{for(var s in i||(i={}))n.call(i,s)&&o(e,s,i[s]);if(t)for(var s of t(i))r.call(i,s)&&o(e,s,i[s]);return e})({},s);try{const e=localStorage.getItem(a),t=JSON.parse(e);Object.assign(u,t)}catch(c){}this.fallbacks={getSettings:()=>u,setSettings(e){try{localStorage.setItem(a,JSON.stringify(e))}catch(c){}u=e}},i.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}setRealTarget(e){return t=this,n=null,r=function*(){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(yield this.target[e.method](...e.args))},new Promise(((e,o)=>{var i=e=>{try{a(r.next(e))}catch(t){o(t)}},s=e=>{try{a(r.throw(e))}catch(t){o(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,s);a((r=r.apply(t,n)).next())}));var t,n,r}}function Pc(e,t){const n=Cc(),r=Cc().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=Rc&&e.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const i=o?new kc(e,r):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */function Lc(e){return void 0===e&&(e=null),Vt(null!==e?e:"store")}function jc(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function Uc(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Dc(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Bc(e,n,[],e._modules.root,!0),Mc(e,n,t)}function Mc(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};jc(o,(function(t,n){i[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return i[n]()},enumerable:!0})})),e._state=st({data:t}),e.strict&&function(e){Lo((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null}))}function Bc(e,t,n,r,o){var i=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!i&&!o){var a=qc(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){a[u]=r.state}))}var c=r.context=function(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=Wc(n,r,o),s=i.payload,a=i.options,u=i.type;return a&&a.root||(u=t+u),e.dispatch(u,s)},commit:r?e.commit:function(n,r,o){var i=Wc(n,r,o),s=i.payload,a=i.options,u=i.type;a&&a.root||(u=t+u),e.commit(u,s,a)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return Fc(e,t)}},state:{get:function(){return qc(e.state,n)}}}),o}(e,s,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,s+n,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,o=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var o,i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,r,o,c)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,s+n,t,c)})),r.forEachChild((function(r,i){Bc(e,t,n.concat(i),r,o)}))}function Fc(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function qc(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Wc(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var $c=0;function Vc(e,t){Pc({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:"vuex:mutations",label:"Vuex Mutations",color:Hc}),n.addTimelineLayer({id:"vuex:actions",label:"Vuex Actions",color:Hc}),n.addInspector({id:"vuex",label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&"vuex"===n.inspectorId)if(n.filter){var r=[];Jc(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[Kc(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&"vuex"===n.inspectorId){var r=n.nodeId;Fc(t,r),n.state=function(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var i=function(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,i=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=Yc((function(){return e[n]}))}else t[n]=Yc((function(){return e[n]}))})),t}(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?zc(e):e,editable:!1,value:Yc((function(){return i[e]}))}}))}return o}((o=t._modules,(s=(i=r).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var r=e[t];if(!r)throw new Error('Missing module "'+t+'" for path "'+i+'".');return n===s.length-1?r:r._children}),"root"===i?o:o.root._children)),"root"===r?t.getters:t._makeLocalGettersCache,r)}var o,i,s})),n.on.editInspectorState((function(n){if(n.app===e&&"vuex"===n.inspectorId){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree("vuex"),n.sendInspectorState("vuex"),n.addTimelineEvent({layerId:"vuex:mutations",event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=$c++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:"vuex:actions",event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:"vuex:actions",event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var Hc=8702998,Gc={label:"namespaced",textColor:16777215,backgroundColor:6710886};function zc(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Kc(e,t){return{id:t||"root",label:zc(t),tags:e.namespaced?[Gc]:[],children:Object.keys(e._children).map((function(n){return Kc(e._children[n],t+n+"/")}))}}function Jc(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Gc]:[]}),Object.keys(t._children).forEach((function(o){Jc(e,t._children[o],n,r+o+"/")}))}function Yc(e){try{return e()}catch(t){return t}}var Xc=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},Zc={namespaced:{configurable:!0}};Zc.namespaced.get=function(){return!!this._rawModule.namespaced},Xc.prototype.addChild=function(e,t){this._children[e]=t},Xc.prototype.removeChild=function(e){delete this._children[e]},Xc.prototype.getChild=function(e){return this._children[e]},Xc.prototype.hasChild=function(e){return e in this._children},Xc.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Xc.prototype.forEachChild=function(e){jc(this._children,e)},Xc.prototype.forEachGetter=function(e){this._rawModule.getters&&jc(this._rawModule.getters,e)},Xc.prototype.forEachAction=function(e){this._rawModule.actions&&jc(this._rawModule.actions,e)},Xc.prototype.forEachMutation=function(e){this._rawModule.mutations&&jc(this._rawModule.mutations,e)},Object.defineProperties(Xc.prototype,Zc);var Qc=function(e){this.register([],e,!1)};function el(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;el(e.concat(r),t.getChild(r),n.modules[r])}}function tl(e){return new nl(e)}Qc.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Qc.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Qc.prototype.update=function(e){el([],this.root,e)},Qc.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new Xc(t,n);0===e.length?this.root=o:this.get(e.slice(0,-1)).addChild(e[e.length-1],o);t.modules&&jc(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},Qc.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},Qc.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var nl=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Qc(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var i=this,s=this.dispatch,a=this.commit;this.dispatch=function(e,t){return s.call(i,e,t)},this.commit=function(e,t,n){return a.call(i,e,t,n)},this.strict=r;var u=this._modules.root.state;Bc(this,u,[],this._modules.root),Mc(this,u),n.forEach((function(e){return e(t)}))},rl={state:{configurable:!0}};nl.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&Vc(e,this)},rl.state.get=function(){return this._state.data},rl.state.set=function(e){},nl.prototype.commit=function(e,t,n){var r=this,o=Wc(e,t,n),i=o.type,s=o.payload,a={type:i,payload:s},u=this._mutations[i];u&&(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},nl.prototype.dispatch=function(e,t){var n=this,r=Wc(e,t),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(c){}var u=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){u.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(c){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(c){}t(e)}))}))}},nl.prototype.subscribe=function(e,t){return Uc(e,this._subscribers,t)},nl.prototype.subscribeAction=function(e,t){return Uc("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},nl.prototype.watch=function(e,t,n){var r=this;return Lo((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},nl.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},nl.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),Bc(this,this.state,e,this._modules.get(e),n.preserveState),Mc(this,this.state)},nl.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete qc(t.state,e.slice(0,-1))[e[e.length-1]]})),Dc(this)},nl.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},nl.prototype.hotUpdate=function(e){this._modules.update(e),Dc(this,!0)},nl.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(nl.prototype,rl);var ol="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sl(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var al,ul={exports:{}};
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */al=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(l){}if(o[c]=u,e===c)break}catch(l){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))};var cl=ul.exports=al(),ll=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?fl:hl)(o,n),o.onload||fl(o,n),r.appendChild(o)};function fl(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function hl(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}var pl={},dl={},gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.COMMUNITY_SITE_URL=gl.IS_DEBUG_MODE=gl.getProtocol=gl.setProtocol=gl.getSdkName=gl.setSdkName=void 0;var vl="@cloudbase/js-sdk";gl.setSdkName=function(e){vl=e},gl.getSdkName=function(){return vl};var yl="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";gl.setProtocol=function(e){yl=e},gl.getProtocol=function(){return yl},gl.IS_DEBUG_MODE=!1,gl.COMMUNITY_SITE_URL="https://support.qq.com/products/148793";var ml,_l,bl,wl={};Object.defineProperty(wl,"__esModule",{value:!0}),wl.ERRORS=void 0,wl.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"},ml=dl,_l=ol&&ol.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),bl=ol&&ol.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||_l(t,e,n)},Object.defineProperty(ml,"__esModule",{value:!0}),bl(gl,ml),bl(wl,ml);var El,Sl,Ol={},Il={};(Sl=El||(El={})).local="local",Sl.none="none",Sl.session="session";var Al=function(){},Tl=function(){};function xl(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t}var Nl,Cl=sl(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get StorageType(){return El},AbstractSDKRequest:Al,AbstractStorage:Tl,formatUrl:xl})),Rl={},kl={exports:{}},Pl={exports:{}};Pl.exports=(Nl=Nl||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var l=0;l<u;l+=i)this._doProcessBlock(r,l);var f=r.splice(0,u);n.sigBytes-=c}return new s.init(f,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}});var h=r.algo={};return r}(Math),Nl);var Ll={exports:{}};Ll.exports=function(e){return function(t){var n=e,r=n.lib,o=r.WordArray,i=r.Hasher,s=n.algo,a=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)e(r)&&(o<8&&(a[o]=n(t.pow(r,.5))),u[o]=n(t.pow(r,1/3)),o++),r++}();var c=[],l=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],f=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var d=c[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=c[p-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[p]=g+c[p-7]+y+c[p-16]}var m=r&o^r&i^o&i,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[p]+c[p];h=f,f=l,l=a,a=s+b|0,s=i,i=o,o=r,r=b+(_+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(l),n.HmacSHA256=i._createHmacHelper(l)}(Math),e.SHA256}(Pl.exports);var jl={exports:{}};jl.exports=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}(Pl.exports),kl.exports=function(e){return e.HmacSHA256}(Pl.exports);var Ul={exports:{}};Ul.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var o=[],i=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=(a|u)<<24-i%4*8,i++}return n.create(o,i)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(Pl.exports);var Dl={exports:{}};Dl.exports=function(e){return e.enc.Utf8}(Pl.exports);var Ml=ol&&ol.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.transformPhone=Rl.sleep=Rl.printGroupLog=Rl.throwError=Rl.printInfo=Rl.printError=Rl.printWarn=Rl.execCallback=Rl.createPromiseCallback=Rl.removeParam=Rl.getHash=Rl.getQuery=Rl.toQueryString=Rl.createSign=Rl.formatUrl=Rl.genSeqId=Rl.isFormData=Rl.isInstanceOf=Rl.isNull=Rl.isPalinObject=Rl.isUndefined=Rl.isString=Rl.isArray=void 0;var Bl=Ml(kl.exports),Fl=Ml(Ul.exports),ql=Ml(Dl.exports),Wl=dl;function $l(e){var t=Fl.default.stringify(e);return t=(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}Rl.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Rl.isString=function(e){return"string"==typeof e},Rl.isUndefined=function(e){return void 0===e},Rl.isPalinObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},Rl.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},Rl.isInstanceOf=function(e,t){return e instanceof t},Rl.isFormData=function(e){return"[object FormData]"===Object.prototype.toString.call(e)},Rl.genSeqId=function(){return Math.random().toString(16).slice(2)},Rl.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t},Rl.createSign=function(e,t){var n=$l(ql.default.parse(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+$l(ql.default.parse(JSON.stringify(e)));return n+"."+$l(Bl.default(n,t))},Rl.toQueryString=function(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},Rl.getQuery=function(e,t){if("undefined"==typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=n.substr(n.indexOf("?")+1).match(r);return null!=o?o[2]:""},Rl.getHash=function(e){if("undefined"==typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},Rl.removeParam=function(e,t){var n=t.split("?")[0],r=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var i=(r=o.split("&")).length-1;i>=0;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);n=n+"?"+r.join("&")}return n},Rl.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e},Rl.execCallback=function(e,t,n){if(void 0===n&&(n=null),e&&"function"==typeof e)return e(t,n);if(t)throw t;return n},Rl.printWarn=function(e,t){console.warn("["+Wl.getSdkName()+"]["+e+"]:"+t)},Rl.printError=function(e,t){console.error({code:e,msg:"["+Wl.getSdkName()+"]["+e+"]:"+t})},Rl.printInfo=function(e,t){console.log("["+Wl.getSdkName()+"]["+e+"]:"+t)},Rl.throwError=function(e,t){throw new Error(JSON.stringify({code:e,msg:"["+Wl.getSdkName()+"]["+e+"]:"+t}))},Rl.printGroupLog=function(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,o=e.content,i=void 0===o?[]:o,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed;void 0!==u&&u?console.groupCollapsed(t,r):console.group(t,r);for(var c=0,l=i;c<l.length;c++){var f=l[c],h=f.type,p=f.body;switch(h){case"info":console.log(p);break;case"warn":console.warn(p);break;case"error":console.error(p)}}a&&console.trace("stack trace:"),console.groupEnd()},Rl.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},Rl.transformPhone=function(e){return"+86"+e};var Vl,Hl=ol&&ol.__extends||(Vl=function(e,t){return(Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Vl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gl=ol&&ol.__assign||function(){return Gl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gl.apply(this,arguments)},zl=ol&&ol.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Kl=ol&&ol.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.WebRequest=Il.genAdapter=void 0;var Jl=Rl,Yl=gl,Xl=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return Hl(t,e),t.prototype.get=function(e){return this._request(Gl(Gl({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(Gl(Gl({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(Gl(Gl({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,o=new FormData;for(var i in t)o.append(i,t[i]);return o.append("key",r),o.append("file",n),this._request(Gl(Gl({},e),{data:o,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return zl(this,void 0,void 0,(function(){var t,n,r,o;return Kl(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.get(Gl(Gl({},e),{headers:{},responseType:"blob"}))];case 1:return t=i.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),(o=document.createElement("a")).href=n,o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o),[3,3];case 2:return i.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise((function(o){var i,s,a=e.url,u=e.headers,c=void 0===u?{}:u,l=e.data,f=e.responseType,h=e.withCredentials,p=e.body,d=e.onUploadProgress,g=Jl.formatUrl(Yl.getProtocol(),a,"get"===r?l:{}),v=new XMLHttpRequest;for(var y in v.open(r,g),f&&(v.responseType=f),c)v.setRequestHeader(y,c[y]);d&&v.upload.addEventListener("progress",d),v.onreadystatechange=function(){var e={};if(4===v.readyState){var t=v.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift().toLowerCase(),o=t.join(": ");n[r]=o})),e.header=n,e.statusCode=v.status;try{e.data="blob"===f?v.response:JSON.parse(v.responseText)}catch(r){e.data="blob"===f?v.response:v.responseText}clearTimeout(i),o(e)}},t&&n._timeout&&(i=setTimeout((function(){console.warn(n._timeoutMsg),v.abort()}),n._timeout)),s=Jl.isFormData(l)?l:"application/x-www-form-urlencoded"===c["content-type"]?Jl.toQueryString(l):p||(l?JSON.stringify(l):void 0),h&&(v.withCredentials=!0),v.send(s)}))},t}(Cl.AbstractSDKRequest);Il.WebRequest=Xl,Il.genAdapter=function(){return{root:window,reqClass:Xl,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage}},function(e){var t=ol&&ol.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=ol&&ol.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=ol&&ol.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.useDefaultAdapter=e.useAdapters=e.RUNTIME=void 0;var o,i,s=r(Il),a=Rl;(i=o=e.RUNTIME||(e.RUNTIME={})).WEB="web",i.WX_MP="wx_mp",e.useAdapters=function(e){for(var t=0,n=a.isArray(e)?e:[e];t<n.length;t++){var r=n[t],o=r.isMatch,i=r.genAdapter,s=r.runtime;if(o())return{adapter:i(),runtime:s}}},e.useDefaultAdapter=function(){return{adapter:s.genAdapter(),runtime:o.WEB}}}(Ol);var Zl={},Ql=ol&&ol.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ef=ol&&ol.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},tf=ol&&ol.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.CloudbaseCache=void 0;var nf=Rl,rf=dl,of=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t.tcbCacheObject||(t.tcbCacheObject={}),n}return Ql(t,e),t.prototype.setItem=function(e,t){this._root.tcbCacheObject[e]=t},t.prototype.getItem=function(e){return this._root.tcbCacheObject[e]},t.prototype.removeItem=function(e){delete this._root.tcbCacheObject[e]},t.prototype.clear=function(){delete this._root.tcbCacheObject},t}(Cl.AbstractStorage);function sf(e,t){switch(e){default:return t.localStorage?t.localStorage:(nf.printWarn(rf.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new of(t.root));case"none":return new of(t.root);case"session":return t.sessionStorage?t.sessionStorage:(nf.printWarn(rf.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new of(t.root))}}var af=function(){function e(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,o=e.keys,i=void 0===o?{}:o,s=e.alwaysLocalKeys,a=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=a,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=sf(this._persistence,r.adapter),this.keys=i)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),e.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=sf(e,this._platformInfo.adapter);for(var r in this.keys){var o=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var i=this._storage.getItem(o);nf.isUndefined(i)||nf.isNull(i)||(n.setItem(o,i),this._storage.removeItem(o))}}this._storage=n}}else nf.printWarn(rf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},e.prototype.updatePersistenceAsync=function(e){return ef(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u;return tf(this,(function(c){switch(c.label){case 0:if(e===this._persistence)return[2];for(o in t="local"===this._persistence,this._persistence=e,n=sf(e,this._platformInfo.adapter),r=[],this.keys)r.push(o);i=0,c.label=1;case 1:return i<r.length?(s=r[i],a=this.keys[s],t&&this._alwaysLocalKeys.includes(s)?[3,4]:[4,this._storage.getItem(a)]):[3,5];case 2:return u=c.sent(),nf.isUndefined(u)||nf.isNull(u)?[3,4]:(n.setItem(a,u),[4,this._storage.removeItem(a)]);case 3:c.sent(),c.label=4;case 4:return i++,[3,1];case 5:return this._storage=n,[2]}}))}))},e.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(o){throw new Error(JSON.stringify({code:rf.ERRORS.OPERATION_FAIL,msg:"["+rf.getSdkName()+"]["+rf.ERRORS.OPERATION_FAIL+"]setStore failed",info:o}))}}else nf.printWarn(rf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},e.prototype.setStoreAsync=function(e,t,n){return ef(this,void 0,void 0,(function(){var r;return tf(this,(function(o){switch(o.label){case 0:if(!this._storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}}))}))},e.prototype.getStore=function(e,t){var n;if("async"!==this.mode){try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return{}.tcb_token;if(!this._storage)return""}catch(o){return""}t=t||"localCachev1";var r=this._storage.getItem(e);return r&&r.indexOf(t)>=0?JSON.parse(r).content:""}nf.printWarn(rf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},e.prototype.getStoreAsync=function(e,t){var n;return ef(this,void 0,void 0,(function(){var r;return tf(this,(function(o){switch(o.label){case 0:try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return[2,{}.tcb_token];if(!this._storage)return[2,""]}catch(i){return[2,""]}return t=t||"localCachev1",[4,this._storage.getItem(e)];case 1:return(r=o.sent())&&r.indexOf(t)>=0?[2,JSON.parse(r).content]:[2,""]}}))}))},e.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):nf.printWarn(rf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},e.prototype.removeStoreAsync=function(e){return ef(this,void 0,void 0,(function(){return tf(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},e}();Zl.CloudbaseCache=af;var uf={},cf=ol&&ol.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lf=ol&&ol.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(uf,"__esModule",{value:!0}),uf.removeEventListener=uf.activateEvent=uf.addEventListener=uf.CloudbaseEventEmitter=uf.IErrorEvent=uf.CloudbaseEvent=void 0;var ff=Rl;var hf=function(e,t){this.data=t||null,this.name=e};uf.CloudbaseEvent=hf;var pf=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return cf(t,e),t}(hf);uf.IErrorEvent=pf;var df=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this},e.prototype.off=function(e,t){return function(e,t,n){if(null==n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(ff.isInstanceOf(e,pf))return console.error(e.error),this;var n=ff.isString(e)?new hf(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var o=0,i=this._listeners[r]?lf(this._listeners[r]):[];o<i.length;o++){i[o].call(this,n)}}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();uf.CloudbaseEventEmitter=df;var gf=new df;uf.addEventListener=function(e,t){gf.on(e,t)},uf.activateEvent=function(e,t){void 0===t&&(t={}),gf.fire(e,t)},uf.removeEventListener=function(e,t){gf.off(e,t)};var vf={},yf={},mf=ol&&ol.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_f=ol&&ol.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(yf,"__esModule",{value:!0}),yf.catchErrorsDecorator=void 0;var bf=Rl,wf=dl,Ef=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(Ef=-1!==navigator.userAgent.indexOf("Firefox"));var Sf=Ef?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,Of=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function If(e){var t=e.err,n=e.className,r=e.methodName,o=e.sourceLink;if(!o)return null;var i,s=t.stack.split("\n"),a=Ef?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),u=Ef?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),c=s.findIndex((function(e){return a.test(e)}));if(-1!==c){var l=s.filter((function(e,t){return t>c}));l.unshift(s[c].replace(u,n+"."+r).replace(Of,o)),(i=new Error).stack=(Ef?"@debugger":"Error")+"\n"+l.join("\n")}return i}yf.catchErrorsDecorator=function(e){var t=e.mode,n=void 0===t?"async":t,r=e.customInfo,o=void 0===r?{}:r,i=e.title,s=e.messages,a=void 0===s?[]:s;return function(e,t,r){if(wf.IS_DEBUG_MODE){var s=o.className||e.constructor.name,u=o.methodName||t,c=r.value,l=function(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return Sf.test(e)}));if(-1!==r){var o=Of.exec(n[r+1]||"");t=o?o[0]:""}return t}(new Error);r.value="sync"===n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=If({err:new Error,className:s,methodName:u,sourceLink:l});try{return c.apply(this,e)}catch(p){var r=p,o=p.message,f={title:i||s+"."+u+" failed",content:[{type:"error",body:p}]};if(o&&/^\{.*\}$/.test(o)){var h=JSON.parse(o);f.subtitle=o,h.code&&(n?(n.code=h.code,n.msg=h.msg):(p.code=h.code,p.message=h.msg),r=n||p,f.content=a.map((function(e){return{type:"info",body:e}})))}throw bf.printGroupLog(f),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mf(this,void 0,void 0,(function(){var t,n,r,o,f,h;return _f(this,(function(p){switch(p.label){case 0:t=If({err:new Error,className:s,methodName:u,sourceLink:l}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,c.apply(this,e)];case 2:return[2,p.sent()];case 3:throw n=p.sent(),r=n,o=n.message,f={title:i||s+"."+u+" failed",content:[{type:"error",body:n}]},o&&/^\{.*\}$/.test(o)&&(h=JSON.parse(o),f.subtitle=h,h.code&&(t?(t.code=h.code,t.message=h.msg):(n.code=h.code,n.message=h.msg),r=t||n,f.content=a.map((function(e){return{type:"info",body:e}})))),bf.printGroupLog(f),r;case 4:return[2]}}))}))}}}},function(e){var t=ol&&ol.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=ol&&ol.__exportStar||function(e,n){for(var r in e)"default"===r||n.hasOwnProperty(r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(yf,e)}(vf);var Af=ol&&ol.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Tf=ol&&ol.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xf=ol&&ol.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&Af(t,e,n);return Tf(t,e),t};Object.defineProperty(pl,"__esModule",{value:!0});var Nf=pl.helpers=pl.utils=pl.events=pl.cache=pl.adapters=pl.constants=void 0,Cf=xf(dl),Rf=pl.constants=Cf,kf=xf(Ol),Pf=pl.adapters=kf,Lf=xf(Zl),jf=pl.cache=Lf,Uf=xf(uf),Df=pl.events=Uf,Mf=xf(Rl),Bf=pl.utils=Mf,Ff=xf(vf);Nf=pl.helpers=Ff;var qf=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wf=globalThis&&globalThis.__assign||function(){return Wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wf.apply(this,arguments)},$f=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Vf=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};var Hf=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return qf(t,e),t.prototype.post=function(e){var t=this;return new Promise((function(n,r){var o=e.url,i=e.data,s=e.headers,a=wx.request({url:xl("https:",o),data:i,timeout:t._timeout,method:"POST",header:s,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(t._timeout&&-1!==t._restrictedMethods.indexOf("post")&&"request:fail timeout"===e.errMsg)){console.warn(t._timeoutMsg);try{a.abort()}catch(n){}}}})}))},t.prototype.upload=function(e){var t=this,n=this;return new Promise((function(r){return $f(t,void 0,void 0,(function(){var t,o,i,s,a,u;return Vf(this,(function(c){return t=e.url,o=e.file,i=e.data,s=e.headers,a=e.onUploadProgress,u=wx.uploadFile({url:t,filePath:o,name:"file",formData:Wf({},i),header:s,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&i.success_action_status&&(t.statusCode=parseInt(i.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("upload")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{u.abort()}catch(t){}}}}),a&&u.onProgressUpdate((function(e){a(e)})),[2]}))}))}))},t.prototype.download=function(e){var t=this,n=this;return new Promise((function(r,o){var i=e.url,s=e.headers,a=wx.downloadFile({url:xl("https:",i),header:s,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){o(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("download")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{a.abort()}catch(t){}}}})}))},t}(Al),Gf={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},zf=function(e,t){void 0===t&&(t={});var n=wx.connectSocket(Wf({url:e},t));return{set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};var Kf={genAdapter:function(){return{root:{},reqClass:Hf,wsClass:zf,localStorage:Gf,primaryStorage:El.local,getAppSign:function(){var e=wx.getAccountInfoSync();return"undefined"!=typeof App||"undefined"!=typeof getApp||wx.onAppHide||wx.offAppHide||wx.onAppShow||wx.offAppShow?e&&e.miniProgram?e.miniProgram.appId:"":e&&e.plugin?e.plugin.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0},runtime:"wx_mp"},Jf=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Yf=Rf.ERRORS,Xf={};function Zf(e,t){var n=t.name,r=t.namespace,o=t.entity,i=t.injectEvents,s=t.IIFE,a=void 0!==s&&s;if(Xf[n]||r&&e[r])throw new Error(JSON.stringify({code:Yf.INVALID_OPERATION,msg:"Duplicate component "+n}));if(a){if(!o||"function"!=typeof o)throw new Error(JSON.stringify({code:Yf.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(e)}if(Xf[n]=t,r?e.prototype[r]=o:Qf(e.prototype,o),i){var u=i.bus,c=i.events;if(!u||!c||0===c.length)return;var l=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={}),(e.prototype.events||{})[n]?e.prototype.events[n].events=Jf(e.prototype.events[n].events,c):e.prototype.events[n]={bus:u,events:c},e.prototype.fire=function(e,t){for(var n in l(e,t),this.events){var r=this.events[n],o=r.bus;if(r.events.includes(e)){o.fire(e,t);break}}}}}function Qf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=Qf(e[n],t[n]));return e}var eh={},th=globalThis&&globalThis.__assign||function(){return th=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},th.apply(this,arguments)},nh=jf.CloudbaseCache,rh={},oh={};function ih(e){var t=e.env,n=e.persistence,r=e.platformInfo,o={accessTokenKey:"access_token_"+t,accessTokenExpireKey:"access_token_expire_"+t,refreshTokenKey:"refresh_token_"+t,anonymousUuidKey:"anonymous_uuid_"+t,loginTypeKey:"login_type_"+t,userInfoKey:"user_info_"+t};rh[t]?rh[t].updatePersistence(n):rh[t]=new nh(th(th({},e),{keys:o,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),oh[t]=oh[t]||new nh(th(th({},e),{keys:o,platformInfo:r,persistence:"local"}))}function sh(e){return rh[e]}function ah(e){return oh[e]}var uh=Rf.setSdkName,ch=Rf.setProtocol,lh="",fh="@cloudbase/js-sdk";var hh,ph,dh="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",gh="//tcb-api.tencentcloudapi.com/web";function vh(e,t){gh=e,t&&(dh=t,ch(t))}(ph=hh||(hh={})).ANONYMOUS="ANONYMOUS",ph.WECHAT="WECHAT",ph.CUSTOM="CUSTOM",ph.NULL="NULL";var yh="loginStateExpire",mh="refreshAccessToken",_h=globalThis&&globalThis.__assign||function(){return _h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_h.apply(this,arguments)},bh=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},wh=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Eh=Rf.ERRORS,Sh=Bf.genSeqId,Oh=Bf.isFormData,Ih=Bf.formatUrl,Ah=Bf.createSign,Th=Pf.RUNTIME,xh=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function Nh(e,t,n){var r=e[t];e[t]=function(t){var o={},i={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(o,s),Object.assign(i,a)}));var s=t.data;return s&&function(){if(Oh(s))for(var e in o)s.append(e,o[e]);else t.data=_h(_h({},s),o)}(),t.headers=_h(_h({},t.headers||{}),i),r.call(e,t)}}function Ch(){var e=Sh();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+lh,"x-seqid":e}}}var Rh=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new eh.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=sh(this.config.env),this._localCache=ah(this.config.env),Nh(this._reqClass,"post",[Ch]),Nh(this._reqClass,"upload",[Ch]),Nh(this._reqClass,"download",[Ch])}return e.prototype.post=function(e){return bh(this,void 0,void 0,(function(){return wh(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.post(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.upload=function(e){return bh(this,void 0,void 0,(function(){return wh(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.upload(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.download=function(e){return bh(this,void 0,void 0,(function(){return wh(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.download(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.refreshAccessToken=function(){return bh(this,void 0,void 0,(function(){var e,t,n;return wh(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return bh(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u;return wh(this,(function(c){switch(c.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(!c.sent())throw new Error(JSON.stringify({code:Eh.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=c.sent(),s=Number,[4,this._cache.getStoreAsync(n)];case 3:return i=s.apply(void 0,[c.sent()]),a=!0,(u=this._shouldRefreshAccessTokenHook)?[4,this._shouldRefreshAccessTokenHook(o,i)]:[3,5];case 4:u=!c.sent(),c.label=5;case 5:return u&&(a=!1),o&&i&&!(i<Date.now())||!a?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,c.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:i}]}}))}))},e.prototype.request=function(e,t,n){return bh(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,l,f,h,p,d,g,v,y,m,_,b,w,E,S,O,I,A;return wh(this,(function(T){switch(T.label){case 0:return r="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",i=_h({action:e,dataVersion:"2020-01-10",env:this.config.env},t),-1!==xh.indexOf(e)?[3,3]:(s=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(s)]);case 1:return T.sent()?(a=i,[4,this.getAccessToken()]):[3,3];case 2:a.access_token=T.sent().accessToken,T.label=3;case 3:if("storage.uploadFile"===e){for(c in u=new FormData)u.hasOwnProperty(c)&&void 0!==u[c]&&u.append(c,i[c]);o="multipart/form-data"}else for(c in o="application/json;charset=UTF-8",u={},i)void 0!==i[c]&&(u[c]=i[c]);return l={headers:{"content-type":o}},(null==n?void 0:n.onUploadProgress)&&(l.onUploadProgress=n.onUploadProgress),this.config.region&&(l.headers["X-TCB-Region"]=this.config.region),(f=this._localCache.getStore(r))&&(l.headers["X-TCB-Trace"]=f),eh.runtime!==Th.WEB&&(h=this.config,p=h.appSign,d=h.appSecret,g=Date.now(),v=d.appAccessKey,y=d.appAccessKeyId,m=Ah({data:{},timestamp:g,appAccessKeyId:y,appSign:p},v),l.headers["X-TCB-App-Source"]="timestamp="+g+";appAccessKeyId="+y+";appSign="+p+";sign="+m),_=t.parse,b=t.inQuery,w=t.search,E={env:this.config.env},_&&(E.parse=!0),b&&(E=_h(_h({},b),E)),O=Ih((S={BASE_URL:gh,PROTOCOL:dh}).PROTOCOL,S.BASE_URL,E),w&&(O+=w),[4,this.post(_h({url:O,data:u},l))];case 4:if(I=T.sent(),(A=I.header&&I.header["x-tcb-trace"])&&this._localCache.setStore(r,A),200!==Number(I.status)&&200!==Number(I.statusCode)||!I.data)throw new Error("network request error");return[2,I]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),bh(this,void 0,void 0,(function(){var n;return wh(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return"ACCESS_TOKEN_EXPIRED"!==(n=r.sent()).data.code||-1!==xh.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:Eh.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(e){return void 0===e&&(e=1),bh(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,l,f,h,p;return wh(this,(function(d){switch(d.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,i=t.loginTypeKey,s=t.anonymousUuidKey,[4,this._cache.removeStoreAsync(n)];case 1:return d.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return d.sent(),[4,this._cache.getStoreAsync(o)];case 3:if(!(a=d.sent()))throw new Error(JSON.stringify({code:Eh.INVALID_OPERATION,msg:"not login"}));return u={refresh_token:a},[4,this.request("auth.fetchAccessTokenWithRefreshToken",u)];case 4:return(c=d.sent()).data.code?"SIGN_PARAM_INVALID"!==(l=c.data.code)&&"REFRESH_TOKEN_EXPIRED"!==l&&"INVALID_REFRESH_TOKEN"!==l?[3,11]:[4,this._cache.getStoreAsync(i)]:[3,12];case 5:return d.sent()===hh.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===l?[4,this._cache.getStoreAsync(s)]:[3,9];case 6:return f=d.sent(),[4,this._cache.getStoreAsync(o)];case 7:return h=d.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:h})];case 8:if(p=d.sent(),this._setRefreshToken(p.refresh_token),e>=1)return[2,this._refreshAccessToken(--e)];throw new Error(JSON.stringify({code:Eh.OPERATION_FAIL,message:"重试获取 refresh token 失败"}));case 9:return Kh.fire(yh),[4,this._cache.removeStoreAsync(o)];case 10:d.sent(),d.label=11;case 11:throw new Error(JSON.stringify({code:Eh.NETWORK_ERROR,msg:"refresh access_token failed："+c.data.code}));case 12:return c.data.access_token?(Kh.fire(mh),[4,this._cache.setStoreAsync(n,c.data.access_token)]):[3,15];case 13:return d.sent(),[4,this._cache.setStoreAsync(r,c.data.access_token_expire+Date.now())];case 14:return d.sent(),[2,{accessToken:c.data.access_token,accessTokenExpire:c.data.access_token_expire}];case 15:return c.data.refresh_token?[4,this._cache.removeStoreAsync(o)]:[3,19];case 16:return d.sent(),[4,this._cache.setStoreAsync(o,c.data.refresh_token)];case 17:return d.sent(),[4,this._refreshAccessToken()];case 18:d.sent(),d.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return bh(this,void 0,void 0,(function(){var t,n,r,o;return wh(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e}(),kh={};var Ph=globalThis&&globalThis.__assign||function(){return Ph=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ph.apply(this,arguments)},Lh=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},jh=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Uh=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Dh=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Mh=Pf.useAdapters,Bh=Pf.useDefaultAdapter,Fh=Pf.RUNTIME,qh=Rf.ERRORS,Wh=Rf.COMMUNITY_SITE_URL,$h=Bf.printWarn,Vh=Nf.catchErrorsDecorator,Hh={timeout:15e3,persistence:"local"},Gh={},zh=function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return eh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return sh(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return ah(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return e=this._config.env,kh[e];var e},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:qh.INVALID_PARAMS,msg:"env must not be specified"}));if(eh.adapter||this._useDefaultAdapter(),this.requestClient=new eh.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+fh+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),eh.runtime!==Fh.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:qh.INVALID_PARAMS,msg:"invalid appSecret"}));var n=eh.adapter.getAppSign?eh.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:qh.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:qh.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=Ph(Ph({},Hh),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,o=r.env,i=r.persistence,s=r.debug,a=r.timeout,u=r.appSecret,c=r.appSign;ih({env:o,persistence:i,debug:s,platformInfo:this.platform}),function(e){kh[e.env]=new Rh(_h(_h({},e),{throw:!0}))}({env:o,region:t.region||"",timeout:a,appSecret:u,appSign:c}),t.region&&function(e,t,n){vh(t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web",n)}(o,t.region||"");var l=new e(this._config);return l.requestClient=this.requestClient,l},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,ih({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){Gh[e.name]=e},e.prototype.invokeExtension=function(e,t){return Uh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:if(!(n=Gh[e]))throw new Error(JSON.stringify({code:qh.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=Mh(e)||{},n=t.adapter,r=t.runtime;n&&(eh.adapter=n),r&&(eh.runtime=r)},e.prototype.registerHook=function(t){!function(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:Yf.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var o=e.prototype[r];if("function"!=typeof o)throw new Error(JSON.stringify({code:Yf.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,Jf([this],e)),o.call.apply(o,Jf([this],e))}}(e,t)},e.prototype.registerComponent=function(t){Zf(e,t)},e.prototype.registerVersion=function(e){!function(e){lh=e}(e)},e.prototype.registerSdkName=function(e){!function(e){fh=e,uh(e)}(e)},e.prototype.registerEndPoint=function(e,t){vh(e,t)},e.prototype._useDefaultAdapter=function(){var e=Bh(),t=e.adapter,n=e.runtime;eh.adapter=t,eh.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>6e5:return $h(qh.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),6e5;case e<100:return $h(qh.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),100;default:return e}},Lh([Vh({mode:"sync",title:"Cloudbase 初始化失败",messages:["请确认以下各项：","  1 - 调用 cloudbase.init() 的语法或参数是否正确","  2 - 如果是非浏览器环境，是否配置了安全应用来源（https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Wh]}),jh("design:type",Function),jh("design:paramtypes",[Object]),jh("design:returntype",e)],e.prototype,"init",null),Lh([Vh({title:"调用扩展能力失败",messages:["请确认以下各项：","  1 - 调用 invokeExtension() 的语法或参数是否正确","  2 - 被调用的扩展能力是否已经安装并通过 registerExtension() 注册","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Wh]}),jh("design:type",Function),jh("design:paramtypes",[String,Object]),jh("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}(),Kh=new zh;Kh.useAdapters(Kf);var Jh,Yh=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Xh=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Zh=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return Yh(this,void 0,void 0,(function(){var e,t,n,r,o,i;return Xh(this,(function(s){switch(s.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return r=s.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=s.sent(),r?o&&o>Date.now()?[4,(i=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,4]:[3,7];case 3:return s.sent(),[2,i];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return s.sent(),[4,this._cache.removeStoreAsync(n)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return Yh(this,void 0,void 0,(function(){var t,n,r,o;return Xh(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return Yh(this,void 0,void 0,(function(){var n,r,o;return Xh(this,(function(i){switch(i.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return i.sent(),[4,this._cache.setStoreAsync(o,t)];case 2:return i.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return Yh(this,void 0,void 0,(function(){var e;return Xh(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,[4,this.setLocalUserInfo(e)];case 2:return t.sent(),[2,e]}}))}))},e.prototype.setLocalUserInfo=function(e){return Yh(this,void 0,void 0,(function(){var t;return Xh(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL",e.PHONE="PHONE"}(Jh||(Jh={}));var Qh=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ep=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},tp=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},np=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},rp=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},op=Rf.getSdkName,ip=Rf.ERRORS,sp=Rf.COMMUNITY_SITE_URL,ap=Pf.RUNTIME,up=Bf.getQuery,cp=Bf.getHash,lp=Bf.removeParam,fp=Bf.printWarn,hp=Nf.catchErrorsDecorator,pp=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._runtime=t.runtime,i._appid=n,i._scope=r,i._state=o||"weixin",i}return Qh(t,e),t.prototype.signIn=function(){return np(this,void 0,void 0,(function(){return rp(this,(function(e){return[2,fp(ip.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return np(this,void 0,void 0,(function(){return rp(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return np(this,void 0,void 0,(function(){var t;return rp(this,(function(n){return(t=dp())?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),np(this,void 0,void 0,(function(){var t,n,r,o,i,s;return rp(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,(r=dp())?(o=this._appid,u=this._scope,i="snsapi_login"===u?"WECHAT-OPEN":"WECHAT-PUBLIC",s=this._runtime===ap.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:o,loginType:i,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null];var u}))}))},t.prototype._redirect=function(){var e=lp("code",location.href);e=lp("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+op()+"]["+ip.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return np(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c;return rp(this,(function(l){switch(l.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,i=n.refreshTokenKey,f=this._scope,s="snsapi_login"===f?"WECHAT-OPEN":"WECHAT-PUBLIC",[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=l.sent(),u=a.refreshToken,[4,this._cache.setStoreAsync(i,u)];case 2:return l.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:l.sent(),l.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(o,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:l.sent(),l.label=6;case 6:return kd.fire(Ud.LOGIN_STATE_CHANGED),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return l.sent(),[4,(c=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return l.sent(),[2,c]}var f}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),np(this,void 0,void 0,(function(){var o,i,s,a,u,c;return rp(this,(function(l){return o=r.withUnionId,i=void 0!==o&&o,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),"auth.signIn",c=this._runtime===ap.WX_MP?"1":"0",[2,this._request.send("auth.signIn",{appid:e,loginType:t,hybridMiniapp:c,syncUserInfo:u,loginCredential:n,withUnionId:i,createUser:a}).then((function(e){if(e.code)throw new Error("["+op()+"]["+ip.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+op()+"]["+ip.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},ep([hp({title:"跳转微信公众号授权失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().signInWithRedirect() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+sp]}),tp("design:type",Function),tp("design:paramtypes",[]),tp("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),ep([hp({title:"微信公众号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+sp]}),tp("design:type",Function),tp("design:paramtypes",[Object]),tp("design:returntype",Promise)],t.prototype,"getRedirectResult",null),ep([hp({title:"获取微信重定向绑定结果",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getLinkRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+sp]}),tp("design:type",Function),tp("design:paramtypes",[Object]),tp("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(Zh);function dp(){return up("code")||cp("code")}var gp=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vp=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},yp=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mp=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_p=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},bp=Rf.ERRORS,wp=Rf.COMMUNITY_SITE_URL,Ep=Bf.throwError,Sp=Bf.isString,Op=Df.addEventListener,Ip=Nf.catchErrorsDecorator,Ap=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),Op(Ud.ANONYMOUS_CONVERTED,n._onConverted),n}return gp(t,e),t.prototype.signIn=function(){return mp(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return _p(this,(function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return o=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o})];case 4:return(i=a.sent()).uuid&&i.refresh_token?[4,this._setAnonymousUUID(i.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(i.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.ANONYMOUS,persistence:"local"}),kd.fire(Ud.LOGIN_STATE_CHANGED),[4,(s=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:bp.OPERATION_FAIL,msg:JSON.stringify(i)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return mp(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return _p(this,(function(u){switch(u.label){case 0:return Sp(e)||Ep(bp.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 2:return i=u.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:i,ticket:e})];case 3:return(s=u.sent()).refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return u.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return u.sent(),[4,this._request.refreshAccessToken()];case 6:return u.sent(),kd.fire(Ud.ANONYMOUS_CONVERTED,{env:this._config.env}),kd.fire(Ud.LOGIN_TYPE_CHANGED,{loginType:Jh.CUSTOM,persistence:"local"}),[4,(a=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 7:return u.sent(),[2,a];case 8:Ep(bp.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),u.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return mp(this,void 0,void 0,(function(){var t,n,r;return _p(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return o.sent(),[4,this._cache.setStoreAsync(r,Jh.ANONYMOUS)];case 3:return o.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return mp(this,void 0,void 0,(function(){return _p(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return mp(this,void 0,void 0,(function(){return _p(this,(function(t){switch(t.label){case 0:return e.data.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return t.sent(),[2]}}))}))},vp([Ip({title:"匿名登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了匿名登录","  2 - 调用 auth().anonymouseProvider().signIn() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+wp]}),yp("design:type",Function),yp("design:paramtypes",[]),yp("design:returntype",Promise)],t.prototype,"signIn",null),t}(Zh),Tp=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xp=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Np=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cp=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Rp=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},kp=Rf.ERRORS,Pp=Rf.COMMUNITY_SITE_URL,Lp=Bf.isString,jp=Nf.catchErrorsDecorator,Up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tp(t,e),t.prototype.signIn=function(e){return Cp(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return Rp(this,(function(u){switch(u.label){case 0:if(!Lp(e))throw new Error(JSON.stringify({code:kp.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,o=(r=this._request).send,i=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,o.apply(r,i.concat([(s.refresh_token=u.sent()||"",s)]))];case 2:return(n=u.sent()).refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return u.sent(),[4,this._request.refreshAccessToken()];case 4:return u.sent(),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.CUSTOM,persistence:this._config.persistence}),kd.fire(Ud.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return u.sent(),[4,(a=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 6:return u.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:kp.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},xp([jp({title:"自定义登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了自定义登录","  2 - 调用 auth().customAuthProvider().signIn() 的语法或参数是否正确","  3 - ticket 是否归属于当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Pp]}),Np("design:type",Function),Np("design:paramtypes",[String]),Np("design:returntype",Promise)],t.prototype,"signIn",null),t}(Zh),Dp=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mp=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bp=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fp=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},qp=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Wp=Bf.throwError,$p=Bf.isString,Vp=Rf.ERRORS,Hp=Rf.COMMUNITY_SITE_URL,Gp=Nf.catchErrorsDecorator,zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dp(t,e),t.prototype.signIn=function(e,t){return Fp(this,void 0,void 0,(function(){var n,r,o,i,s;return qp(this,(function(a){switch(a.label){case 0:return $p(e)||Wp(Vp.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),o=r.refresh_token,i=r.access_token,s=r.access_token_expire,o?[4,this.setRefreshToken(o)]:[3,8];case 2:return a.sent(),i&&s?[4,this.setAccessToken(i,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),kd.fire(Ud.LOGIN_STATE_CHANGED),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.EMAIL,persistence:this._config.persistence}),[2,new Ld({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?Wp(Vp.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):Wp(Vp.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return Fp(this,void 0,void 0,(function(){return qp(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return Fp(this,void 0,void 0,(function(){return qp(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return Fp(this,void 0,void 0,(function(){return qp(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return Fp(this,void 0,void 0,(function(){return qp(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},Mp([Gp({title:"邮箱密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().emailAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 邮箱地址与密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Hp]}),Bp("design:type",Function),Bp("design:paramtypes",[String,String]),Bp("design:returntype",Promise)],t.prototype,"signIn",null),Mp([Gp({title:"邮箱注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithEmailAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Hp]}),Bp("design:type",Function),Bp("design:paramtypes",[String,String]),Bp("design:returntype",Promise)],t.prototype,"signUp",null),Mp([Gp({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用 auth().sendPasswordResetEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经与当前用户绑定","  4 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Hp]}),Bp("design:type",Function),Bp("design:paramtypes",[String]),Bp("design:returntype",Promise)],t.prototype,"resetPassword",null),Mp([Gp({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Hp]}),Bp("design:type",Function),Bp("design:paramtypes",[String,String]),Bp("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),Mp([Gp({title:"邮箱激活失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Hp]}),Bp("design:type",Function),Bp("design:paramtypes",[String]),Bp("design:returntype",Promise)],t.prototype,"activate",null),t}(Zh),Kp=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jp=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Yp=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xp=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Zp=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Qp=Bf.printWarn,ed=Rf.ERRORS,td=Rf.COMMUNITY_SITE_URL,nd=Nf.catchErrorsDecorator,rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kp(t,e),t.prototype.signIn=function(e,t){return Xp(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l;return Zp(this,(function(f){switch(f.label){case 0:if("string"!=typeof e)throw new Error(JSON.stringify({code:ed.INVALID_PARAMS,msg:"username must be a string"}));return"string"!=typeof t&&(t="",Qp(ed.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,i=(o=this._request).send,s=["auth.signIn"],a={loginType:Jh.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,i.apply(o,s.concat([(a.refresh_token=f.sent()||"",a)]))];case 2:return r=f.sent(),u=r.refresh_token,c=r.access_token_expire,l=r.access_token,u?[4,this.setRefreshToken(u)]:[3,9];case 3:return f.sent(),l&&c?[4,this.setAccessToken(l,c)]:[3,5];case 4:return f.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:f.sent(),f.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return f.sent(),kd.fire(Ud.LOGIN_STATE_CHANGED),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.USERNAME,persistence:this._config.persistence}),[2,new Ld({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:ed.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:ed.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},Jp([nd({title:"用户名密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().signInWithUsernameAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","  3 - 用户名密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+td]}),Yp("design:type",Function),Yp("design:paramtypes",[String,String]),Yp("design:returntype",Promise)],t.prototype,"signIn",null),t}(Zh),od=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),id=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},sd=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ad=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ud=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},cd=Bf.throwError,ld=Bf.isString,fd=Bf.transformPhone,hd=Rf.ERRORS,pd=Rf.COMMUNITY_SITE_URL,dd=Nf.catchErrorsDecorator,gd="SIGNIN",vd="SIGNUP",yd="FORCERESETPWD",md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return od(t,e),t.prototype.signIn=function(e){return ad(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c;return ud(this,(function(l){switch(l.label){case 0:return t=e.phoneNumber,n=e.phoneCode,r=e.password,o=e.signMethod,ld(t)||cd(hd.INVALID_PARAMS,"phoneNumber must be a string"),ld(n)||ld(r)||cd(hd.INVALID_PARAMS,"phoneCode or password must be a string"),o||(o=gd),i=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:Jh.PHONE,phoneNumber:fd(t),phoneCode:n,password:r,refresh_token:this._cache.getStore(i)||"",signMethod:o})];case 1:return s=l.sent(),a=s.refresh_token,u=s.access_token,c=s.access_token_expire,a?[4,this.setRefreshToken(a)]:[3,8];case 2:return l.sent(),u&&c?[4,this.setAccessToken(u,c)]:[3,4];case 3:return l.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:l.sent(),l.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return l.sent(),kd.fire(Ud.LOGIN_STATE_CHANGED),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.PHONE,persistence:this._config.persistence}),[2,new Ld({envId:this._config.env,cache:this._cache,request:this._request})];case 8:s.code?cd(hd.OPERATION_FAIL,"Phone login fail["+s.code+"] "+s.message):cd(hd.OPERATION_FAIL,"Phone login fail"),l.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t,n){return ad(this,void 0,void 0,(function(){return ud(this,(function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:vd})]}))}))},t.prototype.forceResetPwd=function(e,t,n){return ad(this,void 0,void 0,(function(){return ud(this,(function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:yd})]}))}))},id([dd({title:"手机号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().SmsAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","  3 - 短信验证码/密码是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+pd]}),sd("design:type",Function),sd("design:paramtypes",[Object]),sd("design:returntype",Promise)],t.prototype,"signIn",null),id([dd({title:"手机短信注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithPhoneCode() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+pd]}),sd("design:type",Function),sd("design:paramtypes",[String,String,String]),sd("design:returntype",Promise)],t.prototype,"signUp",null),id([dd({title:"手机密码重置失败",messages:["请确认以下各项：","  1 - 调用 auth().forceResetPwd() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+pd]}),sd("design:type",Function),sd("design:paramtypes",[String,String,String]),sd("design:returntype",Promise)],t.prototype,"forceResetPwd",null),t}(Zh),_d=globalThis&&globalThis.__assign||function(){return _d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_d.apply(this,arguments)},bd=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},wd=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ed=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Sd=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Od=Df.CloudbaseEventEmitter,Id=Pf.RUNTIME,Ad=Bf.printWarn,Td=Bf.throwError,xd=Bf.transformPhone,Nd=Rf.ERRORS,Cd=Rf.COMMUNITY_SITE_URL,Rd=Nf.catchErrorsDecorator,kd=new Od,Pd=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.phone=this._getLocalUserInfo("phone"),this.username=this._getLocalUserInfo("username"),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,l,f,h,p,d,g,v,y;return Sd(this,(function(m){switch(m.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=m.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=m.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=m.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=m.sent(),o=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return o.wxPublicId=m.sent(),i=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return i.unionId=m.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=m.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=m.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=m.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=m.sent(),l=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return l.avatarUrl=m.sent(),f=this,[4,this._getLocalUserInfoAsync("email")];case 12:return f.email=m.sent(),h=this,p=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return h.hasPassword=p.apply(void 0,[m.sent()]),d=this,[4,this._getLocalUserInfoAsync("phone")];case 14:return d.phone=m.sent(),g=this,[4,this._getLocalUserInfoAsync("username")];case 15:return g.username=m.sent(),v=this,y={},[4,this._getLocalUserInfoAsync("country")];case 16:return y.country=m.sent(),[4,this._getLocalUserInfoAsync("province")];case 17:return y.province=m.sent(),[4,this._getLocalUserInfoAsync("city")];case 18:return v.location=(y.city=m.sent(),y),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!=typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,o,i;return Sd(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,o=n;r<o.length;r++)if((i=o[r]).wxOpenId&&i.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return Ed(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return Sd(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,o=e.province,i=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:o,country:i,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e,t){return this._request.send("auth.updateEmail",{newEmail:e,password:t})},e.prototype.updateUsername=function(e){return"string"!=typeof e&&Td(Nd.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return Ed(this,void 0,void 0,(function(){var e;return Sd(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,this._setLocalUserInfo(e),[2,e]}}))}))},e.prototype.linkWithPhoneNumber=function(e,t){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:xd(e),phoneCode:t})]}))}))},e.prototype.updatePhoneNumber=function(e,t){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:xd(e),phoneCode:t})]}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;return this._cache.getStore(t)[e]},e.prototype._getLocalUserInfoAsync=function(e){return Ed(this,void 0,void 0,(function(){var t;return Sd(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return[2,n.sent()[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl","phone","username"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},bd([Rd({title:"绑定自定义登录失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithTicket() 的语法或参数是否正确","  2 - 此账户是否已经绑定自定义登录","  3 - ticket 参数是否归属当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",Promise)],e.prototype,"linkWithTicket",null),bd([Rd({title:"绑定第三方登录方式失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithRedirect() 的语法或参数是否正确","  2 - 此账户是否已经绑定此第三方","  3 - 此第三方是否已经授权","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[Object]),wd("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),bd([Rd({title:"获取账户列表失败",messages:["请确认以下各项：","  1 - 调用 User.getLinkedUidList() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),bd([Rd({title:"设置微信主账号失败",messages:["请确认以下各项：","  1 - 调用 User.setPrimaryUid() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),bd([Rd({title:"接触绑定失败",messages:["请确认以下各项：","  1 - 调用 User.unlink() 的语法或参数是否正确","  2 - 当前账户是否已经与此登录方式解绑","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",void 0)],e.prototype,"unlink",null),bd([Rd({title:"更新用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.update() 的语法或参数是否正确","  2 - 用户信息中是否包含非法值","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[Object]),wd("design:returntype",Promise)],e.prototype,"update",null),bd([Rd({title:"更新密码失败",messages:["请确认以下各项：","  1 - 调用 User.updatePassword() 的语法或参数是否正确","  3 - 新密码中是否包含非法字符","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String,String]),wd("design:returntype",void 0)],e.prototype,"updatePassword",null),bd([Rd({title:"更新邮箱地址失败",messages:["请确认以下各项：","  1 - 调用 User.updateEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String,String]),wd("design:returntype",void 0)],e.prototype,"updateEmail",null),bd([Rd({title:"更新用户名失败",messages:["请确认以下各项：","  1 - 调用 User.updateUsername() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",void 0)],e.prototype,"updateUsername",null),bd([Rd({title:"刷新本地用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.refresh() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"refresh",null),bd([Rd({title:"绑定手机号失败",messages:["请确认以下各项：","  1 - 调用 auth().linkWithPhoneNumber() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String,String]),wd("design:returntype",Promise)],e.prototype,"linkWithPhoneNumber",null),bd([Rd({title:"更新手机号失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String,String]),wd("design:returntype",Promise)],e.prototype,"updatePhoneNumber",null),e}(),Ld=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||Td(Nd.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new Pd({cache:n,request:r})}return e.prototype.checkLocalState=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return Sd(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o=this._cache.getStore(t),i=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a;return Sd(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return i=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===Jh.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===Jh.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===Jh.WECHAT||this.loginType===Jh.WECHAT_OPEN||this.loginType===Jh.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===Jh.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPhoneAuth",{get:function(){return this.loginType===Jh.PHONE},enumerable:!1,configurable:!0}),e}(),jd=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||Id.WEB,kd.on(Ud.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}Ad(Nd.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return Ed(this,void 0,void 0,(function(){var e;return Sd(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return(e=t.sent())?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return Ed(this,void 0,void 0,(function(){var e;return Sd(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new pp(_d(_d({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Ap(_d(_d({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new Up(_d(_d({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new zp(_d(_d({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new rd(_d(_d({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.phoneAuthProvider=function(){return this._phoneAuthProvider||(this._phoneAuthProvider=new md(_d(_d({},this._config),{cache:this._cache,request:this._request}))),this._phoneAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return Ed(this,void 0,void 0,(function(){var t;return Sd(this,(function(n){switch(n.label){case 0:return"string"!=typeof e&&Td(Nd.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return[2,null==(t=n.sent().data)?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return Sd(this,(function(a){switch(a.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(t)];case 1:return(i=a.sent())?[4,this._request.send(o,{refresh_token:i})]:[2];case 2:return s=a.sent(),this._cache.removeStoreAsync(t),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),kd.fire(Ud.LOGIN_STATE_CHANGED),kd.fire(Ud.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:Jh.NULL,persistence:this._config.persistence}),[2,s]}}))}))},e.prototype.onLoginStateChanged=function(e){return Ed(this,void 0,void 0,(function(){var t,n=this;return Sd(this,(function(r){switch(r.label){case 0:return kd.on(Ud.LOGIN_STATE_CHANGED,(function(){return Ed(n,void 0,void 0,(function(){var t;return Sd(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){kd.on(Ud.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){kd.on(Ud.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){kd.on(Ud.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;kd.on(Ud.LOGIN_TYPE_CHANGED,(function(){return Ed(t,void 0,void 0,(function(){var t;return Sd(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey;if(this._cache.getStore(e)){var t=new Ld({envId:this._config.env,cache:this._cache,request:this._request});return t.checkLocalState(),t}return null}Ad(Nd.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return Ed(this,void 0,void 0,(function(){var e,t;return Sd(this,(function(n){switch(n.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return n.sent()?[4,(t=new Ld({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,3];case 2:return n.sent(),[2,t];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return Ed(this,void 0,void 0,(function(){var e;return Sd(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return(e=t.sent()).code?[2,e]:[2,_d(_d({},e.data),{requestId:e.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r;return Sd(this,(function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return[2,{"x-cloudbase-credentials":o.sent()+"/@@/"+r}]}}))}))},e.prototype.sendPhoneCode=function(e){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(t){switch(t.label){case 0:return[4,this._request.send("auth.sendPhoneCode",{phoneNumber:xd(e)})];case 1:return[2,"Ok"===t.sent().data.SendStatus]}}))}))},e.prototype.signUpWithPhoneCode=function(e,t,n){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(r){return[2,this.phoneAuthProvider().signUp(e,t,n)]}))}))},e.prototype.signInWithPhoneCodeOrPassword=function(e){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(t){return[2,this.phoneAuthProvider().signIn(e)]}))}))},e.prototype.forceResetPwdByPhoneCode=function(e){return Ed(this,void 0,void 0,(function(){return Sd(this,(function(t){return[2,this.phoneAuthProvider().signIn(_d(_d({},e),{signMethod:yd}))]}))}))},e.prototype._onLoginTypeChanged=function(e){return Ed(this,void 0,void 0,(function(){var t,n,r;return Sd(this,(function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,t.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}}))}))},bd([Rd({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 调用 auth().getCurrenUser() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"getCurrenUser",null),bd([Rd({title:"获取用户是否被占用失败",messages:["请确认以下各项：","  1 - 调用 auth().isUsernameRegistered() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),bd([Rd({title:"用户登出失败",messages:["请确认以下各项：","  1 - 调用 auth().signOut() 的语法或参数是否正确","  2 - 当前用户是否为匿名登录（匿名登录不支持signOut）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"signOut",null),bd([Rd({title:"获取本地登录态失败",messages:["请确认以下各项：","  1 - 调用 auth().getLoginState() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"getLoginState",null),bd([Rd({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 是否已登录","  2 - 调用 auth().getUserInfo() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[]),wd("design:returntype",Promise)],e.prototype,"getUserInfo",null),bd([Rd({title:"发送短信验证码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Cd]}),wd("design:type",Function),wd("design:paramtypes",[String]),wd("design:returntype",Promise)],e.prototype,"sendPhoneCode",null),e}(),Ud={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"},Dd={name:"auth",namespace:"auth",injectEvents:{bus:kd,events:[Ud.LOGIN_TYPE_CHANGED,Ud.LOGIN_STATE_EXPIRED,Ud.LOGIN_STATE_CHANGED,Ud.ACCESS_TOKEN_REFRESHD,Ud.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"local"}),this.authInstance)return Ad(Nd.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,o=e.persistence||n.primaryStorage;o&&o!==this.config.persistence&&this.updateConfig({persistence:o});var i=this.config,s=i.env,a=i.persistence,u=i.debug;return this.authInstance=new jd({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(Dd)}catch(jO){}var Md=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bd=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fd=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},qd=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Wd=Rf.getSdkName,$d=Rf.ERRORS,Vd=Rf.COMMUNITY_SITE_URL,Hd=Bf.execCallback,Gd=Nf.catchErrorsDecorator,zd={name:"functions",entity:{callFunction:(new(function(){function e(){}return e.prototype.callFunction=function(e,t){return Fd(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,p;return qd(this,(function(d){switch(d.label){case 0:if(n=e.name,r=e.data,o=e.query,i=e.parse,s=e.search,!n)throw new Error(JSON.stringify({code:$d.INVALID_PARAMS,msg:"[functions.callFunction] invalid function name"}));try{a=r?JSON.stringify(r):""}catch(jO){throw new Error(JSON.stringify({code:$d.INVALID_PARAMS,msg:"[functions.callFunction] invalid data"}))}u="functions.invokeFunction",c={inQuery:o,parse:i,search:s,function_name:n,request_data:a},l=this.request,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,l.send(u,c)];case 2:if((f=d.sent()).code)return[2,Hd(t,null,f)];if(h=f.data.response_data,i)return[2,Hd(t,null,{result:h,requestId:f.requestId})];try{return h=JSON.parse(f.data.response_data),[2,Hd(t,null,{result:h,requestId:f.requestId})]}catch(jO){Hd(t,new Error("["+Wd()+"]["+$d.INVALID_PARAMS+"][functions.callFunction] response data must be json"))}return[3,4];case 3:return p=d.sent(),Hd(t,p),[3,4];case 4:return[2]}}))}))},Md([Gd({customInfo:{className:"Cloudbase",methodName:"callFunction"},title:"函数调用失败",messages:["请确认以下各项：","  1 - 调用 callFunction() 的语法或参数是否正确","  2 - 当前环境下是否存在此函数","  3 - 函数安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Vd]}),Bd("design:type",Function),Bd("design:paramtypes",[Object,Function]),Bd("design:returntype",Promise)],e.prototype,"callFunction",null),e}())).callFunction}};try{cloudbase.registerComponent(zd)}catch(jO){}var Kd=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Jd=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yd=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Xd=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Zd=Rf.getSdkName,Qd=Rf.ERRORS,eg=Rf.COMMUNITY_SITE_URL,tg=Bf.isArray,ng=Bf.isString,rg=Bf.isPalinObject,og=Bf.execCallback,ig=Nf.catchErrorsDecorator,sg=new(function(){function e(){}return e.prototype.uploadFile=function(e,t){return Yd(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,p,d,g,v;return Xd(this,(function(y){switch(y.label){case 0:if(n=e.cloudPath,r=e.filePath,o=e.onUploadProgress,!ng(n)||!r)throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.uploadFile] invalid params"}));return"storage.getUploadMetadata",[4,(i=this.request).send("storage.getUploadMetadata",{path:n})];case 1:return s=y.sent(),a=s.data,u=a.url,c=a.authorization,l=a.token,f=a.fileId,h=a.cosFileId,p=a.download_url,d=s.requestId,g={key:n,signature:c,"x-cos-meta-fileid":h,success_action_status:"201","x-cos-security-token":l},[4,i.upload({url:u,data:g,file:r,name:n,onUploadProgress:o})];case 2:return 201===(v=y.sent()).statusCode?[2,og(t,null,{fileID:f,download_url:p,requestId:d})]:[2,og(t,new Error("["+Zd()+"]["+Qd.OPERATION_FAIL+"][storage]:"+v.data))]}}))}))},e.prototype.getUploadMetadata=function(e,t){return Yd(this,void 0,void 0,(function(){var n,r,o,i,s;return Xd(this,(function(a){switch(a.label){case 0:if(n=e.cloudPath,!ng(n))throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.getUploadMetadata] invalid cloudPath"}));r=this.request,o="storage.getUploadMetadata",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(o,{path:n})];case 2:return i=a.sent(),[2,og(t,null,i)];case 3:return s=a.sent(),[2,og(t,s)];case 4:return[2]}}))}))},e.prototype.deleteFile=function(e,t){return Yd(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Xd(this,(function(u){switch(u.label){case 0:if(!(n=e.fileList)||!tg(n)||0===n.length)throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.deleteFile] fileList must not be empty"}));for(r=0,o=n;r<o.length;r++)if(!(i=o[r])||!ng(i))throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.deleteFile] fileID must be string"}));return"storage.batchDeleteFile",[4,this.request.send("storage.batchDeleteFile",{fileid_list:n})];case 1:return(s=u.sent()).code?[2,og(t,null,s)]:(a={fileList:s.data.delete_list,requestId:s.requestId},[2,og(t,null,a)])}}))}))},e.prototype.getTempFileURL=function(e,t){return Yd(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Xd(this,(function(u){switch(u.label){case 0:if(!(n=e.fileList)||!tg(n)||0===n.length)throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.getTempFileURL] fileList must not be empty"}));for(r=[],o=0,i=n;o<i.length;o++)if(s=i[o],rg(s)){if(!s.hasOwnProperty("fileID")||!s.hasOwnProperty("maxAge"))throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.getTempFileURL] file info must include fileID and maxAge"}));r.push({fileid:s.fileID,max_age:s.maxAge})}else{if(!ng(s))throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.getTempFileURL] invalid fileList"}));r.push({fileid:s})}return"storage.batchGetDownloadUrl",[4,this.request.send("storage.batchGetDownloadUrl",{file_list:r})];case 1:return(a=u.sent()).code?[2,og(t,null,a)]:[2,og(t,null,{fileList:a.data.download_list,requestId:a.requestId})]}}))}))},e.prototype.downloadFile=function(e,t){return Yd(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Xd(this,(function(u){switch(u.label){case 0:if(n=e.fileID,!ng(n))throw new Error(JSON.stringify({code:Qd.INVALID_PARAMS,msg:"[storage.getTempFileURL] fileID must be string"}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}]})];case 1:return r=u.sent(),"SUCCESS"!==(o=r.fileList[0]).code?[2,og(t,o)]:(i=this.request,s=encodeURI(o.download_url),[4,i.download({url:s})]);case 2:return a=u.sent(),[2,og(t,null,a)]}}))}))},Kd([ig({customInfo:{className:"Cloudbase",methodName:"uploadFile"},title:"上传文件失败",messages:["请确认以下各项：","  1 - 调用 uploadFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+eg]}),Jd("design:type",Function),Jd("design:paramtypes",[Object,Function]),Jd("design:returntype",Promise)],e.prototype,"uploadFile",null),Kd([ig({customInfo:{className:"Cloudbase",methodName:"getUploadMetadata"},title:"获取上传元信息失败",messages:["请确认以下各项：","  1 - 调用 getUploadMetadata() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+eg]}),Jd("design:type",Function),Jd("design:paramtypes",[Object,Function]),Jd("design:returntype",Promise)],e.prototype,"getUploadMetadata",null),Kd([ig({customInfo:{className:"Cloudbase",methodName:"deleteFile"},title:"删除文件失败",messages:["请确认以下各项：","  1 - 调用 deleteFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+eg]}),Jd("design:type",Function),Jd("design:paramtypes",[Object,Function]),Jd("design:returntype",Promise)],e.prototype,"deleteFile",null),Kd([ig({customInfo:{className:"Cloudbase",methodName:"getTempFileURL"},title:"获取文件下载链接",messages:["请确认以下各项：","  1 - 调用 getTempFileURL() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+eg]}),Jd("design:type",Function),Jd("design:paramtypes",[Object,Function]),Jd("design:returntype",Promise)],e.prototype,"getTempFileURL",null),Kd([ig({customInfo:{className:"Cloudbase",methodName:"downloadFile"},title:"下载文件失败",messages:["请确认以下各项：","  1 - 调用 downloadFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+eg]}),Jd("design:type",Function),Jd("design:paramtypes",[Object,Function]),Jd("design:returntype",Promise)],e.prototype,"downloadFile",null),e}()),ag={name:"storage",entity:{uploadFile:sg.uploadFile,deleteFile:sg.deleteFile,getTempFileURL:sg.getTempFileURL,downloadFile:sg.downloadFile,getUploadMetadata:sg.getUploadMetadata}};try{cloudbase.registerComponent(ag)}catch(jO){}var ug="[object GeneratorFunction]",cg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lg=/^\w*$/,fg=/^\./,hg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pg=/\\(\\)?/g,dg=/^\[object .+?Constructor\]$/,gg=/^(?:0|[1-9]\d*)$/,vg="object"==typeof ol&&ol&&ol.Object===Object&&ol,yg="object"==typeof self&&self&&self.Object===Object&&self,mg=vg||yg||Function("return this")();var _g,bg=Array.prototype,wg=Function.prototype,Eg=Object.prototype,Sg=mg["__core-js_shared__"],Og=(_g=/[^.]+$/.exec(Sg&&Sg.keys&&Sg.keys.IE_PROTO||""))?"Symbol(src)_1."+_g:"",Ig=wg.toString,Ag=Eg.hasOwnProperty,Tg=Eg.toString,xg=RegExp("^"+Ig.call(Ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ng=mg.Symbol,Cg=bg.splice,Rg=$g(mg,"Map"),kg=$g(Object,"create"),Pg=Ng?Ng.prototype:void 0,Lg=Pg?Pg.toString:void 0;function jg(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ug(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dg(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mg(e,t,n){var r=e[t];Ag.call(e,t)&&Kg(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Bg(e,t){for(var n=e.length;n--;)if(Kg(e[n][0],t))return n;return-1}function Fg(e){if(!Yg(e)||(t=e,Og&&Og in t))return!1;var t,n=function(e){var t=Yg(e)?Tg.call(e):"";return"[object Function]"==t||t==ug}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(jO){}return t}(e)?xg:dg;return n.test(function(e){if(null!=e){try{return Ig.call(e)}catch(jO){}try{return e+""}catch(jO){}}return""}(e))}function qg(e,t,n,r){if(!Yg(e))return e;t=function(e,t){if(Jg(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||Xg(e))return!0;return lg.test(e)||!cg.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return Jg(e)?e:Hg(e)}(t);for(var o=-1,i=t.length,s=i-1,a=e;null!=a&&++o<i;){var u=Gg(t[o]),c=n;if(o!=s){var l=a[u];void 0===(c=r?r(l,u,a):void 0)&&(c=Yg(l)?l:Vg(t[o+1])?[]:{})}Mg(a,u,c),a=a[u]}return e}function Wg(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function $g(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Fg(n)?n:void 0}function Vg(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||gg.test(e))&&e>-1&&e%1==0&&e<t}jg.prototype.clear=function(){this.__data__=kg?kg(null):{}},jg.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},jg.prototype.get=function(e){var t=this.__data__;if(kg){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ag.call(t,e)?t[e]:void 0},jg.prototype.has=function(e){var t=this.__data__;return kg?void 0!==t[e]:Ag.call(t,e)},jg.prototype.set=function(e,t){return this.__data__[e]=kg&&void 0===t?"__lodash_hash_undefined__":t,this},Ug.prototype.clear=function(){this.__data__=[]},Ug.prototype.delete=function(e){var t=this.__data__,n=Bg(t,e);return!(n<0)&&(n==t.length-1?t.pop():Cg.call(t,n,1),!0)},Ug.prototype.get=function(e){var t=this.__data__,n=Bg(t,e);return n<0?void 0:t[n][1]},Ug.prototype.has=function(e){return Bg(this.__data__,e)>-1},Ug.prototype.set=function(e,t){var n=this.__data__,r=Bg(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Dg.prototype.clear=function(){this.__data__={hash:new jg,map:new(Rg||Ug),string:new jg}},Dg.prototype.delete=function(e){return Wg(this,e).delete(e)},Dg.prototype.get=function(e){return Wg(this,e).get(e)},Dg.prototype.has=function(e){return Wg(this,e).has(e)},Dg.prototype.set=function(e,t){return Wg(this,e).set(e,t),this};var Hg=zg((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Xg(e))return Lg?Lg.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return fg.test(e)&&n.push(""),e.replace(hg,(function(e,t,r,o){n.push(r?o.replace(pg,"$1"):t||e)})),n}));function Gg(e){if("string"==typeof e||Xg(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function zg(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(zg.Cache||Dg),n}function Kg(e,t){return e===t||e!=e&&t!=t}zg.Cache=Dg;var Jg=Array.isArray;function Yg(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xg(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Tg.call(e)}var Zg=function(e,t,n){return null==e?e:qg(e,t,n)},Qg="[object GeneratorFunction]",ev=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tv=/^\w*$/,nv=/^\./,rv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ov=/\\(\\)?/g,iv=/^\[object .+?Constructor\]$/,sv="object"==typeof ol&&ol&&ol.Object===Object&&ol,av="object"==typeof self&&self&&self.Object===Object&&self,uv=sv||av||Function("return this")();var cv=Array.prototype,lv=Function.prototype,fv=Object.prototype,hv=uv["__core-js_shared__"],pv=function(){var e=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dv=lv.toString,gv=fv.hasOwnProperty,vv=fv.toString,yv=RegExp("^"+dv.call(gv).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mv=uv.Symbol,_v=cv.splice,bv=kv(uv,"Map"),wv=kv(Object,"create"),Ev=mv?mv.prototype:void 0,Sv=Ev?Ev.toString:void 0;function Ov(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Iv(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Av(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Tv(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function xv(e){if(!Mv(e)||(t=e,pv&&pv in t))return!1;var t,n=function(e){var t=Mv(e)?vv.call(e):"";return"[object Function]"==t||t==Qg}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(jO){}return t}(e)?yv:iv;return n.test(function(e){if(null!=e){try{return dv.call(e)}catch(jO){}try{return e+""}catch(jO){}}return""}(e))}function Nv(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=Pv(t,e)?[t]:Cv(t)).length;null!=e&&n<r;)e=e[jv(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))}(e,t=Pv(t,e)?[t]:Cv(t));var n,r,o=jv((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&gv.call(e,o))||delete e[o]}function Cv(e){return Dv(e)?e:Lv(e)}function Rv(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function kv(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xv(n)?n:void 0}function Pv(e,t){if(Dv(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bv(e))||(tv.test(e)||!ev.test(e)||null!=t&&e in Object(t))}Ov.prototype.clear=function(){this.__data__=wv?wv(null):{}},Ov.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ov.prototype.get=function(e){var t=this.__data__;if(wv){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gv.call(t,e)?t[e]:void 0},Ov.prototype.has=function(e){var t=this.__data__;return wv?void 0!==t[e]:gv.call(t,e)},Ov.prototype.set=function(e,t){return this.__data__[e]=wv&&void 0===t?"__lodash_hash_undefined__":t,this},Iv.prototype.clear=function(){this.__data__=[]},Iv.prototype.delete=function(e){var t=this.__data__,n=Tv(t,e);return!(n<0)&&(n==t.length-1?t.pop():_v.call(t,n,1),!0)},Iv.prototype.get=function(e){var t=this.__data__,n=Tv(t,e);return n<0?void 0:t[n][1]},Iv.prototype.has=function(e){return Tv(this.__data__,e)>-1},Iv.prototype.set=function(e,t){var n=this.__data__,r=Tv(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Av.prototype.clear=function(){this.__data__={hash:new Ov,map:new(bv||Iv),string:new Ov}},Av.prototype.delete=function(e){return Rv(this,e).delete(e)},Av.prototype.get=function(e){return Rv(this,e).get(e)},Av.prototype.has=function(e){return Rv(this,e).has(e)},Av.prototype.set=function(e,t){return Rv(this,e).set(e,t),this};var Lv=Uv((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Bv(e))return Sv?Sv.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return nv.test(e)&&n.push(""),e.replace(rv,(function(e,t,r,o){n.push(r?o.replace(ov,"$1"):t||e)})),n}));function jv(e){if("string"==typeof e||Bv(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Uv(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(Uv.Cache||Av),n}Uv.Cache=Av;var Dv=Array.isArray;function Mv(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Bv(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==vv.call(e)}var Fv=function(e,t){return null==e||Nv(e,t)},qv={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Boolean]",s="[object Date]",a="[object Function]",u="[object GeneratorFunction]",c="[object Map]",l="[object Number]",f="[object Object]",h="[object Promise]",p="[object RegExp]",d="[object Set]",g="[object String]",v="[object Symbol]",y="[object WeakMap]",m="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",I="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",x="[object Uint32Array]",N=/\w*$/,C=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,k={};k[o]=k["[object Array]"]=k[m]=k[_]=k[i]=k[s]=k[b]=k[w]=k[E]=k[S]=k[O]=k[c]=k[l]=k[f]=k[p]=k[d]=k[g]=k[v]=k[I]=k[A]=k[T]=k[x]=!0,k["[object Error]"]=k[a]=k[y]=!1;var P="object"==typeof ol&&ol&&ol.Object===Object&&ol,L="object"==typeof self&&self&&self.Object===Object&&self,j=P||L||Function("return this")(),U=t&&!t.nodeType&&t,D=U&&e&&!e.nodeType&&e,M=D&&D.exports===U;function B(e,t){return e.set(t[0],t[1]),e}function F(e,t){return e.add(t),e}function q(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(jO){}return t}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G=Array.prototype,z=Function.prototype,K=Object.prototype,J=j["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=z.toString,Z=K.hasOwnProperty,Q=K.toString,ee=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=M?j.Buffer:void 0,ne=j.Symbol,re=j.Uint8Array,oe=V(Object.getPrototypeOf,Object),ie=Object.create,se=K.propertyIsEnumerable,ae=G.splice,ue=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=V(Object.keys,Object),fe=Ue(j,"DataView"),he=Ue(j,"Map"),pe=Ue(j,"Promise"),de=Ue(j,"Set"),ge=Ue(j,"WeakMap"),ve=Ue(Object,"create"),ye=qe(fe),me=qe(he),_e=qe(pe),be=qe(de),we=qe(ge),Ee=ne?ne.prototype:void 0,Se=Ee?Ee.valueOf:void 0;function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){this.__data__=new Ie(e)}function xe(e,t){var n=$e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ve(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||Q.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!Z.call(e,s)||i&&("length"==s||Be(s,r))||n.push(s);return n}function Ne(e,t,n){var r=e[t];Z.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ce(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Re(e,t,n,r,h,y,C){var R;if(r&&(R=y?r(e,h,y,C):r(e)),void 0!==R)return R;if(!ze(e))return e;var P=$e(e);if(P){if(R=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,R)}else{var L=Me(e),j=L==a||L==u;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==f||L==o||j&&!y){if(W(e))return y?e:{};if(R=function(e){return"function"!=typeof e.constructor||Fe(e)?{}:(t=oe(e),ze(t)?ie(t):{});var t}(j?{}:e),!t)return function(e,t){return Le(e,De(e),t)}(e,function(e,t){return e&&Le(t,Ke(t),e)}(R,e))}else{if(!k[L])return y?e:{};R=function(e,t,n,r){var o=e.constructor;switch(t){case m:return Pe(e);case i:case s:return new o(+e);case _:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case b:case w:case E:case S:case O:case I:case A:case T:case x:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case c:return function(e,t,n){return q(t?n($(e),!0):$(e),B,new e.constructor)}(e,r,n);case l:case g:return new o(e);case p:return function(e){var t=new e.constructor(e.source,N.exec(e));return t.lastIndex=e.lastIndex,t}(e);case d:return function(e,t,n){return q(t?n(H(e),!0):H(e),F,new e.constructor)}(e,r,n);case v:return a=e,Se?Object(Se.call(a)):{}}var a}(e,L,Re,t)}}C||(C=new Te);var U=C.get(e);if(U)return U;if(C.set(e,R),!P)var D=n?function(e){return function(e,t,n){var r=t(e);return $e(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ke,De)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(D||e,(function(o,i){D&&(o=e[i=o]),Ne(R,i,Re(o,t,n,r,i,e,C))})),R}function ke(e){return!(!ze(e)||(t=e,Y&&Y in t))&&(Ge(e)||W(e)?ee:C).test(qe(e));var t}function Pe(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function Le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],a=r?r(n[s],e[s],s,n,e):void 0;Ne(n,s,void 0===a?e[s]:a)}return n}function je(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=ve?ve(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return Z.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:Z.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Oe,map:new(he||Ie),string:new Oe}},Ae.prototype.delete=function(e){return je(this,e).delete(e)},Ae.prototype.get=function(e){return je(this,e).get(e)},Ae.prototype.has=function(e){return je(this,e).has(e)},Ae.prototype.set=function(e,t){return je(this,e).set(e,t),this},Te.prototype.clear=function(){this.__data__=new Ie},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var De=ue?V(ue,Object):function(){return[]},Me=function(e){return Q.call(e)};function Be(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function qe(e){if(null!=e){try{return X.call(e)}catch(jO){}try{return e+""}catch(jO){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(fe&&Me(new fe(new ArrayBuffer(1)))!=_||he&&Me(new he)!=c||pe&&Me(pe.resolve())!=h||de&&Me(new de)!=d||ge&&Me(new ge)!=y)&&(Me=function(e){var t=Q.call(e),n=t==f?e.constructor:void 0,r=n?qe(n):void 0;if(r)switch(r){case ye:return _;case me:return c;case _e:return h;case be:return d;case we:return y}return t});var $e=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Ge(e)}var He=ce||function(){return!1};function Ge(e){var t=ze(e)?Q.call(e):"";return t==a||t==u}function ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return Ve(e)?xe(e):function(e){if(!Fe(e))return le(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Re(e,!0,!0)}}(qv,qv.exports);var Wv=qv.exports;function $v(e){return void 0===e&&(e=""),(e?e+"_":"")+ +new Date+"_"+Math.random()}var Vv,Hv,Gv=function(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})},zv=function(e){var t,n,r=e.id,o=e.docChanges,i=e.docs,s=e.msgType,a=e.type;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return t||(t=JSON.parse(JSON.stringify(o))),t},enumerable:!0},docs:{get:function(){return n||(n=JSON.parse(JSON.stringify(i))),n},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return a},enumerable:!0}})},Kv=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jv=function(e){function t(t){var n=e.call(this,"Watch Error "+JSON.stringify(t.msgData)+" (requestid: "+t.requestId+")")||this;return n.isRealtimeErrorMessageError=!0,n.payload=t,n}return Kv(t,e),t}(Error),Yv=function(e){return null==e?void 0:e.isRealtimeErrorMessageError},Xv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeout",t.payload=null,t.generic=!0,t}return Kv(t,e),t}(Error),Zv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cancelled",t.payload=null,t.generic=!0,t}return Kv(t,e),t}(Error),Qv=function(e){function t(t){var n=e.call(this,t.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: "+this.errCode+" "+(ey[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),n.errCode=t.errCode||"UNKNOWN_ERROR",n.errMsg=t.errMsg,n}return Kv(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!1,configurable:!0}),t}(Error),ey={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},ty=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},ny=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ry=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},oy=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};(Hv=Vv||(Vv={})).LOGGINGIN="LOGGINGIN",Hv.INITING="INITING",Hv.REBUILDING="REBUILDING",Hv.ACTIVE="ACTIVE",Hv.ERRORED="ERRORED",Hv.CLOSING="CLOSING",Hv.CLOSED="CLOSED",Hv.PAUSED="PAUSED",Hv.RESUMING="RESUMING";var iy=function(){function e(e){var t=this;this.watchStatus=Vv.INITING,this._login=function(e,n){return ny(t,void 0,void 0,(function(){var t;return ry(this,(function(r){switch(r.label){case 0:return this.watchStatus=Vv.LOGGINGIN,[4,this.login(e,n)];case 1:return t=r.sent(),this.envId||(this.envId=t.envId),[2,t]}}))}))},this.initWatch=function(e){return ny(t,void 0,void 0,(function(){var t,n=this;return ry(this,(function(r){switch(r.label){case 0:if(this._initWatchPromise)return[2,this._initWatchPromise];this._initWatchPromise=new Promise((function(t,r){return ny(n,void 0,void 0,(function(){var n,o,i,s,a,u,c,l,f,h;return ry(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),this.watchStatus===Vv.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,t()]):[4,this._login(this.envId,e)];case 1:return n=p.sent().envId,this.watchStatus===Vv.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,t()]):(this.watchStatus=Vv.INITING,o={watchId:this.watchId,requestId:$v(),msgType:"INIT_WATCH",msgData:{envId:n,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!0,timeout:1e4})]);case 2:if(i=p.sent(),s=i.msgData,a=s.events,u=s.currEvent,this.sessionInfo={queryID:i.msgData.queryID,currentEventId:u-1,currentDocs:[]},a.length>0){for(c=0,l=a;c<l.length;c++)l[c].ID=u;this.handleServerEvents(i)}else this.sessionInfo.currentEventId=u,f=new zv({id:u,docChanges:[],docs:[],type:"init"}),this.listener.onChange(f),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=Vv.ACTIVE,this._availableRetries.INIT_WATCH=2,t(),[3,4];case 3:return h=p.sent(),this.handleWatchEstablishmentError(h,{operationName:"INIT_WATCH",resolve:t,reject:r}),[3,4];case 4:return[2]}}))}))})),t=!1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._initWatchPromise];case 2:return r.sent(),t=!0,[3,4];case 3:return this._initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch "+(t?"success":"fail")),[2]}}))}))},this.rebuildWatch=function(e){return ny(t,void 0,void 0,(function(){var t,n=this;return ry(this,(function(r){switch(r.label){case 0:if(this._rebuildWatchPromise)return[2,this._rebuildWatchPromise];this._rebuildWatchPromise=new Promise((function(t,r){return ny(n,void 0,void 0,(function(){var n,o,i,s;return ry(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.watchStatus===Vv.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,t()]):[4,this._login(this.envId,e)];case 1:if(n=a.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===Vv.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,t()]):(this.watchStatus=Vv.REBUILDING,o={watchId:this.watchId,requestId:$v(),msgType:"REBUILD_WATCH",msgData:{envId:n,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!1,timeout:1e4})]);case 2:return i=a.sent(),this.handleServerEvents(i),this.watchStatus=Vv.ACTIVE,this._availableRetries.REBUILD_WATCH=2,t(),[3,4];case 3:return s=a.sent(),this.handleWatchEstablishmentError(s,{operationName:"REBUILD_WATCH",resolve:t,reject:r}),[3,4];case 4:return[2]}}))}))})),t=!1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._rebuildWatchPromise];case 2:return r.sent(),t=!0,[3,4];case 3:return this._rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch "+(t?"success":"fail")),[2]}}))}))},this.handleWatchEstablishmentError=function(e,n){return ny(t,void 0,void 0,(function(){var t,r,o,i=this;return ry(this,(function(s){return t="INIT_WATCH"===n.operationName,r=function(){i.closeWithError(new Qv({errCode:t?ey.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:ey.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:e})),n.reject(e)},o=function(e){i.useRetryTicket(n.operationName)?t?(i._initWatchPromise=void 0,n.resolve(i.initWatch(e))):(i._rebuildWatchPromise=void 0,n.resolve(i.rebuildWatch(e))):r()},this.handleCommonError(e,{onSignError:function(){return o(!0)},onTimeoutError:function(){return o(!1)},onNotRetryableError:r,onCancelledError:n.reject,onUnknownError:function(){return ny(i,void 0,void 0,(function(){var e,t=this;return ry(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),e=function(){return ny(t,void 0,void 0,(function(){return ry(this,(function(e){switch(e.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return e.sent(),o(!0),[2]}}))}))},this.isWSConnected()?[3,2]:[4,e()];case 1:return r.sent(),[3,7];case 2:return[4,ty(100)];case 3:return r.sent(),this.watchStatus!==Vv.PAUSED?[3,4]:(n.reject(new Zv(n.operationName+" cancelled due to pause after unknownError")),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,e()];case 5:return r.sent(),[3,7];case 6:o(!1),r.label=7;case 7:return[3,9];case 8:return r.sent(),o(!0),[3,9];case 9:return[2]}}))}))}}),[2]}))}))},this.closeWatch=function(){return ny(t,void 0,void 0,(function(){var e,t,n;return ry(this,(function(r){switch(r.label){case 0:if(e=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==Vv.ACTIVE)return this.watchStatus=Vv.CLOSED,this.onWatchClose(this,e),[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),this.watchStatus=Vv.CLOSING,t={watchId:this.watchId,requestId:$v(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:t})];case 2:return r.sent(),this.sessionInfo=void 0,this.watchStatus=Vv.CLOSED,[3,5];case 3:return n=r.sent(),this.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:n})),[3,5];case 4:return this.onWatchClose(this,e),[7];case 5:return[2]}}))}))},this.scheduleSendACK=function(){t.clearACKSchedule(),t._ackTimeoutId=setTimeout((function(){t._waitExpectedTimeoutId?t.scheduleSendACK():t.sendACK()}),1e4)},this.clearACKSchedule=function(){t._ackTimeoutId&&clearTimeout(t._ackTimeoutId)},this.sendACK=function(){return ny(t,void 0,void 0,(function(){var e,t,n;return ry(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.watchStatus!==Vv.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(e={watchId:this.watchId,requestId:$v(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:e})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return r.sent(),this.scheduleSendACK(),[3,3];case 2:if(t=r.sent(),Yv(t))switch((n=t.payload).msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:n.msgData.code})),[2]}return this._availableRetries.CHECK_LAST&&this._availableRetries.CHECK_LAST>0?(this._availableRetries.CHECK_LAST--,this.scheduleSendACK()):this.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:t})),[3,3];case 3:return[2]}}))}))},this.handleCommonError=function(e,t){if(Yv(e)){switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);default:return void t.onNotRetryableError(e)}}else{if(function(e){return"timeout"===e.type}(e))return void t.onTimeoutError(e);if(function(e){return"cancelled"===e.type}(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_"+ +new Date+"_"+Math.random(),this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.onceWSConnected=e.onceWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.debug=e.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this.listener=new Gv({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return e.prototype.onMessage=function(e){var t=this;switch(this.watchStatus){case Vv.PAUSED:if("ERROR"!==e.msgType)return;break;case Vv.LOGGINGIN:case Vv.INITING:case Vv.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while "+this.watchStatus);case Vv.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case Vv.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent "+e.msgData.currEvent+" ignored",e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((function(){t.rebuildWatch()}),this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength "+this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:e.msgData.code+" - "+e.msgData.message}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg "+e.msgType+": ",e)}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")},e.prototype.closeWithError=function(e){this.watchStatus=Vv.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")")},e.prototype.pause=function(){this.watchStatus=Vv.PAUSED,console.log("[realtime] client paused ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")")},e.prototype.resume=function(){return ny(this,void 0,void 0,(function(){var e;return ry(this,(function(t){switch(t.label){case 0:this.watchStatus=Vv.RESUMING,console.log("[realtime] client resuming with "+(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH")+" ("+this.collectionName+" "+this.query+") ("+this.watchId+")"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return t.sent(),console.log("[realtime] client successfully resumed ("+this.collectionName+" "+this.query+") ("+this.watchId+")"),[3,4];case 3:return e=t.sent(),console.error("[realtime] client resume failed ("+this.collectionName+" "+this.query+") ("+this.watchId+")",e),[3,4];case 4:return[2]}}))}))},e.prototype.useRetryTicket=function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] "+e+" use a retry ticket, now only "+this._availableRetries[e]+" retry left"),!0)},e.prototype.handleServerEvents=function(e){return ny(this,void 0,void 0,(function(){var t;return ry(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this._handleServerEvents(e)];case 1:return n.sent(),this._postHandleServerEventsValidityCheck(e),[3,3];case 2:throw t=n.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",t),t;case 3:return[2]}}))}))},e.prototype._handleServerEvents=function(e){return ny(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,l,f,h;return ry(this,(function(p){switch(p.label){case 0:if(t=e.requestId,n=e.msgData.events,r=e.msgType,!n.length||!this.sessionInfo)return[2];o=this.sessionInfo;try{i=n.map(sy)}catch(jO){return this.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:jO})),[2]}s=oy(o.currentDocs),a=!1,u=function(n,u){var l,f,h,p,d,g,v,y,m,_,b;return ry(this,(function(w){switch(w.label){case 0:return l=i[n],o.currentEventId>=l.id?(!i[n-1]||l.id>i[n-1].id?console.warn("[realtime] duplicate event received, cur "+o.currentEventId+" but got "+l.id):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId "+t+")"),[2,"continue"]):[3,1];case 1:if(o.currentEventId!==l.id-1)return[3,2];switch(l.dataType){case"update":if(!l.doc)switch(l.queueType){case"update":case"dequeue":if(f=s.find((function(e){return e._id===l.docId}))){if(g=Wv(f),l.updatedFields)for(d in l.updatedFields)Zg(g,d,l.updatedFields[d]);if(l.removedFields)for(h=0,p=l.removedFields;h<p.length;h++)d=p[h],Fv(g,d);l.doc=g}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break;case"enqueue":throw v=new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '+e.requestId+")"}),c.closeWithError(v),v}break;case"replace":if(!l.doc)throw v=new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '+e.requestId+")"}),c.closeWithError(v),v;break;case"remove":(g=s.find((function(e){return e._id===l.docId})))?l.doc=g:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break;case"limit":if(!l.doc)switch(l.queueType){case"dequeue":(g=s.find((function(e){return e._id===l.docId})))?l.doc=g:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break;case"enqueue":throw v=new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '+e.requestId+")"}),c.closeWithError(v),v}}switch(l.queueType){case"init":a?s.push(l.doc):(a=!0,s=[l.doc]);break;case"enqueue":s.push(l.doc);break;case"dequeue":(y=s.findIndex((function(e){return e._id===l.docId})))>-1?s.splice(y,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break;case"update":(y=s.findIndex((function(e){return e._id===l.docId})))>-1?s[y]=l.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.")}return(n===u-1||i[n+1]&&i[n+1].id!==l.id)&&(m=oy(s),_=i.slice(0,n+1).filter((function(e){return e.id===l.id})),c.sessionInfo.currentEventId=l.id,c.sessionInfo.currentDocs=s,b=new zv({id:l.id,docChanges:_,docs:m,msgType:r}),c.listener.onChange(b)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur "+c.sessionInfo.currentEventId+" but got "+l.id),[4,c.rebuildWatch()];case 3:return w.sent(),[2,{value:void 0}];case 4:return[2]}}))},c=this,l=0,f=i.length,p.label=1;case 1:return l<f?[5,u(l,f)]:[3,4];case 2:if("object"==typeof(h=p.sent()))return[2,h.value];p.label=3;case 3:return l++,[3,1];case 4:return[2]}}))}))},e.prototype._postHandleServerEventsValidityCheck=function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")},e.prototype.clearWaitExpectedEvent=function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)},e}();function sy(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var ay,uy,cy={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};(uy=ay||(ay={}))[uy.NormalClosure=1e3]="NormalClosure",uy[uy.GoingAway=1001]="GoingAway",uy[uy.ProtocolError=1002]="ProtocolError",uy[uy.UnsupportedData=1003]="UnsupportedData",uy[uy.NoStatusReceived=1005]="NoStatusReceived",uy[uy.AbnormalClosure=1006]="AbnormalClosure",uy[uy.InvalidFramePayloadData=1007]="InvalidFramePayloadData",uy[uy.PolicyViolation=1008]="PolicyViolation",uy[uy.MessageTooBig=1009]="MessageTooBig",uy[uy.MissingExtension=1010]="MissingExtension",uy[uy.InternalError=1011]="InternalError",uy[uy.ServiceRestart=1012]="ServiceRestart",uy[uy.TryAgainLater=1013]="TryAgainLater",uy[uy.BadGateway=1014]="BadGateway",uy[uy.TLSHandshake=1015]="TLSHandshake",uy[uy.ReconnectWebSocket=3e3]="ReconnectWebSocket",uy[uy.NoRealtimeListeners=3001]="NoRealtimeListeners",uy[uy.HeartbeatPingError=3002]="HeartbeatPingError",uy[uy.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",uy[uy.NoAuthentication=3050]="NoAuthentication";var ly=function(e,t){var n=cy[e],r=n?n.name+", code "+e+", reason "+(t||n.description):"code "+e;return new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})},fy=null,hy="web";function py(){return hy}var dy=globalThis&&globalThis.__assign||function(){return dy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dy.apply(this,arguments)},gy=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vy=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yy=1,my=function(){function e(e){var t=this;this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.send=function(e){return gy(t,void 0,void 0,(function(){var t=this;return vy(this,(function(n){return[2,new Promise((function(n,r){return gy(t,void 0,void 0,(function(){var t,o,i,s,a,u,c,l=this;return vy(this,(function(f){switch(f.label){case 0:o=!1,i=!1,s=function(e){o=!0,t&&clearTimeout(t),n(e)},a=function(e){i=!0,t&&clearTimeout(t),r(e)},e.timeout&&(t=setTimeout((function(){return gy(l,void 0,void 0,(function(){return vy(this,(function(e){switch(e.label){case 0:return o&&i?[3,2]:[4,ty(0)];case 1:e.sent(),o&&i||a(new Xv("wsclient.send timedout")),e.label=2;case 2:return[2]}}))}))}),e.timeout)),f.label=1;case 1:return f.trys.push([1,8,,9]),this._wsInitPromise?[4,this._wsInitPromise]:[3,3];case 2:f.sent(),f.label=3;case 3:if(!this._ws)return a(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this._ws.readyState!==yy)return a(new Error("ws readyState invalid: "+this._ws.readyState+", can not send message")),[2];e.waitResponse&&this._wsResponseWait.set(e.msg.requestId,{resolve:s,reject:a,skipOnMessage:e.skipOnMessage}),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,this._ws.send(JSON.stringify(e.msg))];case 5:return f.sent(),e.waitResponse||s(),[3,7];case 6:return(u=f.sent())&&(a(u),e.waitResponse&&this._wsResponseWait.delete(e.msg.requestId)),[3,7];case 7:return[3,9];case 8:return c=f.sent(),a(c),[3,9];case 9:return[2]}}))}))}))]}))}))},this.closeAllClients=function(e){t._virtualWSClient.forEach((function(t){t.closeWithError(e)}))},this.pauseClients=function(e){(e||t._virtualWSClient).forEach((function(e){e.pause()}))},this.resumeClients=function(e){(e||t._virtualWSClient).forEach((function(e){e.resume()}))},this.initWebSocketConnection=function(e,n){return void 0===n&&(n=t._maxReconnect),gy(t,void 0,void 0,(function(){var t=this;return vy(this,(function(r){switch(r.label){case 0:if(e&&this._reconnectState)return[2];if(e&&(this._reconnectState=!0),this._wsInitPromise)return[2,this._wsInitPromise];e&&this.pauseClients(),this.close(ay.ReconnectWebSocket),this._wsInitPromise=new Promise((function(r,o){return gy(t,void 0,void 0,(function(){var t,i,s=this;return vy(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return t=a.sent(),[4,new Promise((function(e){var n=t.wsUrl||"wss://tcb-ws.tencentcloudapi.com",r=fy;s._ws=r?new r(n):new WebSocket(n),e()}))];case 2:return a.sent(),this._ws.connect?[4,this._ws.connect()]:[3,4];case 3:a.sent(),a.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return a.sent(),r(),e&&(this.resumeClients(),this._reconnectState=!1),[3,11];case 6:return i=a.sent(),console.error("[realtime] initWebSocketConnection connect fail",i),n>0?(!0,this._wsInitPromise=void 0,[4,ty(this._reconnectInterval)]):[3,9];case 7:a.sent(),e&&(this._reconnectState=!1),a.label=8;case 8:return r(this.initWebSocketConnection(e,n-1)),[3,10];case 9:o(i),e&&this.closeAllClients(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:i})),a.label=10;case 10:return[3,11];case 11:return[2]}}))}))})),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this._wsInitPromise];case 2:return r.sent(),this._wsReadySubsribers.forEach((function(e){return(0,e.resolve)()})),[3,5];case 3:return r.sent(),this._wsReadySubsribers.forEach((function(e){return(0,e.reject)()})),[3,5];case 4:return this._wsInitPromise=void 0,this._wsReadySubsribers=[],[7];case 5:return[2]}}))}))},this.initWebSocketEvent=function(){return new Promise((function(e,n){if(!t._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;t._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),r=!0,e()},t._ws.onerror=function(e){t._logins=new Map,r?(console.error("[realtime] ws event: error",e),t.clearHeartbeat(),t._virtualWSClient.forEach((function(t){return t.closeWithError(new Qv({errCode:ey.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))}))):(console.error("[realtime] ws open failed with ws event: error",e),n(e))},t._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),t._logins=new Map,t.clearHeartbeat(),e.code){case ay.ReconnectWebSocket:case ay.NoRealtimeListeners:break;case ay.HeartbeatPingError:case ay.HeartbeatPongTimeoutError:case ay.NormalClosure:case ay.AbnormalClosure:t._maxReconnect>0?t.initWebSocketConnection(!0,t._maxReconnect):t.closeAllClients(ly(e.code));break;case ay.NoAuthentication:t.closeAllClients(ly(e.code,e.reason));break;default:t._maxReconnect>0?t.initWebSocketConnection(!0,t._maxReconnect):t.closeAllClients(ly(e.code))}},t._ws.onmessage=function(e){var n,r=e.data;t.heartbeat();try{n=JSON.parse(r)}catch(jO){throw new Error("[realtime] onMessage parse res.data error: "+jO)}if("ERROR"===n.msgType){var o=null;t._virtualWSClient.forEach((function(e){e.watchId===n.watchId&&(o=e)})),o&&o.listener.onError(n)}var i=t._wsResponseWait.get(n.requestId);if(i){try{"ERROR"===n.msgType?i.reject(new Jv(n)):i.resolve(n)}catch(jO){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",jO)}finally{t._wsResponseWait.delete(n.requestId)}if(i.skipOnMessage)return}if("PONG"!==n.msgType){var s=n.watchId&&t._watchIdClientMap.get(n.watchId);if(s)s.onMessage(n);else switch(console.error("[realtime] no realtime listener found responsible for watchId "+n.watchId+": ",n),n.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(s=t._queryIdClientMap.get(n.msgData.queryID))&&s.onMessage(n);break;default:for(var a=0,u=Array.from(t._watchIdClientMap.entries());a<u.length;a++){u[a][1].onMessage(n);break}}}else if(t._lastPingSendTS){var c=Date.now()-t._lastPingSendTS;if(c>1e4)return void console.warn("[realtime] untrusted rtt observed: "+c);t._rttObserved.length>=3&&t._rttObserved.splice(0,t._rttObserved.length-3+1),t._rttObserved.push(c)}},t.heartbeat()}))},this.isWSConnected=function(){return Boolean(t._ws&&t._ws.readyState===yy)},this.onceWSConnected=function(){return gy(t,void 0,void 0,(function(){var e=this;return vy(this,(function(t){return this.isWSConnected()?[2]:this._wsInitPromise?[2,this._wsInitPromise]:[2,new Promise((function(t,n){e._wsReadySubsribers.push({resolve:t,reject:n})}))]}))}))},this.webLogin=function(e,n){return gy(t,void 0,void 0,(function(){var t,r,o,i,s,a,u,c,l=this;return vy(this,(function(f){switch(f.label){case 0:if(!n)if(e){if(t=this._logins.get(e)){if(t.loggedIn&&t.loginResult)return[2,t.loginResult];if(t.loggingInPromise)return[2,t.loggingInPromise]}}else if(null==(r=this._logins.get(""))?void 0:r.loggingInPromise)return[2,r.loggingInPromise];o=new Promise((function(e,t){return gy(l,void 0,void 0,(function(){var n,r,o,i,s;return vy(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return n=a.sent(),r={envId:n.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},o={watchId:void 0,requestId:$v(),msgType:"LOGIN",msgData:r,exMsgData:{runtime:py(),signStr:n.signStr,secretVersion:n.secretVersion}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!0,timeout:5e3})];case 2:return(i=a.sent()).msgData.code?t(new Error(i.msgData.code+" "+i.msgData.message)):e({envId:n.envId}),[3,4];case 3:return s=a.sent(),t(s),[3,4];case 4:return[2]}}))}))})),i=e&&this._logins.get(e),s=Date.now(),i?(i.loggedIn=!1,i.loggingInPromise=o,i.loginStartTS=s):(i={loggedIn:!1,loggingInPromise:o,loginStartTS:s},this._logins.set(e||"",i)),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,o];case 2:if(a=f.sent(),(u=e&&this._logins.get(e))&&u===i&&u.loginStartTS===s)return i.loggedIn=!0,i.loggingInPromise=void 0,i.loginStartTS=void 0,i.loginResult=a,[2,a];if(u){if(u.loggedIn&&u.loginResult)return[2,u.loginResult];if(u.loggingInPromise)return[2,u.loggingInPromise];throw new Error("ws unexpected login info")}throw new Error("ws login info reset");case 3:throw c=f.sent(),i.loggedIn=!1,i.loggingInPromise=void 0,i.loginStartTS=void 0,i.loginResult=void 0,c;case 4:return[2]}}))}))},this.getWsSign=function(){return gy(t,void 0,void 0,(function(){var e,t,n,r,o,i,s;return vy(this,(function(a){switch(a.label){case 0:return this._wsSign&&this._wsSign.expiredTs>Date.now()?[2,this._wsSign]:(e=Date.now()+6e4,[4,this._context.appConfig.request.send("auth.wsWebSign",{runtime:py()})]);case 1:if((t=a.sent()).code)throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败: "+t.code);if(t.data)return n=t.data,r=n.signStr,o=n.wsUrl,i=n.secretVersion,s=n.envId,[2,{signStr:r,wsUrl:o,secretVersion:i,envId:s,expiredTs:e}];throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败")}}))}))},this.getWaitExpectedTimeoutLength=function(){return t._rttObserved.length?t._rttObserved.reduce((function(e,t){return e+t}))/t._rttObserved.length*1.5:5e3},this.ping=function(){return gy(t,void 0,void 0,(function(){var e;return vy(this,(function(t){switch(t.label){case 0:return e={watchId:void 0,requestId:$v(),msgType:"PING",msgData:null},[4,this.send({msg:e})];case 1:return t.sent(),[2]}}))}))},this.onWatchStart=function(e,n){t._queryIdClientMap.set(n,e)},this.onWatchClose=function(e,n){n&&t._queryIdClientMap.delete(n),t._watchIdClientMap.delete(e.watchId),t._virtualWSClient.delete(e),t._virtualWSClient.size||t.close(ay.NoRealtimeListeners)},this._maxReconnect=e.maxReconnect||5,this._reconnectInterval=e.reconnectInterval||1e4,this._context=e.context}return e.prototype.clearHeartbeat=function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)},e.prototype.close=function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,cy[e].name),this._ws=void 0)},e.prototype.watch=function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new iy(dy(dy({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener},e.prototype.heartbeat=function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout((function(){return gy(t,void 0,void 0,(function(){var e=this;return vy(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this._ws&&this._ws.readyState===yy?(this._lastPingSendTS=Date.now(),[4,this.ping()]):[2];case 1:return t.sent(),this._pingFailed=0,this._pongTimeoutId=setTimeout((function(){console.error("pong timed out"),e._pongMissed<2?(e._pongMissed++,e.heartbeat(!0)):e.initWebSocketConnection(!0)}),this._context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return t.sent(),this._pingFailed<2?(this._pingFailed++,this.heartbeat()):this.close(ay.HeartbeatPingError),[3,3];case 3:return[2]}}))}))}),e?0:this._context.appConfig.realtimePingInterval)},e}(),_y={target:"database",entity:function(){var e,t=this.platform,n=t.adapter,r=t.runtime;e=n.wsClass,fy=e,function(e){hy=e}(r)}},by={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=my}};try{cloudbase.registerComponent(by),cloudbase.registerHook(_y)}catch(jO){}var wy=globalThis&&globalThis.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ey=globalThis&&globalThis.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Sy=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Oy=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Iy=Rf.ERRORS,Ay=Rf.COMMUNITY_SITE_URL,Ty=Nf.catchErrorsDecorator,xy=["mall"];var Ny,Cy,Ry,ky={name:"analytics",entity:{analytics:(new(function(){function e(){}return e.prototype.analytics=function(e){return Sy(this,void 0,void 0,(function(){var t,n,r;return Oy(this,(function(o){if(!function(e){if("Object"!==Object.prototype.toString.call(e).slice(8,-1))return!1;var t=e.report_data,n=e.report_type;return!1!==xy.includes(n)&&"Object"===Object.prototype.toString.call(t).slice(8,-1)&&!(void 0!==t.action_time&&!Number.isInteger(t.action_time))&&"string"==typeof t.action_type}(e))throw new Error(JSON.stringify({code:Iy.INVALID_PARAMS,msg:"[analytics.analytics] invalid report data"}));return"analytics.report",t=void 0===e.report_data.action_time?Math.floor(Date.now()/1e3):e.report_data.action_time,n={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:t})},r={requestData:n},this.request.send("analytics.report",r),[2]}))}))},wy([Ty({customInfo:{className:"Cloudbase",methodName:"analytics"},title:"上报调用失败",messages:["请确认以下各项：","  1 - 调用 analytics() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ay]}),Ey("design:type",Function),Ey("design:paramtypes",[Object]),Ey("design:returntype",Promise)],e.prototype,"analytics",null),e}())).analytics}};try{cloudbase.registerComponent(ky)}catch(jO){}(Ry=Cy||(Cy={})).DocIDError="文档ID不合法",Ry.CollNameError="集合名称不合法",Ry.OpStrError="操作符不合法",Ry.DirectionError="排序字符不合法",Ry.IntergerError="must be integer",Ry.QueryParamTypeError="查询参数必须为对象",Ry.QueryParamValueError="查询参数对象值不能均为undefined";var Py,Ly,jy,Uy,Dy="Number",My="Object",By="Array",Fy="GeoPoint",qy="GeoLineString",Wy="GeoPolygon",$y="GeoMultiPoint",Vy="GeoMultiLineString",Hy="GeoMultiPolygon",Gy="Date",zy="ServerDate",Ky="BsonDate",Jy=["desc","asc"],Yy=["<","<=","==",">=",">"];(Ly=Py||(Py={})).lt="<",Ly.gt=">",Ly.lte="<=",Ly.gte=">=",Ly.eq="==",(Ny={})[Py.eq]="$eq",Ny[Py.lt]="$lt",Ny[Py.lte]="$lte",Ny[Py.gt]="$gt",Ny[Py.gte]="$gte",(Uy=jy||(jy={})).WHERE="WHERE",Uy.DOC="DOC";var Xy=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zy=[],Qy={},em=function(e){function t(t,n){if(n!==Qy)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return Xy(t,e),t.for=function(e){for(var n=0,r=Zy.length;n<r;n++)if(Zy[n].target===e)return Zy[n].instance;var o=new t(e,Qy);return Zy.push({target:e,instance:o}),o},t}((function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})})),tm=em,nm=tm.for("UNSET_FIELD_NAME"),rm=tm.for("UPDATE_COMMAND"),om=tm.for("QUERY_COMMAND"),im=tm.for("LOGIC_COMMAND"),sm=tm.for("GEO_POINT"),am=tm.for("SYMBOL_GEO_LINE_STRING"),um=tm.for("SYMBOL_GEO_POLYGON"),cm=tm.for("SYMBOL_GEO_MULTI_POINT"),lm=tm.for("SYMBOL_GEO_MULTI_LINE_STRING"),fm=tm.for("SYMBOL_GEO_MULTI_POLYGON"),hm=tm.for("SERVER_DATE"),pm=tm.for("REGEXP"),dm=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return hm},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();function gm(e){return new dm(e)}var vm,ym,mm=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},_m=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),r={};return Array.isArray(t)&&(r=[]),n.forEach((function(n){var o,i=t[n];switch(e.whichType(i)){case Fy:o=new xm(i.coordinates[0],i.coordinates[1]);break;case qy:o=new Cm(i.coordinates.map((function(e){return new xm(e[0],e[1])})));break;case Wy:o=new km(i.coordinates.map((function(e){return new Cm(e.map((function(e){var t=mm(e,2),n=t[0],r=t[1];return new xm(n,r)})))})));break;case $y:o=new Lm(i.coordinates.map((function(e){return new xm(e[0],e[1])})));break;case Vy:o=new Um(i.coordinates.map((function(e){return new Cm(e.map((function(e){var t=mm(e,2),n=t[0],r=t[1];return new xm(n,r)})))})));break;case Hy:o=new Mm(i.coordinates.map((function(e){return new km(e.map((function(e){return new Cm(e.map((function(e){var t=mm(e,2),n=t[0],r=t[1];return new xm(n,r)})))})))})));break;case Gy:o=new Date(1e3*i.$timestamp);break;case My:case By:o=e.formatField(i);break;case zy:o=new Date(i.$date);break;default:o=i}Array.isArray(r)?r.push(o):r[n]=o})),r},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===Gy)return Ky;if(t===My){if(e instanceof xm)return Fy;if(e instanceof Date)return Gy;if(e instanceof dm)return zy;e.$timestamp?t=Gy:e.$date?t=zy:xm.validate(e)?t=Fy:Cm.validate(e)?t=qy:km.validate(e)?t=Wy:Lm.validate(e)?t=$y:Um.validate(e)?t=Vy:Mm.validate(e)&&(t=Hy)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}(),bm=function(){function e(){}return e.isGeopoint=function(e,t){if(_m.whichType(t)!==Dy)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+Cy.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===Jy.indexOf(e))throw new Error(Cy.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===Yy.indexOf(e))throw new Error(Cy.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(Cy.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(Cy.DocIDError);return!0},e}(),wm=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Em=function(e){return"object"===wm(e)},Sm=function(e){return"number"===wm(e)},Om=function(e){return Array.isArray(e)},Im=function(e){return"date"===wm(e)},Am=function(e){return"regexp"===wm(e)},Tm=function(e){return e&&e._internalType instanceof em},xm=function(){function e(e,t){bm.isGeopoint("longitude",e),bm.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&Om(e.coordinates)&&bm.isGeopoint("longitude",e.coordinates[0])&&bm.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return sm},enumerable:!0,configurable:!0}),e}(),Nm=globalThis&&globalThis.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cm=function(){function e(e){if(!Om(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof xm))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!Om(e.coordinates))return!1;try{for(var r=Nm(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!Sm(i[0])||!Sm(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return am},enumerable:!0,configurable:!0}),e}(),Rm=globalThis&&globalThis.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},km=function(){function e(e){if(!Om(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Cm))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]");if(!Cm.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("Polygon"!==e.type||!Om(e.coordinates))return!1;try{for(var i=Rm(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;if(!this.isCloseLineString(a))return!1;try{for(var u=(r=void 0,Rm(a)),c=u.next();!c.done;c=u.next()){var l=c.value;if(!Sm(l[0])||!Sm(l[1]))return!1}}catch(f){r={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return fm},enumerable:!0,configurable:!0}),e}(),Pm=globalThis&&globalThis.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=function(){function e(e){if(!Om(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof xm))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!Om(e.coordinates))return!1;try{for(var r=Pm(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!Sm(i[0])||!Sm(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return cm},enumerable:!0,configurable:!0}),e}(),jm=globalThis&&globalThis.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Um=function(){function e(e){if(!Om(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Cm))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("MultiLineString"!==e.type||!Om(e.coordinates))return!1;try{for(var i=jm(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(r=void 0,jm(a)),c=u.next();!c.done;c=u.next()){var l=c.value;if(!Sm(l[0])||!Sm(l[1]))return!1}}catch(f){r={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return lm},enumerable:!0,configurable:!0}),e}(),Dm=globalThis&&globalThis.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mm=function(){function e(e){var t,n;if(!Om(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=Dm(e),o=r.next();!o.done;o=r.next()){var i=o.value;if(!(i instanceof km))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof i+"[]")}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,o,i,s;if("MultiPolygon"!==e.type||!Om(e.coordinates))return!1;try{for(var a=Dm(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var l=(r=void 0,Dm(c)),f=l.next();!f.done;f=l.next()){var h=f.value;try{for(var p=(i=void 0,Dm(h)),d=p.next();!d.done;d=p.next()){var g=d.value;if(!Sm(g[0])||!Sm(g[1]))return!1}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return um},enumerable:!0,configurable:!0}),e}(),Bm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Point:xm,LineString:Cm,Polygon:km,MultiPoint:Lm,MultiLineString:Um,MultiPolygon:Mm}),Fm=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};(ym=vm||(vm={})).SET="set",ym.REMOVE="remove",ym.INC="inc",ym.MUL="mul",ym.PUSH="push",ym.PULL="pull",ym.PULL_ALL="pullAll",ym.POP="pop",ym.SHIFT="shift",ym.UNSHIFT="unshift",ym.ADD_TO_SET="addToSet",ym.BIT="bit",ym.RENAME="rename",ym.MAX="max",ym.MIN="min";var qm,Wm,$m=function(){function e(e,t,n){this._internalType=rm,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||nm}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function Vm(e){return e&&e instanceof $m&&e._internalType===rm}(Wm=qm||(qm={})).AND="and",Wm.OR="or",Wm.NOT="not",Wm.NOR="nor";var Hm=function(){function e(e,t,n){if(this._internalType=im,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||nm,this.fieldName!==nm)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var r=0,o=t.length;r<o;r++){(Gm(i=t[r])||Xm(i))&&(t[r]=i._setFieldName(this.fieldName))}}else{var i;(Gm(i=t)||Xm(i))&&(t=i._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(qm.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(qm.OR,r,this.fieldName)},e}();function Gm(e){return e&&e instanceof Hm&&e._internalType===im}var zm,Km,Jm=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(Km=zm||(zm={})).EQ="eq",Km.NEQ="neq",Km.GT="gt",Km.GTE="gte",Km.LT="lt",Km.LTE="lte",Km.IN="in",Km.NIN="nin",Km.ALL="all",Km.ELEM_MATCH="elemMatch",Km.EXISTS="exists",Km.SIZE="size",Km.MOD="mod",Km.GEO_NEAR="geoNear",Km.GEO_WITHIN="geoWithin",Km.GEO_INTERSECTS="geoIntersects";var Ym=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=om,o}return Jm(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case zm.IN:case zm.NIN:return(e={})["$"+this.operator]=this.operands,e;default:return(t={})["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(zm.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(zm.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(zm.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(zm.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(zm.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(zm.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(zm.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(zm.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof xm))throw new TypeError('"geometry" must be of type Point. Received type '+typeof e.geometry);if(void 0!==e.maxDistance&&!Sm(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof e.maxDistance);if(void 0!==e.minDistance&&!Sm(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof e.minDistance);var n=new t(zm.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof Mm||e.geometry instanceof km))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof e.geometry);var n=new t(zm.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof xm||e.geometry instanceof Cm||e.geometry instanceof km||e.geometry instanceof Lm||e.geometry instanceof Um||e.geometry instanceof Mm))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof e.geometry);var n=new t(zm.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(Hm);function Xm(e){return e&&e instanceof Ym&&e._internalType===om}function Zm(e){return Xm(e)}var Qm={};for(var e_ in zm)Qm[e_]="$"+e_;for(var e_ in qm)Qm[e_]="$"+e_;for(var e_ in vm)Qm[e_]="$"+e_;function t_(e){return Qm[e]||"$"+e}Qm[zm.NEQ]="$ne",Qm[vm.REMOVE]="$unset",Qm[vm.SHIFT]="$pop",Qm[vm.UNSHIFT]="$push";var n_=globalThis&&globalThis.__assign||function(){return n_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n_.apply(this,arguments)},r_=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o_=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r_(arguments[t]));return e};function i_(e){return s_(e,[e])}function s_(e,t){if(!Tm(e)){if(Im(e))return{$date:+e};if(Am(e))return{$regex:e.source,$options:e.flags};if(Om(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return s_(e,o_(t,[e]))}));if(Em(e)){var n=n_({},e);for(var r in n){if(t.indexOf(n[r])>-1)throw new Error("Cannot convert circular structure to JSON");n[r]=s_(n[r],o_(t,[n[r]]))}return n}return e}switch(e._internalType){case sm:return e.toJSON();case hm:case pm:return e.parse();default:return e.toJSON?e.toJSON():e}}var a_=globalThis&&globalThis.__assign||function(){return a_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a_.apply(this,arguments)},u_=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c_=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u_(arguments[t]));return e};function l_(e,t,n,r){var o=a_({},e);for(var i in e)if(!/^\$/.test(i)){var s=e[i];if(s&&Em(s)&&!t(s)){if(r.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var a=l_(s,t,c_(n,[i]),c_(r,[s]));o[i]=a;var u=!1;for(var c in a)/^\$/.test(c)?u=!0:(o[i+"."+c]=a[c],delete o[i][c]);u||delete o[i]}}return o}function f_(e){return l_(e,p_,[],[e])}function h_(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?Om(e[r])?e[r].push(t[r]):Em(e[r])?Em(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+wm(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+wm(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]}function p_(e){return Tm(e)||Im(e)||Am(e)}function d_(e){return i_(e)}var g_=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return Vm(e)?this.encodeUpdateCommand(e):"object"===wm(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===nm)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case vm.PUSH:case vm.PULL:case vm.PULL_ALL:case vm.POP:case vm.SHIFT:case vm.UNSHIFT:case vm.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,r,o,i=t_(e.operator);return e.operator===vm.REMOVE?((t={})[i]=((n={})[e.fieldName]="",n),t):((r={})[i]=((o={})[e.fieldName]=e.operands[0],o),r)},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,r,o,i,s,a,u,c,l,f=t_(e.operator);switch(e.operator){case vm.PUSH:var h=void 0;return h=Om(e.operands)?{$each:e.operands.map(d_)}:e.operands,(t={})[f]=((n={})[e.fieldName]=h,n),t;case vm.UNSHIFT:h={$each:e.operands.map(d_),$position:0};return(r={})[f]=((o={})[e.fieldName]=h,o),r;case vm.POP:return(i={})[f]=((s={})[e.fieldName]=1,s),i;case vm.SHIFT:return(a={})[f]=((u={})[e.fieldName]=-1,u),a;default:return(c={})[f]=((l={})[e.fieldName]=d_(e.operands),l),c}},e.prototype.encodeUpdateObject=function(e){var t=f_(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(Vm(r)){t[n]=r._setFieldName(n),h_(t,this.encodeUpdateCommand(t[n]),n)}else{t[n]=r=d_(r);var o=new $m(vm.SET,[r],n);h_(t,this.encodeUpdateCommand(o),n)}}return t},e}(),v_={};function y_(e){if(!dw.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return v_[t]||(v_[t]=new dw.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new dw.reqClass(e.config)}}})),v_[t]}var m_=globalThis&&globalThis.__assign||function(){return m_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m_.apply(this,arguments)},__=function(){function e(e,t,n,r){var o=this;void 0===r&&(r={}),this.watch=function(e){return y_(o._db).watch(m_(m_({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new dw.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||Fm();var n={collectionName:this._coll,data:i_(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||Fm(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1,r=function(e){if("object"==typeof e)for(var t in e)e[t]instanceof $m?n=!0:"object"==typeof e[t]&&r(e[t])};if(r(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var o={collectionName:this._coll,queryType:jy.DOC,data:i_(e),multi:!1,merge:!1,upsert:!0};return this.id&&(o.query={_id:this.id}),this.request.send("database.updateDocument",o).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||Fm(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:g_.encode(e),query:n,queryType:jy.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||Fm();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:jy.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||Fm();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:jy.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=_m.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}(),b_=function(){function e(){}return e.encode=function(e){return(new w_).encodeQuery(e)},e}(),w_=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return p_(e)?Gm(e)?this.encodeLogicCommand(e):Xm(e)?this.encodeQueryCommand(e):((n={})[t]=this.encodeQueryObject(e),n):Em(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,o,i,s,a,u=this;switch(e.operator){case qm.NOR:case qm.AND:case qm.OR:var c=t_(e.operator),l=e.operands.map((function(t){return u.encodeQuery(t,e.fieldName)}));return(t={})[c]=l,t;case qm.NOT:c=t_(e.operator);var f=e.operands[0];if(Am(f))return(n={})[e.fieldName]=((r={})[c]=this.encodeRegExp(f),r),n;l=this.encodeQuery(f)[e.fieldName];return(o={})[e.fieldName]=((i={})[c]=l,i),o;default:c=t_(e.operator);if(1===e.operands.length){var h=this.encodeQuery(e.operands[0]);return(s={})[c]=h,s}l=e.operands.map(this.encodeQuery.bind(this));return(a={})[c]=l,a}},e.prototype.encodeQueryCommand=function(e){return Zm(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,r,o,i,s,a,u,c;if(e.fieldName===nm)throw new Error("Cannot encode a comparison command with unset field name");var l=t_(e.operator);switch(e.operator){case zm.EQ:case zm.NEQ:case zm.LT:case zm.LTE:case zm.GT:case zm.GTE:case zm.ELEM_MATCH:case zm.EXISTS:case zm.SIZE:case zm.MOD:return(t={})[e.fieldName]=((n={})[l]=d_(e.operands[0]),n),t;case zm.IN:case zm.NIN:case zm.ALL:return(r={})[e.fieldName]=((o={})[l]=d_(e.operands),o),r;case zm.GEO_NEAR:var f=e.operands[0];return(i={})[e.fieldName]={$nearSphere:{$geometry:f.geometry.toJSON(),$maxDistance:f.maxDistance,$minDistance:f.minDistance}},i;case zm.GEO_WITHIN:f=e.operands[0];return(s={})[e.fieldName]={$geoWithin:{$geometry:f.geometry.toJSON()}},s;case zm.GEO_INTERSECTS:f=e.operands[0];return(a={})[e.fieldName]={$geoIntersects:{$geometry:f.geometry.toJSON()}},a;default:return(u={})[e.fieldName]=((c={})[l]=d_(e.operands[0]),c),u}},e.prototype.encodeQueryObject=function(e){var t=f_(e);for(var n in t){var r=t[n];if(Gm(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(Zm(r)){t[n]=r._setFieldName(n);o=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else p_(r)&&(t[n]=d_(r))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?Om(e[r])?e[r]=e[r].concat(t[r]):Em(e[r])?Em(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+wm(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+wm(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}(),E_=globalThis&&globalThis.__assign||function(){return E_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E_.apply(this,arguments)},S_=function(){function e(e,t,n,r,o){var i=this;this.watch=function(e){return y_(i._db).watch(E_(E_({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify(i._fieldFilters||{}),limit:i._queryOptions.limit,orderBy:i._fieldOrders?i._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=o||{},this._request=new dw.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||Fm();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:jy.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:_m.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}})).catch((function(t){e(t)})),e.promise},e.prototype.count=function(e){e=e||Fm();var t={collectionName:this._coll,queryType:jy.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})).catch((function(t){e(t)})),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(Cy.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(Cy.QueryParamValueError);return new e(this._db,this._coll,b_.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){bm.isFieldPath(t),bm.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},e.prototype.limit=function(t){bm.isInteger("limit",t);var n=E_({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){bm.isInteger("offset",t);var n=E_({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||Fm(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:jy.WHERE,multi:!0,merge:!0,upsert:!1,data:g_.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})).catch((function(e){t(e)})),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!=typeof t[n]&&(t[n]=1):t[n]=0;var r=E_({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||Fm(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:b_.encode(this._fieldFilters),queryType:jy.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})).catch((function(t){e(t)})),e.promise},e}();for(var O_=function(e){var t=P_(e),n=t[0],r=t[1];return 3*(n+r)/4-r},I_=function(e){var t,n,r=P_(e),o=r[0],i=r[1],s=new N_(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)t=x_[e.charCodeAt(n)]<<18|x_[e.charCodeAt(n+1)]<<12|x_[e.charCodeAt(n+2)]<<6|x_[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===i&&(t=x_[e.charCodeAt(n)]<<2|x_[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===i&&(t=x_[e.charCodeAt(n)]<<10|x_[e.charCodeAt(n+1)]<<4|x_[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},A_=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(L_(e,s,s+i>a?a:s+i));1===r?(t=e[n-1],o.push(T_[t>>2]+T_[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(T_[t>>10]+T_[t>>4&63]+T_[t<<2&63]+"="));return o.join("")},T_=[],x_=[],N_="undefined"!=typeof Uint8Array?Uint8Array:Array,C_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R_=0,k_=C_.length;R_<k_;++R_)T_[R_]=C_[R_],x_[C_.charCodeAt(R_)]=R_;function P_(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function L_(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(T_[(o=r)>>18&63]+T_[o>>12&63]+T_[o>>6&63]+T_[63&o]);return i.join("")}x_["-".charCodeAt(0)]=62,x_["_".charCodeAt(0)]=63;var j_,U_,D_={byteLength:O_,toByteArray:I_,fromByteArray:A_},M_=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=e[t+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=c}return(p?-1:1)*s*Math.pow(2,i-r)},B_=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*g},F_=(j_=function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=o(n),s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(M(e,Uint8Array)){var t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(M(e,SharedArrayBuffer)||e&&M(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var s=function(e){if(i.isBuffer(e)){var t=0|f(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||B(e.length)?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),o(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function f(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function h(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(o)return r?-1:j(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(B(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return D(j(t,e.length-n),e,n,r)}function _(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return D(U(t),e,n,r)}function w(e,t,n,r){return D(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?D_.fromByteArray(e):D_.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(jO){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return u(e)},i.allocUnsafeSlow=function(e){return u(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(M(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(M(s,Uint8Array))o+s.length>r.length?i.from(s).copy(r,o):Uint8Array.prototype.set.call(r,s,o);else{if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o)}o+=s.length}return r},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(M(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){s=c[f],a=l[f];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F[e[i]];return o}function x(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,4),B_(e,t,n,r,23,4),n+4}function P(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,8),B_(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),M_(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),M_(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),M_(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),M_(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);C(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);C(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=i.isBuffer(e)?e:i.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return D_.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}var F=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()},j_(U_={exports:{}},U_.exports),U_.exports),q_=F_.Buffer;
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */F_.SlowBuffer,F_.INSPECT_MAX_BYTES,F_.kMaxLength;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var W_=function(e,t){return(W_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function $_(e,t){function n(){this.constructor=e}W_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var V_=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return $_(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),H_=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return $_(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function G_(e){return e&&e.Math==Math&&e}function z_(){return G_("object"==typeof globalThis&&globalThis)||G_("object"==typeof window&&window)||G_("object"==typeof self&&self)||G_("object"==typeof global&&global)||Function("return this")()}var K_=function(e){var t,n="object"==typeof(t=z_()).navigator&&"ReactNative"===t.navigator.product?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(n);for(var r=q_.alloc(e),o=0;o<e;++o)r[o]=Math.floor(256*Math.random());return r},J_=function(){if("undefined"!=typeof window){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(q_.alloc(t))}}if("undefined"!=typeof global&&global.crypto&&global.crypto.getRandomValues)return function(e){return global.crypto.getRandomValues(q_.alloc(e))};var t;try{t=require("crypto").randomBytes}catch(jO){}return t||K_}();function Y_(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function X_(e){return"object"==typeof e&&null!==e}function Z_(e,t){var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(console.warn(t),n=!0),e.apply(this,r)}}function Q_(e){if(ArrayBuffer.isView(e))return q_.from(e.buffer,e.byteOffset,e.byteLength);if(t=e,["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t)))return q_.from(e);var t;throw new H_("Must use either Buffer or TypedArray")}var eb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,tb=function(e){return"string"==typeof e&&eb.test(e)},nb=function(e){if(!tb(e))throw new H_('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return q_.from(t,"hex")},rb=function(e,t){return void 0===t&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},ob=Symbol("id"),ib=function(){function e(t){if(void 0===t)this.id=e.generate();else if(t instanceof e)this[ob]=q_.from(t.id),this.__id=t.__id;else if(ArrayBuffer.isView(t)&&16===t.byteLength)this.id=Q_(t);else{if("string"!=typeof t)throw new H_("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");this.id=nb(t)}}return Object.defineProperty(e.prototype,"id",{get:function(){return this[ob]},set:function(t){this[ob]=t,e.cacheHexString&&(this.__id=rb(t))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(t){if(void 0===t&&(t=!0),e.cacheHexString&&this.__id)return this.__id;var n=rb(this.id,t);return e.cacheHexString&&(this.__id=n),n},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(!t)return!1;if(t instanceof e)return t.id.equals(this.id);try{return new e(t).id.equals(this.id)}catch(n){return!1}},e.prototype.toBinary=function(){return new sb(this.id,sb.SUBTYPE_UUID)},e.generate=function(){var e=J_(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,q_.from(e)},e.isValid=function(t){if(!t)return!1;if(t instanceof e)return!0;if("string"==typeof t)return tb(t);if(Y_(t)){if(16!==t.length)return!1;try{return parseInt(t[6].toString(16)[0],10)===sb.SUBTYPE_UUID}catch(n){return!1}}return!1},e.createFromHexString=function(t){return new e(nb(t))},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},e}();Object.defineProperty(ib.prototype,"_bsontype",{value:"UUID"});var sb=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new H_("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=q_.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=q_.from(t,"binary"):Array.isArray(t)?this.buffer=q_.from(t):this.buffer=Q_(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new H_("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new H_("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new H_("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=q_.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=q_.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(Q_(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new ib(this.buffer.slice(0,this.position));throw new V_('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+e.SUBTYPE_UUID+'" is currently supported.')},e.fromExtendedJSON=function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=q_.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=q_.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=nb(t.$uuid)),!r)throw new H_("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e}();Object.defineProperty(sb.prototype,"_bsontype",{value:"Binary"});var ab=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();Object.defineProperty(ab.prototype,"_bsontype",{value:"Code"});var ub=function(){function e(t,n,r,o){if(!(this instanceof e))return new e(t,n,r,o);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();Object.defineProperty(ub.prototype,"_bsontype",{value:"DBRef"});var cb=void 0;try{cb=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(UO){}var lb={},fb={},hb=function(){function e(t,n,r){if(void 0===t&&(t=0),!(this instanceof e))return new e(t,n,r);"bigint"==typeof t?Object.assign(this,e.fromBigInt(t,!!n)):"string"==typeof t?Object.assign(this,e.fromString(t,!!n)):(this.low=0|t,this.high=0|n,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=fb[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(fb[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=lb[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(lb[t]=r),r)},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=0x10000000000000000)return e.MAX_UNSIGNED_VALUE}else{if(t<=-0x8000000000000000)return e.MIN_VALUE;if(t+1>=0x8000000000000000)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%4294967296|0,t/4294967296|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var l=e.fromNumber(Math.pow(r,u));s=s.mul(l).add(e.fromNumber(c))}else s=(s=s.mul(i)).add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return X_(e)&&!0===e.__isLong__},e.fromValue=function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,l=0,f=0,h=0;return f+=(h+=i+(65535&t.low))>>>16,h&=65535,l+=(f+=o+u)>>>16,f&=65535,c+=(l+=r+a)>>>16,l&=65535,c+=n+s,c&=65535,e.fromBits(f<<16|h,c<<16|l,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(cb){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var n=(this.unsigned?cb.div_u:cb.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,cb.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var r,o,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;i=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(r=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(o=this.sub(t.mul(r)),i=r.add(o.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=e.ZERO}for(o=this;o.gte(t);){r=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),a=s<=48?1:Math.pow(2,s-48),u=e.fromNumber(r),c=u.mul(t);c.isNegative()||c.gt(o);)r-=a,c=(u=e.fromNumber(r,this.unsigned)).mul(t);u.isZero()&&(u=e.ONE),i=i.add(u),o=o.sub(c)}return i},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),cb){var n=(this.unsigned?cb.rem_u:cb.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,cb.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),cb){var n=cb.mul(this.low,this.high,t.low,t.high);return e.fromBits(n,cb.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,s=65535&this.low,a=t.high>>>16,u=65535&t.high,c=t.low>>>16,l=65535&t.low,f=0,h=0,p=0,d=0;return p+=(d+=s*l)>>>16,d&=65535,h+=(p+=i*l)>>>16,p&=65535,h+=(p+=s*c)>>>16,p&=65535,f+=(h+=o*l)>>>16,h&=65535,f+=(h+=i*c)>>>16,h&=65535,f+=(h+=s*u)>>>16,h&=65535,f+=r*l+o*c+i*u+s*a,f&=65535,e.fromBits(p<<16|d,f<<16|h,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(i),c=(s.sub(u.mul(i)).toInt()>>>0).toString(t);if((s=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();Object.defineProperty(hb.prototype,"__isLong__",{value:!0}),Object.defineProperty(hb.prototype,"_bsontype",{value:"Long"});var pb=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,db=/^(\+|-)?(Infinity|inf)$/i,gb=/^(\+|-)?NaN$/i,vb=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),yb=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),mb=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),_b=/^([-+])?(\d+)?$/;function bb(e){return!isNaN(parseInt(e,10))}function wb(e){var t=hb.fromNumber(1e9),n=hb.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new hb(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function Eb(e,t){throw new H_('"'+e+'" is not a valid Decimal128 string - '+t)}var Sb=function(){function e(t){if(!(this instanceof e))return new e(t);if("string"==typeof t)this.bytes=e.fromString(t).bytes;else{if(!Y_(t))throw new H_("Decimal128 must take a Buffer or string");if(16!==t.byteLength)throw new H_("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}}return e.fromString=function(t){var n,r=!1,o=!1,i=!1,s=0,a=0,u=0,c=0,l=0,f=[0],h=0,p=0,d=0,g=0,v=0,y=0,m=new hb(0,0),_=new hb(0,0),b=0;if(t.length>=7e3)throw new H_(t+" not a valid Decimal128 string");var w=t.match(pb),E=t.match(db),S=t.match(gb);if(!w&&!E&&!S||0===t.length)throw new H_(t+" not a valid Decimal128 string");if(w){var O=w[2],I=w[4],A=w[5],T=w[6];I&&void 0===T&&Eb(t,"missing exponent power"),I&&void 0===O&&Eb(t,"missing exponent base"),void 0===I&&(A||T)&&Eb(t,"missing e before exponent")}if("+"!==t[b]&&"-"!==t[b]||(r="-"===t[b++]),!bb(t[b])&&"."!==t[b]){if("i"===t[b]||"I"===t[b])return new e(q_.from(r?yb:mb));if("N"===t[b])return new e(q_.from(vb))}for(;bb(t[b])||"."===t[b];)"."!==t[b]?(h<34&&("0"!==t[b]||i)&&(i||(l=a),i=!0,f[p++]=parseInt(t[b],10),h+=1),i&&(u+=1),o&&(c+=1),a+=1,b+=1):(o&&Eb(t,"contains multiple periods"),o=!0,b+=1);if(o&&!a)throw new H_(t+" not a valid Decimal128 string");if("e"===t[b]||"E"===t[b]){var x=t.substr(++b).match(_b);if(!x||!x[2])return new e(q_.from(vb));v=parseInt(x[0],10),b+=x[0].length}if(t[b])return new e(q_.from(vb));if(d=0,h){if(g=h-1,1!==(s=u))for(;0===f[l+s-1];)s-=1}else d=0,g=0,f[0]=0,u=1,h=1,s=0;for(v<=c&&c-v>16384?v=-6176:v-=c;v>6111;){if((g+=1)-d>34){if(f.join("").match(/^0+$/)){v=6111;break}Eb(t,"overflow")}v-=1}for(;v<-6176||h<u;){if(0===g&&s<h){v=-6176,s=0;break}if(h<u?u-=1:g-=1,v<6111)v+=1;else{if(f.join("").match(/^0+$/)){v=6111;break}Eb(t,"overflow")}}if(g-d+1<s){var N=a;o&&(l+=1,N+=1),r&&(l+=1,N+=1);var C=parseInt(t[l+g+1],10),R=0;if(C>=5&&(R=1,5===C))for(R=f[g]%2==1?1:0,y=l+g+2;y<N;y++)if(parseInt(t[y],10)){R=1;break}if(R)for(var k=g;k>=0;k--)if(++f[k]>9&&(f[k]=0,0===k)){if(!(v<6111))return new e(q_.from(r?yb:mb));v+=1,f[k]=1}}if(m=hb.fromNumber(0),_=hb.fromNumber(0),0===s)m=hb.fromNumber(0),_=hb.fromNumber(0);else if(g-d<17){k=d;for(_=hb.fromNumber(f[k++]),m=new hb(0,0);k<=g;k++)_=(_=_.multiply(hb.fromNumber(10))).add(hb.fromNumber(f[k]))}else{k=d;for(m=hb.fromNumber(f[k++]);k<=g-17;k++)m=(m=m.multiply(hb.fromNumber(10))).add(hb.fromNumber(f[k]));for(_=hb.fromNumber(f[k++]);k<=g;k++)_=(_=_.multiply(hb.fromNumber(10))).add(hb.fromNumber(f[k]))}var P,L,j,U,D=function(e,t){if(!e&&!t)return{high:hb.fromNumber(0),low:hb.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new hb(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new hb(t.getLowBits(),0),s=n.multiply(o),a=n.multiply(i),u=r.multiply(o),c=r.multiply(i);return s=s.add(a.shiftRightUnsigned(32)),a=new hb(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new hb(c.getLowBits(),0))}}(m,hb.fromString("100000000000000000"));D.low=D.low.add(_),P=D.low,L=_,j=P.high>>>0,U=L.high>>>0,(j<U||j===U&&P.low>>>0<L.low>>>0)&&(D.high=D.high.add(hb.fromNumber(1))),n=v+6176;var M={low:hb.fromNumber(0),high:hb.fromNumber(0)};D.high.shiftRightUnsigned(49).and(hb.fromNumber(1)).equals(hb.fromNumber(1))?(M.high=M.high.or(hb.fromNumber(3).shiftLeft(61)),M.high=M.high.or(hb.fromNumber(n).and(hb.fromNumber(16383).shiftLeft(47))),M.high=M.high.or(D.high.and(hb.fromNumber(0x7fffffffffff)))):(M.high=M.high.or(hb.fromNumber(16383&n).shiftLeft(49)),M.high=M.high.or(D.high.and(hb.fromNumber(562949953421311)))),M.low=D.low,r&&(M.high=M.high.or(hb.fromString("9223372036854775808")));var B=q_.alloc(16);return b=0,B[b++]=255&M.low.low,B[b++]=M.low.low>>8&255,B[b++]=M.low.low>>16&255,B[b++]=M.low.low>>24&255,B[b++]=255&M.low.high,B[b++]=M.low.high>>8&255,B[b++]=M.low.high>>16&255,B[b++]=M.low.high>>24&255,B[b++]=255&M.high.low,B[b++]=M.high.low>>8&255,B[b++]=M.high.low>>16&255,B[b++]=M.high.low>>24&255,B[b++]=255&M.high.high,B[b++]=M.high.high>>8&255,B[b++]=M.high.high>>16&255,B[b++]=M.high.high>>24&255,new e(B)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var o,i,s,a=0,u=!1,c={parts:[0,0,0,0]},l=[];a=0;var f=this.bytes,h=f[a++]|f[a++]<<8|f[a++]<<16|f[a++]<<24,p=f[a++]|f[a++]<<8|f[a++]<<16|f[a++]<<24,d=f[a++]|f[a++]<<8|f[a++]<<16|f[a++]<<24,g=f[a++]|f[a++]<<8|f[a++]<<16|f[a++]<<24;a=0,{low:new hb(h,p),high:new hb(d,g)}.high.lessThan(hb.ZERO)&&l.push("-");var v=g>>26&31;if(v>>3==3){if(30===v)return l.join("")+"Infinity";if(31===v)return"NaN";e=g>>15&16383,o=8+(g>>14&1)}else o=g>>14&7,e=g>>17&16383;var y=e-6176;if(c.parts[0]=(16383&g)+((15&o)<<14),c.parts[1]=d,c.parts[2]=p,c.parts[3]=h,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])u=!0;else for(s=3;s>=0;s--){var m=0,_=wb(c);if(c=_.quotient,m=_.rem.low)for(i=8;i>=0;i--)n[9*s+i]=m%10,m=Math.floor(m/10)}if(u)t=1,n[a]=0;else for(t=36;!n[a];)t-=1,a+=1;var b=t-1+y;if(b>=34||b<=-7||y>0){if(t>34)return l.push("0"),y>0?l.push("E+"+y):y<0&&l.push("E"+y),l.join("");l.push(""+n[a++]),(t-=1)&&l.push(".");for(r=0;r<t;r++)l.push(""+n[a++]);l.push("E"),b>0?l.push("+"+b):l.push(""+b)}else if(y>=0)for(r=0;r<t;r++)l.push(""+n[a++]);else{var w=t+y;if(w>0)for(r=0;r<w;r++)l.push(""+n[a++]);else l.push("0");for(l.push(".");w++<0;)l.push("0");for(r=0;r<t-Math.max(w-1,0);r++)l.push(""+n[a++])}return l.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},e}();Object.defineProperty(Sb.prototype,"_bsontype",{value:"Decimal128"});var Ob=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();Object.defineProperty(Ob.prototype,"_bsontype",{value:"Double"});var Ib=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=0|+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();Object.defineProperty(Ib.prototype,"_bsontype",{value:"Int32"});var Ab=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();Object.defineProperty(Ab.prototype,"_bsontype",{value:"MaxKey"});var Tb=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();Object.defineProperty(Tb.prototype,"_bsontype",{value:"MinKey"});var xb=new RegExp("^[0-9a-fA-F]{24}$"),Nb=null,Cb=Symbol("id"),Rb=function(){function e(t){if(!(this instanceof e))return new e(t);var n;if("object"==typeof t&&t&&"id"in t){if("string"!=typeof t.id&&!ArrayBuffer.isView(t.id))throw new H_("Argument passed in must have an id that is of type string or Buffer");n="toHexString"in t&&"function"==typeof t.toHexString?q_.from(t.toHexString(),"hex"):t.id}else n=t;if(null==n||"number"==typeof n)this[Cb]=e.generate("number"==typeof n?n:void 0);else if(ArrayBuffer.isView(n)&&12===n.byteLength)this[Cb]=Q_(n);else{if("string"!=typeof n)throw new H_("Argument passed in does not match the accepted types");if(12===n.length){var r=q_.from(n);if(12!==r.byteLength)throw new H_("Argument passed in must be a string of 12 bytes");this[Cb]=r}else{if(24!==n.length||!xb.test(n))throw new H_("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");this[Cb]=q_.from(n,"hex")}}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[Cb]},set:function(t){this[Cb]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=Math.floor(Date.now()/1e3));var n=e.getInc(),r=q_.alloc(12);return r.writeUInt32BE(t,0),null===Nb&&(Nb=J_(5)),r[4]=Nb[0],r[5]=Nb[1],r[6]=Nb[2],r[7]=Nb[3],r[8]=Nb[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&Y_(this.id)?t===q_.prototype.toString.call(this.id,"latin1"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?q_.from(t).equals(this.id):"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=q_.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new H_("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(q_.from(t,"hex"))},e.isValid=function(t){if(null==t)return!1;try{return new e(t),!0}catch(UO){return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=Math.floor(16777215*Math.random()),e}();Object.defineProperty(Rb.prototype,"generate",{value:Z_((function(e){return Rb.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(Rb.prototype,"getInc",{value:Z_((function(){return Rb.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Rb.prototype,"get_inc",{value:Z_((function(){return Rb.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Rb,"get_inc",{value:Z_((function(){return Rb.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Rb.prototype,"_bsontype",{value:"ObjectID"});var kb=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this.pattern=t,this.options=(null!=n?n:"").split("").sort().join(""),-1!==this.pattern.indexOf("\0"))throw new V_("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(-1!==this.options.indexOf("\0"))throw new V_("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new V_("The regular expression option ["+this.options[r]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new H_("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();Object.defineProperty(kb.prototype,"_bsontype",{value:"BSONRegExp"});var Pb=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();Object.defineProperty(Pb.prototype,"_bsontype",{value:"Symbol"});var Lb=function(e){function t(n,r){var o=this;return o instanceof t?(o=hb.isLong(n)?e.call(this,n.low,n.high,!0)||this:X_(n)&&void 0!==n.t&&void 0!==n.i?e.call(this,n.i,n.t,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(n,r)}return $_(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(hb.fromInt(e,!0))},t.fromNumber=function(e){return new t(hb.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(hb.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},t.MAX_VALUE=hb.MAX_UNSIGNED_VALUE,t}(hb);var jb={$oid:Rb,$binary:sb,$uuid:sb,$symbol:Pb,$numberInt:Ib,$numberDecimal:Sb,$numberDouble:Ob,$numberLong:hb,$minKey:Tb,$maxKey:Ab,$regex:kb,$regularExpression:kb,$timestamp:Lb};function Ub(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=-2147483648&&e<=2147483647)return new Ib(e);if(e>=-0x8000000000000000&&e<=0x8000000000000000)return hb.fromNumber(e)}return new Ob(e)}if(null==e||"object"!=typeof e)return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter((function(t){return t.startsWith("$")&&null!=e[t]})),r=0;r<n.length;r++){var o=jb[n[r]];if(o)return o.fromExtendedJSON(e,t)}if(null!=e.$date){var i=e.$date,s=new Date;return t.legacy?"number"==typeof i?s.setTime(i):"string"==typeof i&&s.setTime(Date.parse(i)):"string"==typeof i?s.setTime(Date.parse(i)):hb.isLong(i)?s.setTime(i.toNumber()):"number"==typeof i&&t.relaxed&&s.setTime(i),s}if(null!=e.$code){var a=Object.assign({},e);return e.$scope&&(a.$scope=Ub(e.$scope)),ab.fromExtendedJSON(e)}if(function(e){return X_(e)&&null!=e.$id&&"string"==typeof e.$ref&&(null==e.$db||"string"==typeof e.$db)}(e)||e.$dbPointer){var u=e.$ref?e:e.$dbPointer;if(u instanceof ub)return u;var c=Object.keys(u).filter((function(e){return e.startsWith("$")})),l=!0;if(c.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(l=!1)})),l)return ub.fromExtendedJSON(u)}return e}function Db(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Mb(e,t){if(("object"==typeof e||"function"==typeof e)&&null!==e){var n=t.seenObjects.findIndex((function(t){return t.obj===e}));if(-1!==n){var r=t.seenObjects.map((function(e){return e.propertyName})),o=r.slice(0,n).map((function(e){return e+" -> "})).join(""),i=r[n],s=" -> "+r.slice(n+1,r.length-1).map((function(e){return e+" -> "})).join(""),a=r[r.length-1],u=" ".repeat(o.length+i.length/2),c="-".repeat(s.length+(i.length+a.length)/2-1);throw new H_("Converting circular structure to EJSON:\n    "+o+i+s+a+"\n    "+u+"\\"+c+"/")}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return function(e,t){return e.map((function(e,n){t.seenObjects.push({propertyName:"index "+n,obj:null});try{return Mb(e,t)}finally{t.seenObjects.pop()}}))}(e,t);if(void 0===e)return null;if(e instanceof Date||X_(h=e)&&"[object Date]"===Object.prototype.toString.call(h)){var l=e.getTime(),f=l>-1&&l<2534023188e5;return t.legacy?t.relaxed&&f?{$date:e.getTime()}:{$date:Db(e)}:t.relaxed&&f?{$date:Db(e)}:{$date:{$numberLong:e.getTime().toString()}}}var h;if(!("number"!=typeof e||t.relaxed&&isFinite(e))){if(Math.floor(e)===e){var p=e>=-0x8000000000000000&&e<=0x8000000000000000;if(e>=-2147483648&&e<=2147483647)return{$numberInt:e.toString()};if(p)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)){var d=e.flags;if(void 0===d){var g=e.toString().match(/[gimuy]*$/);g&&(d=g[0])}return new kb(e.source,d).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new V_("not an object instance");var n=e._bsontype;if(void 0===n){var r={};for(var o in e){t.seenObjects.push({propertyName:o,obj:null});try{r[o]=Mb(e[o],t)}finally{t.seenObjects.pop()}}return r}if(function(e){return X_(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}(e)){var i=e;if("function"!=typeof i.toExtendedJSON){var s=Fb[e._bsontype];if(!s)throw new H_("Unrecognized or invalid _bsontype: "+e._bsontype);i=s(i)}return"Code"===n&&i.scope?i=new ab(i.code,Mb(i.scope,t)):"DBRef"===n&&i.oid&&(i=new ub(Mb(i.collection,t),Mb(i.oid,t),Mb(i.db,t),Mb(i.fields,t))),i.toExtendedJSON(t)}throw new V_("_bsontype must be a string, but was: "+typeof n)}(e,t):e}var Bb,Fb={Binary:function(e){return new sb(e.value(),e.sub_type)},Code:function(e){return new ab(e.code,e.scope)},DBRef:function(e){return new ub(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new Sb(e.bytes)},Double:function(e){return new Ob(e.value)},Int32:function(e){return new Ib(e.value)},Long:function(e){return hb.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new Ab},MinKey:function(){return new Tb},ObjectID:function(e){return new Rb(e)},ObjectId:function(e){return new Rb(e)},BSONRegExp:function(e){return new kb(e.pattern,e.options)},Symbol:function(e){return new Pb(e.value)},Timestamp:function(e){return Lb.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){if(-1!==e.indexOf("\0"))throw new V_("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(e));return Ub(t,n)}))}function n(e,t,n,r){null!=n&&"object"==typeof n&&(r=n,n=0),null==t||"object"!=typeof t||Array.isArray(t)||(r=t,t=void 0,n=0);var o=Mb(e,Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(Bb||(Bb={})),z_().Map||function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}}e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0})}();var qb=Math.pow(2,53),Wb=-Math.pow(2,53);hb.fromNumber(qb),hb.fromNumber(Wb);q_.alloc(17825792);var $b=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Vb=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Hb=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new dw.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return $b(this,void 0,void 0,(function(){var e;return Vb(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return(e=t.sent())&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Bb.parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return(t={})[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",b_.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}(),Gb=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zb=function(e){function t(t,n){return e.call(this,t,n)||this}return Gb(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new __(this._db,this._coll,e)},t.prototype.add=function(e,t){return new __(this._db,this._coll,void 0).create(e,t)},t.prototype.aggregate=function(){return new Hb(this._db,this._coll)},t}(S_),Kb={eq:function(e){return new Ym(zm.EQ,[e])},neq:function(e){return new Ym(zm.NEQ,[e])},lt:function(e){return new Ym(zm.LT,[e])},lte:function(e){return new Ym(zm.LTE,[e])},gt:function(e){return new Ym(zm.GT,[e])},gte:function(e){return new Ym(zm.GTE,[e])},in:function(e){return new Ym(zm.IN,e)},nin:function(e){return new Ym(zm.NIN,e)},all:function(e){return new Ym(zm.ALL,e)},elemMatch:function(e){return new Ym(zm.ELEM_MATCH,[e])},exists:function(e){return new Ym(zm.EXISTS,[e])},size:function(e){return new Ym(zm.SIZE,[e])},mod:function(e){return new Ym(zm.MOD,[e])},geoNear:function(e){return new Ym(zm.GEO_NEAR,[e])},geoWithin:function(e){return new Ym(zm.GEO_WITHIN,[e])},geoIntersects:function(e){return new Ym(zm.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Om(arguments[0])?arguments[0]:Array.from(arguments);return new Hm(qm.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Om(arguments[0])?arguments[0]:Array.from(arguments);return new Hm(qm.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Om(arguments[0])?arguments[0]:Array.from(arguments);return new Hm(qm.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Om(arguments[0])?arguments[0]:Array.from(arguments);return new Hm(qm.NOT,n)},set:function(e){return new $m(vm.SET,[e])},remove:function(){return new $m(vm.REMOVE,[])},inc:function(e){return new $m(vm.INC,[e])},mul:function(e){return new $m(vm.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Em(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=Om(t[0])?t[0]:Array.from(t);return new $m(vm.PUSH,e)},pull:function(e){return new $m(vm.PULL,e)},pullAll:function(e){return new $m(vm.PULL_ALL,e)},pop:function(){return new $m(vm.POP,[])},shift:function(){return new $m(vm.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Om(arguments[0])?arguments[0]:Array.from(arguments);return new $m(vm.UNSHIFT,n)},addToSet:function(e){return new $m(vm.ADD_TO_SET,e)},rename:function(e){return new $m(vm.RENAME,[e])},bit:function(e){return new $m(vm.BIT,[e])},max:function(e){return new $m(vm.MAX,[e])},min:function(e){return new $m(vm.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return"string"===wm(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Hb},abs:function(e){return new Jb("abs",e)},add:function(e){return new Jb("add",e)},ceil:function(e){return new Jb("ceil",e)},divide:function(e){return new Jb("divide",e)},exp:function(e){return new Jb("exp",e)},floor:function(e){return new Jb("floor",e)},ln:function(e){return new Jb("ln",e)},log:function(e){return new Jb("log",e)},log10:function(e){return new Jb("log10",e)},mod:function(e){return new Jb("mod",e)},multiply:function(e){return new Jb("multiply",e)},pow:function(e){return new Jb("pow",e)},sqrt:function(e){return new Jb("sqrt",e)},subtract:function(e){return new Jb("subtract",e)},trunc:function(e){return new Jb("trunc",e)},arrayElemAt:function(e){return new Jb("arrayElemAt",e)},arrayToObject:function(e){return new Jb("arrayToObject",e)},concatArrays:function(e){return new Jb("concatArrays",e)},filter:function(e){return new Jb("filter",e)},in:function(e){return new Jb("in",e)},indexOfArray:function(e){return new Jb("indexOfArray",e)},isArray:function(e){return new Jb("isArray",e)},map:function(e){return new Jb("map",e)},range:function(e){return new Jb("range",e)},reduce:function(e){return new Jb("reduce",e)},reverseArray:function(e){return new Jb("reverseArray",e)},size:function(e){return new Jb("size",e)},slice:function(e){return new Jb("slice",e)},zip:function(e){return new Jb("zip",e)},and:function(e){return new Jb("and",e)},not:function(e){return new Jb("not",e)},or:function(e){return new Jb("or",e)},cmp:function(e){return new Jb("cmp",e)},eq:function(e){return new Jb("eq",e)},gt:function(e){return new Jb("gt",e)},gte:function(e){return new Jb("gte",e)},lt:function(e){return new Jb("lt",e)},lte:function(e){return new Jb("lte",e)},neq:function(e){return new Jb("ne",e)},cond:function(e){return new Jb("cond",e)},ifNull:function(e){return new Jb("ifNull",e)},switch:function(e){return new Jb("switch",e)},dateFromParts:function(e){return new Jb("dateFromParts",e)},dateFromString:function(e){return new Jb("dateFromString",e)},dayOfMonth:function(e){return new Jb("dayOfMonth",e)},dayOfWeek:function(e){return new Jb("dayOfWeek",e)},dayOfYear:function(e){return new Jb("dayOfYear",e)},isoDayOfWeek:function(e){return new Jb("isoDayOfWeek",e)},isoWeek:function(e){return new Jb("isoWeek",e)},isoWeekYear:function(e){return new Jb("isoWeekYear",e)},millisecond:function(e){return new Jb("millisecond",e)},minute:function(e){return new Jb("minute",e)},month:function(e){return new Jb("month",e)},second:function(e){return new Jb("second",e)},hour:function(e){return new Jb("hour",e)},week:function(e){return new Jb("week",e)},year:function(e){return new Jb("year",e)},literal:function(e){return new Jb("literal",e)},mergeObjects:function(e){return new Jb("mergeObjects",e)},objectToArray:function(e){return new Jb("objectToArray",e)},allElementsTrue:function(e){return new Jb("allElementsTrue",e)},anyElementTrue:function(e){return new Jb("anyElementTrue",e)},setDifference:function(e){return new Jb("setDifference",e)},setEquals:function(e){return new Jb("setEquals",e)},setIntersection:function(e){return new Jb("setIntersection",e)},setIsSubset:function(e){return new Jb("setIsSubset",e)},setUnion:function(e){return new Jb("setUnion",e)},concat:function(e){return new Jb("concat",e)},dateToString:function(e){return new Jb("dateToString",e)},indexOfBytes:function(e){return new Jb("indexOfBytes",e)},indexOfCP:function(e){return new Jb("indexOfCP",e)},split:function(e){return new Jb("split",e)},strLenBytes:function(e){return new Jb("strLenBytes",e)},strLenCP:function(e){return new Jb("strLenCP",e)},strcasecmp:function(e){return new Jb("strcasecmp",e)},substr:function(e){return new Jb("substr",e)},substrBytes:function(e){return new Jb("substrBytes",e)},substrCP:function(e){return new Jb("substrCP",e)},toLower:function(e){return new Jb("toLower",e)},toUpper:function(e){return new Jb("toUpper",e)},meta:function(e){return new Jb("meta",e)},addToSet:function(e){return new Jb("addToSet",e)},avg:function(e){return new Jb("avg",e)},first:function(e){return new Jb("first",e)},last:function(e){return new Jb("last",e)},max:function(e){return new Jb("max",e)},min:function(e){return new Jb("min",e)},push:function(e){return new Jb("push",e)},stdDevPop:function(e){return new Jb("stdDevPop",e)},stdDevSamp:function(e){return new Jb("stdDevSamp",e)},sum:function(e){return new Jb("sum",e)},let:function(e){return new Jb("let",e)}},project:{slice:function(e){return new Yb("slice",e)},elemMatch:function(e){return new Yb("elemMatch",e)}}},Jb=function(e,t){this["$"+e]=t},Yb=function(e,t){this["$"+e]=t},Xb=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return pm},enumerable:!0,configurable:!0}),e}();function Zb(e){return new Xb(e)}var Qb={code:"INSERT_DOC_FAIL",message:"insert document failed"},ew={code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"},tw=globalThis&&globalThis.__assign||function(){return tw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tw.apply(this,arguments)},nw=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},rw=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ow="database.updateDocInTransaction",iw=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return nw(this,void 0,void 0,(function(){var t,n,r,o;return rw(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:Bb.stringify(i_(e),{relaxed:!1})},this.id&&(t._id=this.id),[4,this._request.send("database.insertDocInTransaction",t)];case 1:if((n=i.sent()).code)throw n;if(r=Bb.parse(n.inserted),1==(o=Bb.parse(n.ok))&&1==r)return[2,tw(tw({},n),{ok:o,inserted:r})];throw new Error(Qb.message)}}))}))},e.prototype.get=function(){return nw(this,void 0,void 0,(function(){var e,t;return rw(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.getInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,{data:"null"!==t.data?_m.formatField(Bb.parse(t.data)):Bb.parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return nw(this,void 0,void 0,(function(){var t,n;return rw(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Bb.stringify(i_(e),{relaxed:!1}),upsert:!0},[4,this._request.send(ow,t)];case 1:if((n=r.sent()).code)throw n;return[2,tw(tw({},n),{updated:Bb.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return nw(this,void 0,void 0,(function(){var t,n;return rw(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Bb.stringify(g_.encode(e),{relaxed:!1})},[4,this._request.send(ow,t)];case 1:if((n=r.sent()).code)throw n;return[2,tw(tw({},n),{updated:Bb.parse(n.updated)})]}}))}))},e.prototype.delete=function(){return nw(this,void 0,void 0,(function(){var e,t;return rw(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.deleteDocInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,tw(tw({},t),{deleted:Bb.parse(t.deleted)})]}}))}))},e}(),sw=function(e,t){this._coll=t,this._transaction=e},aw=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uw=function(e){function t(t,n){return e.call(this,t,n)||this}return aw(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new iw(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;return void 0!==e._id&&(t=e._id),new iw(this._transaction,this._coll,t).create(e)},t}(sw),cw=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(jO){i(jO)}}function a(e){try{u(r.throw(e))}catch(jO){i(jO)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},lw=globalThis&&globalThis.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(jO){i=[6,jO],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},fw=function(){function e(e){this._db=e,this._request=new dw.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return cw(this,void 0,void 0,(function(){var e;return lw(this,(function(t){switch(t.label){case 0:return[4,this._request.send("database.startTransaction")];case 1:if((e=t.sent()).code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new uw(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return cw(this,void 0,void 0,(function(){var e,t;return lw(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send("database.commitTransaction",e)];case 1:if((t=n.sent()).code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return cw(this,void 0,void 0,(function(){var t,n;return lw(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send("database.abortTransaction",t)];case 1:if((n=r.sent()).code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();function hw(){return cw(this,void 0,void 0,(function(){var e;return lw(this,(function(t){switch(t.label){case 0:return[4,(e=new fw(this)).init()];case 1:return t.sent(),[2,e]}}))}))}function pw(e,t){return void 0===t&&(t=3),cw(this,void 0,void 0,(function(){var n,r,o,i,s=this;return lw(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,10]),[4,(n=new fw(this)).init()];case 1:return a.sent(),[4,e(n)];case 2:if(r=a.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return a.sent(),[2,r];case 4:if(o=a.sent(),!1===n.inited)throw o;return i=function(e){return cw(s,void 0,void 0,(function(){return lw(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,i(o)]:[3,6];case 5:a.sent(),a.label=6;case 6:return o&&o.code===ew.code?[4,pw.bind(this)(e,--t)]:[3,8];case 7:return[2,a.sent()];case 8:return[4,i(o)];case 9:return a.sent(),[3,10];case 10:return[2]}}))}))}var dw=function(){function e(e){this.config=e,this.Geo=Bm,this.serverDate=gm,this.command=Kb,this.RegExp=Zb,this.startTransaction=hw,this.runTransaction=pw,this.logicCommand=Hm,this.updateCommand=$m,this.queryCommand=Ym}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new zb(this,e)},e.prototype.createCollection=function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)},e}(),gw=globalThis&&globalThis.__assign||function(){return gw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gw.apply(this,arguments)};var vw={name:"database",entity:{database:function(e){var t=this.platform,n=t.adapter,r=t.runtime;return dw.reqClass=this.request.constructor,dw.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},dw.runtime=r,this.wsClientClass&&(dw.wsClass=n.wsClass,dw.wsClientClass=this.wsClientClass),dw.ws||(dw.ws=null),new dw(gw(gw({},this.config),e))}}};try{cloudbase.registerComponent(vw)}catch(jO){}Kh.registerVersion("1.7.1");try{!function(e){try{e.registerComponent(Dd)}catch(jO){console.warn(jO)}}(Kh),function(e){try{e.registerComponent(zd)}catch(jO){console.warn(jO)}}(Kh),function(e){try{e.registerComponent(ag)}catch(jO){console.warn(jO)}}(Kh),function(e){try{e.registerComponent(vw)}catch(jO){console.warn(jO)}}(Kh),function(e){try{e.registerComponent(by),e.registerHook(_y)}catch(jO){console.warn(jO)}}(Kh),function(e){try{e.registerComponent(ky)}catch(jO){console.warn(jO)}}(Kh)}catch(jO){}try{window.cloudbase=Kh}catch(jO){}var yw={exports:{}},mw=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},_w=mw,bw=Object.prototype.toString;function ww(e){return"[object Array]"===bw.call(e)}function Ew(e){return void 0===e}function Sw(e){return null!==e&&"object"==typeof e}function Ow(e){if("[object Object]"!==bw.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Iw(e){return"[object Function]"===bw.call(e)}function Aw(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ww(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Tw={isArray:ww,isArrayBuffer:function(e){return"[object ArrayBuffer]"===bw.call(e)},isBuffer:function(e){return null!==e&&!Ew(e)&&null!==e.constructor&&!Ew(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Sw,isPlainObject:Ow,isUndefined:Ew,isDate:function(e){return"[object Date]"===bw.call(e)},isFile:function(e){return"[object File]"===bw.call(e)},isBlob:function(e){return"[object Blob]"===bw.call(e)},isFunction:Iw,isStream:function(e){return Sw(e)&&Iw(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Aw,merge:function e(){var t={};function n(n,r){Ow(t[r])&&Ow(n)?t[r]=e(t[r],n):Ow(n)?t[r]=e({},n):ww(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)Aw(arguments[r],n);return t},extend:function(e,t,n){return Aw(t,(function(t,r){e[r]=n&&"function"==typeof t?_w(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},xw=Tw;function Nw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Cw=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(xw.isURLSearchParams(t))r=t.toString();else{var o=[];xw.forEach(t,(function(e,t){null!=e&&(xw.isArray(e)?t+="[]":e=[e],xw.forEach(e,(function(e){xw.isDate(e)?e=e.toISOString():xw.isObject(e)&&(e=JSON.stringify(e)),o.push(Nw(t)+"="+Nw(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Rw=Tw;function kw(){this.handlers=[]}kw.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},kw.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},kw.prototype.forEach=function(e){Rw.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Pw=kw,Lw=Tw,jw=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},Uw=jw,Dw=function(e,t,n,r,o){var i=new Error(e);return Uw(i,t,n,r,o)},Mw=Dw,Bw=Tw,Fw=Bw.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),Bw.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Bw.isString(r)&&s.push("path="+r),Bw.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},qw=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Ww=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},$w=Tw,Vw=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Hw=Tw,Gw=Hw.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Hw.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},zw=Tw,Kw=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Mw("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},Jw=Fw,Yw=Cw,Xw=function(e,t){return e&&!qw(t)?Ww(e,t):t},Zw=function(e){var t,n,r,o={};return e?($w.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=$w.trim(e.substr(0,r)).toLowerCase(),n=$w.trim(e.substr(r+1)),t){if(o[t]&&Vw.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o},Qw=Gw,eE=Dw,tE=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers,i=e.responseType;zw.isFormData(r)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(a+":"+u)}var c=Xw(e.baseURL,e.url);function l(){if(s){var r="getAllResponseHeaders"in s?Zw(s.getAllResponseHeaders()):null,o={data:i&&"text"!==i&&"json"!==i?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s};Kw(t,n,o),s=null}}if(s.open(e.method.toUpperCase(),Yw(c,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=l:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(l)},s.onabort=function(){s&&(n(eE("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(eE("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(eE(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},zw.isStandardBrowserEnv()){var f=(e.withCredentials||Qw(c))&&e.xsrfCookieName?Jw.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}"setRequestHeader"in s&&zw.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)})),zw.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),i&&"json"!==i&&(s.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),n(e),s=null)})),r||(r=null),s.send(r)}))},nE=Tw,rE=function(e,t){Lw.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},oE=jw,iE={"Content-Type":"application/x-www-form-urlencoded"};function sE(e,t){!nE.isUndefined(e)&&nE.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var aE,uE={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(aE=tE),aE),transformRequest:[function(e,t){return rE(t,"Accept"),rE(t,"Content-Type"),nE.isFormData(e)||nE.isArrayBuffer(e)||nE.isBuffer(e)||nE.isStream(e)||nE.isFile(e)||nE.isBlob(e)?e:nE.isArrayBufferView(e)?e.buffer:nE.isURLSearchParams(e)?(sE(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):nE.isObject(e)||t&&"application/json"===t["Content-Type"]?(sE(t,"application/json"),function(e,t,n){if(nE.isString(e))try{return(t||JSON.parse)(e),nE.trim(e)}catch(jO){if("SyntaxError"!==jO.name)throw jO}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&nE.isString(e)&&e.length)try{return JSON.parse(e)}catch(jO){if(o){if("SyntaxError"===jO.name)throw oE(jO,this,"E_JSON_PARSE");throw jO}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};uE.headers={common:{Accept:"application/json, text/plain, */*"}},nE.forEach(["delete","get","head"],(function(e){uE.headers[e]={}})),nE.forEach(["post","put","patch"],(function(e){uE.headers[e]=nE.merge(iE)}));var cE=uE,lE=Tw,fE=cE,hE=function(e){return!(!e||!e.__CANCEL__)},pE=Tw,dE=function(e,t,n){var r=this||fE;return lE.forEach(n,(function(n){e=n.call(r,e,t)})),e},gE=hE,vE=cE;function yE(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var mE=Tw,_E=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(e,t){return mE.isPlainObject(e)&&mE.isPlainObject(t)?mE.merge(e,t):mE.isPlainObject(t)?mE.merge({},t):mE.isArray(t)?t.slice():t}function u(r){mE.isUndefined(t[r])?mE.isUndefined(e[r])||(n[r]=a(void 0,e[r])):n[r]=a(e[r],t[r])}mE.forEach(r,(function(e){mE.isUndefined(t[e])||(n[e]=a(void 0,t[e]))})),mE.forEach(o,u),mE.forEach(i,(function(r){mE.isUndefined(t[r])?mE.isUndefined(e[r])||(n[r]=a(void 0,e[r])):n[r]=a(void 0,t[r])})),mE.forEach(s,(function(r){r in t?n[r]=a(e[r],t[r]):r in e&&(n[r]=a(void 0,e[r]))}));var c=r.concat(o).concat(i).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return mE.forEach(l,u),n};var bE={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]},wE={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){wE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var EE={},SE=bE.version.split(".");function OE(e,t){for(var n=t?t.split("."):SE,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}wE.transitional=function(e,t,n){var r=t&&OE(t);function o(e,t){return"[Axios v"+bE.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(o(i," has been removed in "+t));return r&&!EE[i]&&(EE[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};var IE={isOlderVersion:OE,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],u=void 0===a||s(a,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:wE},AE=Tw,TE=Cw,xE=Pw,NE=function(e){return yE(e),e.headers=e.headers||{},e.data=dE.call(e,e.data,e.headers,e.transformRequest),e.headers=pE.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),pE.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||vE.adapter)(e).then((function(t){return yE(e),t.data=dE.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return gE(t)||(yE(e),t&&t.response&&(t.response.data=dE.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},CE=_E,RE=IE,kE=RE.validators;function PE(e){this.defaults=e,this.interceptors={request:new xE,response:new xE}}PE.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=CE(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&RE.assertOptions(t,{silentJSONParsing:kE.transitional(kE.boolean,"1.0.0"),forcedJSONParsing:kE.transitional(kE.boolean,"1.0.0"),clarifyTimeoutError:kE.transitional(kE.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var s=[NE,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(i),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var a=e;n.length;){var u=n.shift(),c=n.shift();try{a=u(a)}catch(l){c(l);break}}try{o=NE(a)}catch(l){return Promise.reject(l)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},PE.prototype.getUri=function(e){return e=CE(this.defaults,e),TE(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},AE.forEach(["delete","get","head","options"],(function(e){PE.prototype[e]=function(t,n){return this.request(CE(n||{},{method:e,url:t,data:(n||{}).data}))}})),AE.forEach(["post","put","patch"],(function(e){PE.prototype[e]=function(t,n,r){return this.request(CE(r||{},{method:e,url:t,data:n}))}}));var LE=PE;function jE(e){this.message=e}jE.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},jE.prototype.__CANCEL__=!0;var UE=jE,DE=UE;function ME(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new DE(e),t(n.reason))}))}ME.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ME.source=function(){var e;return{token:new ME((function(t){e=t})),cancel:e}};var BE=ME,FE=Tw,qE=mw,WE=LE,$E=_E;function VE(e){var t=new WE(e),n=qE(WE.prototype.request,t);return FE.extend(n,WE.prototype,t),FE.extend(n,t),n}var HE=VE(cE);HE.Axios=WE,HE.create=function(e){return VE($E(HE.defaults,e))},HE.Cancel=UE,HE.CancelToken=BE,HE.isCancel=hE,HE.all=function(e){return Promise.all(e)},HE.spread=function(e){return function(t){return e.apply(null,t)}},HE.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},yw.exports=HE,yw.exports.default=HE;var GE=yw.exports,zE={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
!function(e,t){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",s=16,a=32,u=64,c=128,l=256,f=1/0,h=9007199254740991,p=NaN,d=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",a],["partialRight",u],["rearg",l]],v="[object Arguments]",y="[object Array]",m="[object Boolean]",_="[object Date]",b="[object Error]",w="[object Function]",E="[object GeneratorFunction]",S="[object Map]",O="[object Number]",I="[object Object]",A="[object Promise]",T="[object RegExp]",x="[object Set]",N="[object String]",C="[object Symbol]",R="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",B="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",$=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,K=RegExp(G.source),J=RegExp(z.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),oe=/^\s+/,ie=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="['’]",Ne="[\\ud800-\\udfff]",Ce="["+Te+"]",Re="["+Ee+"]",ke="\\d+",Pe="[\\u2700-\\u27bf]",Le="["+Oe+"]",je="[^\\ud800-\\udfff"+Te+ke+Se+Oe+Ie+"]",Ue="\\ud83c[\\udffb-\\udfff]",De="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Ie+"]",qe="(?:"+Le+"|"+je+")",We="(?:"+Fe+"|"+je+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Re+"|"+Ue+")"+"?",Ge="[\\ufe0e\\ufe0f]?",ze=Ge+He+("(?:\\u200d(?:"+[De,Me,Be].join("|")+")"+Ge+He+")*"),Ke="(?:"+[Pe,Me,Be].join("|")+")"+ze,Je="(?:"+[De+Re+"?",Re,Me,Be,Ne].join("|")+")",Ye=RegExp(xe,"g"),Xe=RegExp(Re,"g"),Ze=RegExp(Ue+"(?="+Ue+")|"+Je+ze,"g"),Qe=RegExp([Fe+"?"+Le+"+"+$e+"(?="+[Ce,Fe,"$"].join("|")+")",We+"+"+Ve+"(?="+[Ce,Fe+qe,"$"].join("|")+")",Fe+"?"+qe+"+"+$e,Fe+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,Ke].join("|"),"g"),et=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Ae+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[L]=ot[j]=ot[U]=ot[D]=ot[M]=ot[B]=ot[F]=ot[q]=ot[W]=!0,ot[v]=ot[y]=ot[k]=ot[m]=ot[P]=ot[_]=ot[b]=ot[w]=ot[S]=ot[O]=ot[I]=ot[T]=ot[x]=ot[N]=ot[R]=!1;var it={};it[v]=it[y]=it[k]=it[P]=it[m]=it[_]=it[L]=it[j]=it[U]=it[D]=it[M]=it[S]=it[O]=it[I]=it[T]=it[x]=it[N]=it[C]=it[B]=it[F]=it[q]=it[W]=!0,it[b]=it[w]=it[R]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ut=parseInt,ct="object"==typeof ol&&ol&&ol.Object===Object&&ol,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,dt=pt&&pt.exports===ht,gt=dt&&ct.process,vt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(jO){}}(),yt=vt&&vt.isArrayBuffer,mt=vt&&vt.isDate,_t=vt&&vt.isMap,bt=vt&&vt.isRegExp,wt=vt&&vt.isSet,Et=vt&&vt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ct(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function kt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Pt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=$t("length");function Dt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Mt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,qt,n)}function Ft(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function qt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:p}function $t(e){return function(t){return null==t?n:t[e]}}function Vt(e){return function(t){return null==e?n:e[t]}}function Ht(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Gt(e,t){for(var r,o=-1,i=e.length;++o<i;){var s=t(e[o]);s!==n&&(r=r===n?s:r+s)}return r}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,hn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Yt(e,t){return Rt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var tn=Vt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+st[e]}function on(e){return et.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,o=0,s=[];++n<r;){var a=e[n];a!==t&&a!==i||(e[n]=i,s[o++]=n)}return s}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){return on(e)?function(e){var t=Ze.lastIndex=0;for(;Ze.test(e);)++t;return t}(e):Ut(e)}function fn(e){return on(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var pn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dn=function e(t){var ie=(t=null==t?ft:dn.defaults(ft.Object(),t,dn.pick(ft,nt))).Array,Ee=t.Date,Se=t.Error,Oe=t.Function,Ie=t.Math,Ae=t.Object,Te=t.RegExp,xe=t.String,Ne=t.TypeError,Ce=ie.prototype,Re=Oe.prototype,ke=Ae.prototype,Pe=t["__core-js_shared__"],Le=Re.toString,je=ke.hasOwnProperty,Ue=0,De=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=ke.toString,Be=Le.call(Ae),Fe=ft._,qe=Te("^"+Le.call(je).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=dt?t.Buffer:n,$e=t.Symbol,Ve=t.Uint8Array,He=We?We.allocUnsafe:n,Ge=an(Ae.getPrototypeOf,Ae),ze=Ae.create,Ke=ke.propertyIsEnumerable,Je=Ce.splice,Ze=$e?$e.isConcatSpreadable:n,et=$e?$e.iterator:n,st=$e?$e.toStringTag:n,ct=function(){try{var e=hi(Ae,"defineProperty");return e({},"",{}),e}catch(jO){}}(),lt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ht=Ee&&Ee.now!==ft.Date.now&&Ee.now,pt=t.setTimeout!==ft.setTimeout&&t.setTimeout,gt=Ie.ceil,vt=Ie.floor,Ut=Ae.getOwnPropertySymbols,Vt=We?We.isBuffer:n,gn=t.isFinite,vn=Ce.join,yn=an(Ae.keys,Ae),mn=Ie.max,_n=Ie.min,bn=Ee.now,wn=t.parseInt,En=Ie.random,Sn=Ce.reverse,On=hi(t,"DataView"),In=hi(t,"Map"),An=hi(t,"Promise"),Tn=hi(t,"Set"),xn=hi(t,"WeakMap"),Nn=hi(Ae,"create"),Cn=xn&&new xn,Rn={},kn=Wi(On),Pn=Wi(In),Ln=Wi(An),jn=Wi(Tn),Un=Wi(xn),Dn=$e?$e.prototype:n,Mn=Dn?Dn.valueOf:n,Bn=Dn?Dn.toString:n;function Fn(e){if(ia(e)&&!Ks(e)&&!(e instanceof Vn)){if(e instanceof $n)return e;if(je.call(e,"__wrapped__"))return $i(e)}return new $n(e)}var qn=function(){function e(){}return function(t){if(!oa(t))return{};if(ze)return ze(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Wn(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Ks(e),r=!n&&zs(e),o=!n&&!r&&Zs(e),i=!n&&!r&&!o&&pa(e),s=n||r||o||i,a=s?zt(e.length,xe):[],u=a.length;for(var c in e)!t&&!je.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_i(c,u))||a.push(c);return a}function Xn(e){var t=e.length;return t?e[Kr(0,t-1)]:n}function Zn(e,t){return Ui(Co(e),ar(t,0,e.length))}function Qn(e){return Ui(Co(e))}function er(e,t,r){(r!==n&&!Vs(e[t],r)||r===n&&!(t in e))&&ir(e,t,r)}function tr(e,t,r){var o=e[t];je.call(e,t)&&Vs(o,r)&&(r!==n||t in e)||ir(e,t,r)}function nr(e,t){for(var n=e.length;n--;)if(Vs(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function or(e,t){return e&&Ro(t,ja(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,i=ie(o),s=null==e;++r<o;)i[r]=s?n:Ca(e,t[r]);return i}function ar(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ur(e,t,r,o,i,s){var a,u=1&t,c=2&t,l=4&t;if(r&&(a=i?r(e,o,i,s):r(e)),a!==n)return a;if(!oa(e))return e;var f=Ks(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Co(e,a)}else{var h=gi(e),p=h==w||h==E;if(Zs(e))return Oo(e,u);if(h==I||h==v||p&&!i){if(a=c||p?{}:yi(e),!u)return c?function(e,t){return Ro(e,di(e),t)}(e,function(e,t){return e&&Ro(t,Ua(t),e)}(a,e)):function(e,t){return Ro(e,pi(e),t)}(e,or(a,e))}else{if(!it[h])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case k:return Io(e);case m:case _:return new r(+e);case P:return function(e,t){var n=t?Io(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case U:case D:case M:case B:case F:case q:case W:return Ao(e,n);case S:case x:return new r;case O:case N:return new r(e);case T:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return o=e,Mn?Ae(Mn.call(o)):{}}var o}(e,h,u)}}s||(s=new Jn);var d=s.get(e);if(d)return d;s.set(e,a),la(e)?e.forEach((function(n){a.add(ur(n,t,r,n,e,s))})):sa(e)&&e.forEach((function(n,o){a.set(o,ur(n,t,r,o,e,s))}));var g=f?n:(l?c?ii:oi:c?Ua:ja)(e);return It(g||e,(function(n,o){g&&(n=e[o=n]),tr(a,o,ur(n,t,r,o,e,s))})),a}function cr(e,t,r){var o=r.length;if(null==e)return!o;for(e=Ae(e);o--;){var i=r[o],s=t[i],a=e[i];if(a===n&&!(i in e)||!s(a))return!1}return!0}function lr(e,t,o){if("function"!=typeof e)throw new Ne(r);return ki((function(){e.apply(n,o)}),t)}function fr(e,t,n,r){var o=-1,i=Nt,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=Rt(t,Jt(n))),r?(i=Ct,s=!1):t.length>=200&&(i=Xt,s=!1,t=new Kn(t));e:for(;++o<a;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else i(t,f,r)||u.push(l)}return u}Fn.templateSettings={escape:Y,evaluate:X,interpolate:Z,variable:"",imports:{_:Fn}},Fn.prototype=Wn.prototype,Fn.prototype.constructor=Fn,$n.prototype=qn(Wn.prototype),$n.prototype.constructor=$n,Vn.prototype=qn(Wn.prototype),Vn.prototype.constructor=Vn,Hn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Nn){var r=t[e];return r===o?n:r}return je.call(t,e)?t[e]:n},Hn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==n:je.call(t,e)},Hn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Nn&&t===n?o:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?n:t[r][1]},Gn.prototype.has=function(e){return nr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(In||Gn),string:new Hn}},zn.prototype.delete=function(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t},zn.prototype.get=function(e){return li(this,e).get(e)},zn.prototype.has=function(e){return li(this,e).has(e)},zn.prototype.set=function(e,t){var n=li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,o),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!In||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this};var hr=Lo(br),pr=Lo(wr,!0);function dr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,r){for(var o=-1,i=e.length;++o<i;){var s=e[o],a=t(s);if(null!=a&&(u===n?a==a&&!ha(a):r(a,u)))var u=a,c=s}return c}function vr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=mi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?yr(a,t-1,n,r,o):kt(o,a):r||(o[o.length]=a)}return o}var mr=jo(),_r=jo(!0);function br(e,t){return e&&mr(e,t,ja)}function wr(e,t){return e&&_r(e,t,ja)}function Er(e,t){return xt(t,(function(t){return ta(e[t])}))}function Sr(e,t){for(var r=0,o=(t=bo(t,e)).length;null!=e&&r<o;)e=e[qi(t[r++])];return r&&r==o?e:n}function Or(e,t,n){var r=t(e);return Ks(e)?r:kt(r,n(e))}function Ir(e){return null==e?e===n?"[object Undefined]":"[object Null]":st&&st in Ae(e)?function(e){var t=je.call(e,st),r=e[st];try{e[st]=n;var o=!0}catch(jO){}var i=Me.call(e);o&&(t?e[st]=r:delete e[st]);return i}(e):function(e){return Me.call(e)}(e)}function Ar(e,t){return e>t}function Tr(e,t){return null!=e&&je.call(e,t)}function xr(e,t){return null!=e&&t in Ae(e)}function Nr(e,t,r){for(var o=r?Ct:Nt,i=e[0].length,s=e.length,a=s,u=ie(s),c=1/0,l=[];a--;){var f=e[a];a&&t&&(f=Rt(f,Jt(t))),c=_n(f.length,c),u[a]=!r&&(t||i>=120&&f.length>=120)?new Kn(a&&f):n}f=e[0];var h=-1,p=u[0];e:for(;++h<i&&l.length<c;){var d=f[h],g=t?t(d):d;if(d=r||0!==d?d:0,!(p?Xt(p,g):o(l,g,r))){for(a=s;--a;){var v=u[a];if(!(v?Xt(v,g):o(e[a],g,r)))continue e}p&&p.push(g),l.push(d)}}return l}function Cr(e,t,r){var o=null==(e=xi(e,t=bo(t,e)))?e:e[qi(es(t))];return null==o?n:St(o,e,r)}function Rr(e){return ia(e)&&Ir(e)==v}function kr(e,t,r,o,i){return e===t||(null==e||null==t||!ia(e)&&!ia(t)?e!=e&&t!=t:function(e,t,r,o,i,s){var a=Ks(e),u=Ks(t),c=a?y:gi(e),l=u?y:gi(t),f=(c=c==v?I:c)==I,h=(l=l==v?I:l)==I,p=c==l;if(p&&Zs(e)){if(!Zs(t))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new Jn),a||pa(e)?ni(e,t,r,o,i,s):function(e,t,n,r,o,i,s){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case m:case _:case O:return Vs(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case N:return e==t+"";case S:var a=sn;case x:var u=1&r;if(a||(a=cn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=ni(a(e),a(t),r,o,i,s);return s.delete(e),l;case C:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,r,o,i,s);if(!(1&r)){var d=f&&je.call(e,"__wrapped__"),g=h&&je.call(t,"__wrapped__");if(d||g){var w=d?e.value():e,E=g?t.value():t;return s||(s=new Jn),i(w,E,r,o,s)}}if(!p)return!1;return s||(s=new Jn),function(e,t,r,o,i,s){var a=1&r,u=oi(e),c=u.length,l=oi(t).length;if(c!=l&&!a)return!1;var f=c;for(;f--;){var h=u[f];if(!(a?h in t:je.call(t,h)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++f<c;){var y=e[h=u[f]],m=t[h];if(o)var _=a?o(m,y,h,t,e,s):o(y,m,h,e,t,s);if(!(_===n?y===m||i(y,m,r,o,s):_)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,r,o,i,s)}(e,t,r,o,kr,i))}function Pr(e,t,r,o){var i=r.length,s=i,a=!o;if(null==e)return!s;for(e=Ae(e);i--;){var u=r[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=r[i])[0],l=e[c],f=u[1];if(a&&u[2]){if(l===n&&!(c in e))return!1}else{var h=new Jn;if(o)var p=o(l,f,c,e,t,h);if(!(p===n?kr(f,l,3,o,h):p))return!1}}return!0}function Lr(e){return!(!oa(e)||(t=e,De&&De in t))&&(ta(e)?qe:ve).test(Wi(e));var t}function jr(e){return"function"==typeof e?e:null==e?au:"object"==typeof e?Ks(e)?qr(e[0],e[1]):Fr(e):vu(e)}function Ur(e){if(!Oi(e))return yn(e);var t=[];for(var n in Ae(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!oa(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=Oi(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Br(e,t){var n=-1,r=Ys(e)?ie(e.length):[];return hr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Fr(e){var t=fi(e);return 1==t.length&&t[0][2]?Ai(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function qr(e,t){return wi(e)&&Ii(t)?Ai(qi(e),t):function(r){var o=Ca(r,e);return o===n&&o===t?Ra(r,e):kr(t,o,3)}}function Wr(e,t,r,o,i){e!==t&&mr(t,(function(s,a){if(i||(i=new Jn),oa(s))!function(e,t,r,o,i,s,a){var u=Ci(e,r),c=Ci(t,r),l=a.get(c);if(l)return void er(e,r,l);var f=s?s(u,c,r+"",e,t,a):n,h=f===n;if(h){var p=Ks(c),d=!p&&Zs(c),g=!p&&!d&&pa(c);f=c,p||d||g?Ks(u)?f=u:Xs(u)?f=Co(u):d?(h=!1,f=Oo(c,!0)):g?(h=!1,f=Ao(c,!0)):f=[]:ua(c)||zs(c)?(f=u,zs(u)?f=wa(u):oa(u)&&!ta(u)||(f=yi(c))):h=!1}h&&(a.set(c,f),i(f,c,o,s,a),a.delete(c));er(e,r,f)}(e,t,a,r,Wr,o,i);else{var u=o?o(Ci(e,a),s,a+"",e,t,i):n;u===n&&(u=s),er(e,a,u)}}),Ua)}function $r(e,t){var r=e.length;if(r)return _i(t+=t<0?r:0,r)?e[t]:n}function Vr(e,t,n){t=t.length?Rt(t,(function(e){return Ks(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[au];var r=-1;return t=Rt(t,Jt(ci())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Br(e,(function(e,n,o){return{criteria:Rt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;for(;++r<s;){var u=To(o[r],i[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Sr(e,s);n(a,s)&&Qr(i,bo(s,e),a)}return i}function Gr(e,t,n,r){var o=r?Ft:Bt,i=-1,s=t.length,a=e;for(e===t&&(t=Co(t)),n&&(a=Rt(e,Jt(n)));++i<s;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(a,l,u,r))>-1;)a!==e&&Je.call(a,u,1),Je.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;_i(o)?Je.call(e,o,1):fo(e,o)}}return e}function Kr(e,t){return e+vt(En()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Pi(Ti(e,t,au),e+"")}function Xr(e){return Xn(Va(e))}function Zr(e,t){var n=Va(e);return Ui(n,ar(t,0,n.length))}function Qr(e,t,r,o){if(!oa(e))return e;for(var i=-1,s=(t=bo(t,e)).length,a=s-1,u=e;null!=u&&++i<s;){var c=qi(t[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var f=u[c];(l=o?o(f,c,u):n)===n&&(l=oa(f)?f:_i(t[i+1])?[]:{})}tr(u,c,l),u=u[c]}return e}var eo=Cn?function(e,t){return Cn.set(e,t),e}:au,to=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:ou(t),writable:!0})}:au;function no(e){return Ui(Va(e))}function ro(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ie(o);++r<o;)i[r]=e[r+t];return i}function oo(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!ha(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return so(e,t,au,n)}function so(e,t,r,o){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,u=null===t,c=ha(t),l=t===n;i<s;){var f=vt((i+s)/2),h=r(e[f]),p=h!==n,d=null===h,g=h==h,v=ha(h);if(a)var y=o||g;else y=l?g&&(o||p):u?g&&p&&(o||!d):c?g&&p&&!d&&(o||!v):!d&&!v&&(o?h<=t:h<t);y?i=f+1:s=f}return _n(s,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Vs(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function uo(e){return"number"==typeof e?e:ha(e)?p:+e}function co(e){if("string"==typeof e)return e;if(Ks(e))return Rt(e,co)+"";if(ha(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lo(e,t,n){var r=-1,o=Nt,i=e.length,s=!0,a=[],u=a;if(n)s=!1,o=Ct;else if(i>=200){var c=t?null:Yo(e);if(c)return cn(c);s=!1,o=Xt,u=new Kn}else u=t?[]:a;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),a.push(l)}else o(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function fo(e,t){return null==(e=xi(e,t=bo(t,e)))||delete e[qi(es(t))]}function ho(e,t,n,r){return Qr(e,t,n(Sr(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function vo(e,t,n){var r=e.length;if(r<2)return r?lo(e[0]):[];for(var o=-1,i=ie(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=fr(i[o]||s,e[a],t,n));return lo(yr(i,1),t,n)}function yo(e,t,r){for(var o=-1,i=e.length,s=t.length,a={};++o<i;){var u=o<s?t[o]:n;r(a,e[o],u)}return a}function mo(e){return Xs(e)?e:[]}function _o(e){return"function"==typeof e?e:au}function bo(e,t){return Ks(e)?e:wi(e,t)?[e]:Fi(Ea(e))}var wo=Yr;function Eo(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:ro(e,t,r)}var So=lt||function(e){return ft.clearTimeout(e)};function Oo(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Io(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ao(e,t){var n=t?Io(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var r=e!==n,o=null===e,i=e==e,s=ha(e),a=t!==n,u=null===t,c=t==t,l=ha(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||o&&a&&c||!r&&c||!i)return 1;if(!o&&!s&&!l&&e<t||l&&r&&i&&!o&&!s||u&&r&&i||!a&&i||!c)return-1}return 0}function xo(e,t,n,r){for(var o=-1,i=e.length,s=n.length,a=-1,u=t.length,c=mn(i-s,0),l=ie(u+c),f=!r;++a<u;)l[a]=t[a];for(;++o<s;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function No(e,t,n,r){for(var o=-1,i=e.length,s=-1,a=n.length,u=-1,c=t.length,l=mn(i-a,0),f=ie(l+c),h=!r;++o<l;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++s<a;)(h||o<i)&&(f[p+n[s]]=e[o++]);return f}function Co(e,t){var n=-1,r=e.length;for(t||(t=ie(r));++n<r;)t[n]=e[n];return t}function Ro(e,t,r,o){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=o?o(r[u],e[u],u,r,e):n;c===n&&(c=e[u]),i?ir(r,u,c):tr(r,u,c)}return r}function ko(e,t){return function(n,r){var o=Ks(n)?Ot:rr,i=t?t():{};return o(n,e,ci(r,2),i)}}function Po(e){return Yr((function(t,r){var o=-1,i=r.length,s=i>1?r[i-1]:n,a=i>2?r[2]:n;for(s=e.length>3&&"function"==typeof s?(i--,s):n,a&&bi(r[0],r[1],a)&&(s=i<3?n:s,i=1),t=Ae(t);++o<i;){var u=r[o];u&&e(t,u,o,s)}return t}))}function Lo(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Ae(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function jo(e){return function(t,n,r){for(var o=-1,i=Ae(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}function Uo(e){return function(t){var r=on(t=Ea(t))?fn(t):n,o=r?r[0]:t.charAt(0),i=r?Eo(r,1).join(""):t.slice(1);return o[e]()+i}}function Do(e){return function(t){return Pt(tu(za(t).replace(Ye,"")),e,"")}}function Mo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),r=e.apply(n,t);return oa(r)?r:n}}function Bo(e){return function(t,r,o){var i=Ae(t);if(!Ys(t)){var s=ci(r,3);t=ja(t),r=function(e){return s(i[e],e,i)}}var a=e(t,r,o);return a>-1?i[s?t[a]:a]:n}}function Fo(e){return ri((function(t){var o=t.length,i=o,s=$n.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new Ne(r);if(s&&!u&&"wrapper"==ai(a))var u=new $n([],!0)}for(i=u?i:o;++i<o;){var c=ai(a=t[i]),l="wrapper"==c?si(a):n;u=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ai(l[0])].apply(u,l[3]):1==a.length&&Ei(a)?u[c]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Ks(n))return u.plant(n).value();for(var r=0,i=o?t[r].apply(this,e):n;++r<o;)i=t[r].call(this,i);return i}}))}function qo(e,t,r,o,i,s,a,u,l,f){var h=t&c,p=1&t,d=2&t,g=24&t,v=512&t,y=d?n:Mo(e);return function n(){for(var c=arguments.length,m=ie(c),_=c;_--;)m[_]=arguments[_];if(g)var b=ui(n),w=en(m,b);if(o&&(m=xo(m,o,i,g)),s&&(m=No(m,s,a,g)),c-=w,g&&c<f){var E=un(m,b);return Ko(e,t,qo,n.placeholder,r,m,E,u,l,f-c)}var S=p?r:this,O=d?S[e]:e;return c=m.length,u?m=Ni(m,u):v&&c>1&&m.reverse(),h&&l<c&&(m.length=l),this&&this!==ft&&this instanceof n&&(O=y||Mo(O)),O.apply(S,m)}}function Wo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function $o(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=co(r),o=co(o)):(r=uo(r),o=uo(o)),i=e(r,o)}return i}}function Vo(e){return ri((function(t){return t=Rt(t,Jt(ci())),Yr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Ho(e,t){var r=(t=t===n?" ":co(t)).length;if(r<2)return r?Jr(t,e):t;var o=Jr(t,gt(e/ln(t)));return on(t)?Eo(fn(o),0,e).join(""):o.slice(0,e)}function Go(e){return function(t,r,o){return o&&"number"!=typeof o&&bi(t,r,o)&&(r=o=n),t=ya(t),r===n?(r=t,t=0):r=ya(r),function(e,t,n,r){for(var o=-1,i=mn(gt((t-e)/(n||1)),0),s=ie(i);i--;)s[r?i:++o]=e,e+=n;return s}(t,r,o=o===n?t<r?1:-1:ya(o),e)}}function zo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ba(t),n=ba(n)),e(t,n)}}function Ko(e,t,r,o,i,s,c,l,f,h){var p=8&t;t|=p?a:u,4&(t&=~(p?u:a))||(t&=-4);var d=[e,t,i,p?s:n,p?c:n,p?n:s,p?n:c,l,f,h],g=r.apply(n,d);return Ei(e)&&Ri(g,d),g.placeholder=o,Li(g,e,t)}function Jo(e){var t=Ie[e];return function(e,n){if(e=ba(e),(n=null==n?0:_n(ma(n),292))&&gn(e)){var r=(Ea(e)+"e").split("e");return+((r=(Ea(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yo=Tn&&1/cn(new Tn([,-0]))[1]==f?function(e){return new Tn(e)}:hu;function Xo(e){return function(t){var n=gi(t);return n==S?sn(t):n==x?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,o,f,h,p,d,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ne(r);var y=f?f.length:0;if(y||(t&=-97,f=h=n),d=d===n?d:mn(ma(d),0),g=g===n?g:ma(g),y-=h?h.length:0,t&u){var m=f,_=h;f=h=n}var b=v?n:si(e),w=[e,t,o,f,h,m,_,p,d,g];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,s=o<131,a=r==c&&8==n||r==c&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?xo(f,u,t[4]):u,e[4]=f?un(e[3],i):t[4]}(u=t[5])&&(f=e[5],e[5]=f?No(f,u,t[6]):u,e[6]=f?un(e[5],i):t[6]);(u=t[7])&&(e[7]=u);r&c&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(w,b),e=w[0],t=w[1],o=w[2],f=w[3],h=w[4],!(g=w[9]=w[9]===n?v?0:e.length:mn(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==s?function(e,t,r){var o=Mo(e);return function i(){for(var s=arguments.length,a=ie(s),u=s,c=ui(i);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:un(a,c);return(s-=l.length)<r?Ko(e,t,qo,i.placeholder,n,a,l,n,n,r-s):St(this&&this!==ft&&this instanceof i?o:e,this,a)}}(e,t,g):t!=a&&33!=t||h.length?qo.apply(n,w):function(e,t,n,r){var o=1&t,i=Mo(e);return function t(){for(var s=-1,a=arguments.length,u=-1,c=r.length,l=ie(c+a),f=this&&this!==ft&&this instanceof t?i:e;++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++s];return St(f,o?n:this,l)}}(e,t,o,f);else var E=function(e,t,n){var r=1&t,o=Mo(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,o);return Li((b?eo:Ri)(E,w),e,t)}function Qo(e,t,r,o){return e===n||Vs(e,ke[r])&&!je.call(o,r)?t:e}function ei(e,t,r,o,i,s){return oa(e)&&oa(t)&&(s.set(t,e),Wr(e,t,n,ei,s),s.delete(t)),e}function ti(e){return ua(e)?n:e}function ni(e,t,r,o,i,s){var a=1&r,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),f=s.get(t);if(l&&f)return l==t&&f==e;var h=-1,p=!0,d=2&r?new Kn:n;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],v=t[h];if(o)var y=a?o(v,g,h,t,e,s):o(g,v,h,e,t,s);if(y!==n){if(y)continue;p=!1;break}if(d){if(!jt(t,(function(e,t){if(!Xt(d,t)&&(g===e||i(g,e,r,o,s)))return d.push(t)}))){p=!1;break}}else if(g!==v&&!i(g,v,r,o,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ri(e){return Pi(Ti(e,n,Ji),e+"")}function oi(e){return Or(e,ja,pi)}function ii(e){return Or(e,Ua,di)}var si=Cn?function(e){return Cn.get(e)}:hu;function ai(e){for(var t=e.name+"",n=Rn[t],r=je.call(Rn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(je.call(Fn,"placeholder")?Fn:e).placeholder}function ci(){var e=Fn.iteratee||uu;return e=e===uu?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fi(e){for(var t=ja(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ii(o)]}return t}function hi(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var pi=Ut?function(e){return null==e?[]:(e=Ae(e),xt(Ut(e),(function(t){return Ke.call(e,t)})))}:_u,di=Ut?function(e){for(var t=[];e;)kt(t,pi(e)),e=Ge(e);return t}:_u,gi=Ir;function vi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var s=qi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ra(o)&&_i(s,o)&&(Ks(e)||zs(e))}function yi(e){return"function"!=typeof e.constructor||Oi(e)?{}:qn(Ge(e))}function mi(e){return Ks(e)||zs(e)||!!(Ze&&e&&e[Ze])}function _i(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!oa(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&_i(t,n.length):"string"==r&&t in n)&&Vs(n[t],e)}function wi(e,t){if(Ks(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ha(e))||(ee.test(e)||!Q.test(e)||null!=t&&e in Ae(t))}function Ei(e){var t=ai(e),n=Fn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(On&&gi(new On(new ArrayBuffer(1)))!=P||In&&gi(new In)!=S||An&&gi(An.resolve())!=A||Tn&&gi(new Tn)!=x||xn&&gi(new xn)!=R)&&(gi=function(e){var t=Ir(e),r=t==I?e.constructor:n,o=r?Wi(r):"";if(o)switch(o){case kn:return P;case Pn:return S;case Ln:return A;case jn:return x;case Un:return R}return t});var Si=Pe?ta:bu;function Oi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function Ii(e){return e==e&&!oa(e)}function Ai(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ae(r)))}}function Ti(e,t,r){return t=mn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=mn(n.length-t,0),s=ie(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=ie(t+1);++o<t;)a[o]=n[o];return a[t]=r(s),St(e,this,a)}}function xi(e,t){return t.length<2?e:Sr(e,ro(t,0,-1))}function Ni(e,t){for(var r=e.length,o=_n(t.length,r),i=Co(e);o--;){var s=t[o];e[o]=_i(s,r)?i[s]:n}return e}function Ci(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ri=ji(eo),ki=pt||function(e,t){return ft.setTimeout(e,t)},Pi=ji(to);function Li(e,t,n){var r=t+"";return Pi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(g,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ue):[]}(r),n)))}function ji(e){var t=0,r=0;return function(){var o=bn(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ui(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var s=Kr(r,i),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Di,Mi,Bi,Fi=(Di=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,o){t.push(r?o.replace(fe,"$1"):n||e)})),t},Mi=Ms(Di,(function(e){return 500===Bi.size&&Bi.clear(),e})),Bi=Mi.cache,Mi);function qi(e){if("string"==typeof e||ha(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wi(e){if(null!=e){try{return Le.call(e)}catch(jO){}try{return e+""}catch(jO){}}return""}function $i(e){if(e instanceof Vn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=Co(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vi=Yr((function(e,t){return Xs(e)?fr(e,yr(t,1,Xs,!0)):[]})),Hi=Yr((function(e,t){var r=es(t);return Xs(r)&&(r=n),Xs(e)?fr(e,yr(t,1,Xs,!0),ci(r,2)):[]})),Gi=Yr((function(e,t){var r=es(t);return Xs(r)&&(r=n),Xs(e)?fr(e,yr(t,1,Xs,!0),n,r):[]}));function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ma(n);return o<0&&(o=mn(r+o,0)),Mt(e,ci(t,3),o)}function Ki(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=ma(r),i=r<0?mn(o+i,0):_n(i,o-1)),Mt(e,ci(t,3),i,!0)}function Ji(e){return(null==e?0:e.length)?yr(e,1):[]}function Yi(e){return e&&e.length?e[0]:n}var Xi=Yr((function(e){var t=Rt(e,mo);return t.length&&t[0]===e[0]?Nr(t):[]})),Zi=Yr((function(e){var t=es(e),r=Rt(e,mo);return t===es(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Nr(r,ci(t,2)):[]})),Qi=Yr((function(e){var t=es(e),r=Rt(e,mo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Nr(r,n,t):[]}));function es(e){var t=null==e?0:e.length;return t?e[t-1]:n}var ts=Yr(ns);function ns(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var rs=ri((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return zr(e,Rt(t,(function(e){return _i(e,n)?+e:e})).sort(To)),r}));function os(e){return null==e?e:Sn.call(e)}var is=Yr((function(e){return lo(yr(e,1,Xs,!0))})),ss=Yr((function(e){var t=es(e);return Xs(t)&&(t=n),lo(yr(e,1,Xs,!0),ci(t,2))})),as=Yr((function(e){var t=es(e);return t="function"==typeof t?t:n,lo(yr(e,1,Xs,!0),n,t)}));function us(e){if(!e||!e.length)return[];var t=0;return e=xt(e,(function(e){if(Xs(e))return t=mn(e.length,t),!0})),zt(t,(function(t){return Rt(e,$t(t))}))}function cs(e,t){if(!e||!e.length)return[];var r=us(e);return null==t?r:Rt(r,(function(e){return St(t,n,e)}))}var ls=Yr((function(e,t){return Xs(e)?fr(e,t):[]})),fs=Yr((function(e){return vo(xt(e,Xs))})),hs=Yr((function(e){var t=es(e);return Xs(t)&&(t=n),vo(xt(e,Xs),ci(t,2))})),ps=Yr((function(e){var t=es(e);return t="function"==typeof t?t:n,vo(xt(e,Xs),n,t)})),ds=Yr(us);var gs=Yr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,cs(e,r)}));function vs(e){var t=Fn(e);return t.__chain__=!0,t}function ys(e,t){return t(e)}var ms=ri((function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Vn&&_i(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:ys,args:[i],thisArg:n}),new $n(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(i)}));var _s=ko((function(e,t,n){je.call(e,n)?++e[n]:ir(e,n,1)}));var bs=Bo(zi),ws=Bo(Ki);function Es(e,t){return(Ks(e)?It:hr)(e,ci(t,3))}function Ss(e,t){return(Ks(e)?At:pr)(e,ci(t,3))}var Os=ko((function(e,t,n){je.call(e,n)?e[n].push(t):ir(e,n,[t])}));var Is=Yr((function(e,t,n){var r=-1,o="function"==typeof t,i=Ys(e)?ie(e.length):[];return hr(e,(function(e){i[++r]=o?St(t,e,n):Cr(e,t,n)})),i})),As=ko((function(e,t,n){ir(e,n,t)}));function Ts(e,t){return(Ks(e)?Rt:Br)(e,ci(t,3))}var xs=ko((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ns=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,yr(t,1),[])})),Cs=ht||function(){return ft.Date.now()};function Rs(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Zo(e,c,n,n,n,n,t)}function ks(e,t){var o;if("function"!=typeof t)throw new Ne(r);return e=ma(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var Ps=Yr((function(e,t,n){var r=1;if(n.length){var o=un(n,ui(Ps));r|=a}return Zo(e,r,t,n,o)})),Ls=Yr((function(e,t,n){var r=3;if(n.length){var o=un(n,ui(Ls));r|=a}return Zo(t,r,e,n,o)}));function js(e,t,o){var i,s,a,u,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new Ne(r);function g(t){var r=i,o=s;return i=s=n,f=t,u=e.apply(o,r)}function v(e){return f=e,c=ki(m,t),h?g(e):u}function y(e){var r=e-l;return l===n||r>=t||r<0||p&&e-f>=a}function m(){var e=Cs();if(y(e))return _(e);c=ki(m,function(e){var n=t-(e-l);return p?_n(n,a-(e-f)):n}(e))}function _(e){return c=n,d&&i?g(e):(i=s=n,u)}function b(){var e=Cs(),r=y(e);if(i=arguments,s=this,l=e,r){if(c===n)return v(l);if(p)return So(c),c=ki(m,t),g(l)}return c===n&&(c=ki(m,t)),u}return t=ba(t)||0,oa(o)&&(h=!!o.leading,a=(p="maxWait"in o)?mn(ba(o.maxWait)||0,t):a,d="trailing"in o?!!o.trailing:d),b.cancel=function(){c!==n&&So(c),f=0,i=l=s=c=n},b.flush=function(){return c===n?u:_(Cs())},b}var Us=Yr((function(e,t){return lr(e,1,t)})),Ds=Yr((function(e,t,n){return lr(e,ba(t)||0,n)}));function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ms.Cache||zn),n}function Bs(e){if("function"!=typeof e)throw new Ne(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ms.Cache=zn;var Fs=wo((function(e,t){var n=(t=1==t.length&&Ks(t[0])?Rt(t[0],Jt(ci())):Rt(yr(t,1),Jt(ci()))).length;return Yr((function(r){for(var o=-1,i=_n(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return St(e,this,r)}))})),qs=Yr((function(e,t){var r=un(t,ui(qs));return Zo(e,a,n,t,r)})),Ws=Yr((function(e,t){var r=un(t,ui(Ws));return Zo(e,u,n,t,r)})),$s=ri((function(e,t){return Zo(e,l,n,n,n,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Hs=zo(Ar),Gs=zo((function(e,t){return e>=t})),zs=Rr(function(){return arguments}())?Rr:function(e){return ia(e)&&je.call(e,"callee")&&!Ke.call(e,"callee")},Ks=ie.isArray,Js=yt?Jt(yt):function(e){return ia(e)&&Ir(e)==k};function Ys(e){return null!=e&&ra(e.length)&&!ta(e)}function Xs(e){return ia(e)&&Ys(e)}var Zs=Vt||bu,Qs=mt?Jt(mt):function(e){return ia(e)&&Ir(e)==_};function ea(e){if(!ia(e))return!1;var t=Ir(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ua(e)}function ta(e){if(!oa(e))return!1;var t=Ir(e);return t==w||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function na(e){return"number"==typeof e&&e==ma(e)}function ra(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function oa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ia(e){return null!=e&&"object"==typeof e}var sa=_t?Jt(_t):function(e){return ia(e)&&gi(e)==S};function aa(e){return"number"==typeof e||ia(e)&&Ir(e)==O}function ua(e){if(!ia(e)||Ir(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==Be}var ca=bt?Jt(bt):function(e){return ia(e)&&Ir(e)==T};var la=wt?Jt(wt):function(e){return ia(e)&&gi(e)==x};function fa(e){return"string"==typeof e||!Ks(e)&&ia(e)&&Ir(e)==N}function ha(e){return"symbol"==typeof e||ia(e)&&Ir(e)==C}var pa=Et?Jt(Et):function(e){return ia(e)&&ra(e.length)&&!!ot[Ir(e)]};var da=zo(Mr),ga=zo((function(e,t){return e<=t}));function va(e){if(!e)return[];if(Ys(e))return fa(e)?fn(e):Co(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=gi(e);return(t==S?sn:t==x?cn:Va)(e)}function ya(e){return e?(e=ba(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=ya(e),n=t%1;return t==t?n?t-n:t:0}function _a(e){return e?ar(ma(e),0,d):0}function ba(e){if("number"==typeof e)return e;if(ha(e))return p;if(oa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ge.test(e);return n||ye.test(e)?ut(e.slice(2),n?2:8):de.test(e)?p:+e}function wa(e){return Ro(e,Ua(e))}function Ea(e){return null==e?"":co(e)}var Sa=Po((function(e,t){if(Oi(t)||Ys(t))Ro(t,ja(t),e);else for(var n in t)je.call(t,n)&&tr(e,n,t[n])})),Oa=Po((function(e,t){Ro(t,Ua(t),e)})),Ia=Po((function(e,t,n,r){Ro(t,Ua(t),e,r)})),Aa=Po((function(e,t,n,r){Ro(t,ja(t),e,r)})),Ta=ri(sr);var xa=Yr((function(e,t){e=Ae(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&bi(t[0],t[1],i)&&(o=1);++r<o;)for(var s=t[r],a=Ua(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===n||Vs(f,ke[l])&&!je.call(e,l))&&(e[l]=s[l])}return e})),Na=Yr((function(e){return e.push(n,ei),St(Ma,n,e)}));function Ca(e,t,r){var o=null==e?n:Sr(e,t);return o===n?r:o}function Ra(e,t){return null!=e&&vi(e,t,xr)}var ka=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),ou(au)),Pa=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]}),ci),La=Yr(Cr);function ja(e){return Ys(e)?Yn(e):Ur(e)}function Ua(e){return Ys(e)?Yn(e,!0):Dr(e)}var Da=Po((function(e,t,n){Wr(e,t,n)})),Ma=Po((function(e,t,n,r){Wr(e,t,n,r)})),Ba=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Ro(e,ii(e),n),r&&(n=ur(n,7,ti));for(var o=t.length;o--;)fo(n,t[o]);return n}));var Fa=ri((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ra(e,n)}))}(e,t)}));function qa(e,t){if(null==e)return{};var n=Rt(ii(e),(function(e){return[e]}));return t=ci(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Wa=Xo(ja),$a=Xo(Ua);function Va(e){return null==e?[]:Yt(e,ja(e))}var Ha=Do((function(e,t,n){return t=t.toLowerCase(),e+(n?Ga(t):t)}));function Ga(e){return eu(Ea(e).toLowerCase())}function za(e){return(e=Ea(e))&&e.replace(_e,tn).replace(Xe,"")}var Ka=Do((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ja=Do((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ya=Uo("toLowerCase");var Xa=Do((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Za=Do((function(e,t,n){return e+(n?" ":"")+eu(t)}));var Qa=Do((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),eu=Uo("toUpperCase");function tu(e,t,r){return e=Ea(e),(t=r?n:t)===n?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var nu=Yr((function(e,t){try{return St(e,n,t)}catch(jO){return ea(jO)?jO:new Se(jO)}})),ru=ri((function(e,t){return It(t,(function(t){t=qi(t),ir(e,t,Ps(e[t],e))})),e}));function ou(e){return function(){return e}}var iu=Fo(),su=Fo(!0);function au(e){return e}function uu(e){return jr("function"==typeof e?e:ur(e,1))}var cu=Yr((function(e,t){return function(n){return Cr(n,e,t)}})),lu=Yr((function(e,t){return function(n){return Cr(e,n,t)}}));function fu(e,t,n){var r=ja(t),o=Er(t,r);null!=n||oa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,ja(t)));var i=!(oa(n)&&"chain"in n&&!n.chain),s=ta(e);return It(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Co(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})})),e}function hu(){}var pu=Vo(Rt),du=Vo(Tt),gu=Vo(jt);function vu(e){return wi(e)?$t(qi(e)):function(e){return function(t){return Sr(t,e)}}(e)}var yu=Go(),mu=Go(!0);function _u(){return[]}function bu(){return!1}var wu=$o((function(e,t){return e+t}),0),Eu=Jo("ceil"),Su=$o((function(e,t){return e/t}),1),Ou=Jo("floor");var Iu,Au=$o((function(e,t){return e*t}),1),Tu=Jo("round"),xu=$o((function(e,t){return e-t}),0);return Fn.after=function(e,t){if("function"!=typeof t)throw new Ne(r);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},Fn.ary=Rs,Fn.assign=Sa,Fn.assignIn=Oa,Fn.assignInWith=Ia,Fn.assignWith=Aa,Fn.at=Ta,Fn.before=ks,Fn.bind=Ps,Fn.bindAll=ru,Fn.bindKey=Ls,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ks(e)?e:[e]},Fn.chain=vs,Fn.chunk=function(e,t,r){t=(r?bi(e,t,r):t===n)?1:mn(ma(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,a=ie(gt(o/t));i<o;)a[s++]=ro(e,i,i+=t);return a},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ie(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return kt(Ks(n)?Co(n):[n],yr(t,1))},Fn.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ne(r);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(St(o[0],this,n))return St(o[1],this,n)}}))},Fn.conforms=function(e){return function(e){var t=ja(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Fn.constant=ou,Fn.countBy=_s,Fn.create=function(e,t){var n=qn(e);return null==t?n:or(n,t)},Fn.curry=function e(t,r,o){var i=Zo(t,8,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Fn.curryRight=function e(t,r,o){var i=Zo(t,s,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Fn.debounce=js,Fn.defaults=xa,Fn.defaultsDeep=Na,Fn.defer=Us,Fn.delay=Ds,Fn.difference=Vi,Fn.differenceBy=Hi,Fn.differenceWith=Gi,Fn.drop=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,(t=r||t===n?1:ma(t))<0?0:t,o):[]},Fn.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,0,(t=o-(t=r||t===n?1:ma(t)))<0?0:t):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!0):[]},Fn.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&bi(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=ma(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:ma(o))<0&&(o+=i),o=r>o?0:_a(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},Fn.filter=function(e,t){return(Ks(e)?xt:vr)(e,ci(t,3))},Fn.flatMap=function(e,t){return yr(Ts(e,t),1)},Fn.flatMapDeep=function(e,t){return yr(Ts(e,t),f)},Fn.flatMapDepth=function(e,t,r){return r=r===n?1:ma(r),yr(Ts(e,t),r)},Fn.flatten=Ji,Fn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Fn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===n?1:ma(t)):[]},Fn.flip=function(e){return Zo(e,512)},Fn.flow=iu,Fn.flowRight=su,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Fn.functions=function(e){return null==e?[]:Er(e,ja(e))},Fn.functionsIn=function(e){return null==e?[]:Er(e,Ua(e))},Fn.groupBy=Os,Fn.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},Fn.intersection=Xi,Fn.intersectionBy=Zi,Fn.intersectionWith=Qi,Fn.invert=ka,Fn.invertBy=Pa,Fn.invokeMap=Is,Fn.iteratee=uu,Fn.keyBy=As,Fn.keys=ja,Fn.keysIn=Ua,Fn.map=Ts,Fn.mapKeys=function(e,t){var n={};return t=ci(t,3),br(e,(function(e,r,o){ir(n,t(e,r,o),e)})),n},Fn.mapValues=function(e,t){var n={};return t=ci(t,3),br(e,(function(e,r,o){ir(n,r,t(e,r,o))})),n},Fn.matches=function(e){return Fr(ur(e,1))},Fn.matchesProperty=function(e,t){return qr(e,ur(t,1))},Fn.memoize=Ms,Fn.merge=Da,Fn.mergeWith=Ma,Fn.method=cu,Fn.methodOf=lu,Fn.mixin=fu,Fn.negate=Bs,Fn.nthArg=function(e){return e=ma(e),Yr((function(t){return $r(t,e)}))},Fn.omit=Ba,Fn.omitBy=function(e,t){return qa(e,Bs(ci(t)))},Fn.once=function(e){return ks(2,e)},Fn.orderBy=function(e,t,r,o){return null==e?[]:(Ks(t)||(t=null==t?[]:[t]),Ks(r=o?n:r)||(r=null==r?[]:[r]),Vr(e,t,r))},Fn.over=pu,Fn.overArgs=Fs,Fn.overEvery=du,Fn.overSome=gu,Fn.partial=qs,Fn.partialRight=Ws,Fn.partition=xs,Fn.pick=Fa,Fn.pickBy=qa,Fn.property=vu,Fn.propertyOf=function(e){return function(t){return null==e?n:Sr(e,t)}},Fn.pull=ts,Fn.pullAll=ns,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,ci(n,2)):e},Fn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Gr(e,t,n,r):e},Fn.pullAt=rs,Fn.range=yu,Fn.rangeRight=mu,Fn.rearg=$s,Fn.reject=function(e,t){return(Ks(e)?xt:vr)(e,Bs(ci(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return zr(e,o),n},Fn.rest=function(e,t){if("function"!=typeof e)throw new Ne(r);return Yr(e,t=t===n?t:ma(t))},Fn.reverse=os,Fn.sampleSize=function(e,t,r){return t=(r?bi(e,t,r):t===n)?1:ma(t),(Ks(e)?Zn:Zr)(e,t)},Fn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},Fn.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:Qr(e,t,r,o)},Fn.shuffle=function(e){return(Ks(e)?Qn:no)(e)},Fn.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&bi(e,t,r)?(t=0,r=o):(t=null==t?0:ma(t),r=r===n?o:ma(r)),ro(e,t,r)):[]},Fn.sortBy=Ns,Fn.sortedUniq=function(e){return e&&e.length?ao(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?ao(e,ci(t,2)):[]},Fn.split=function(e,t,r){return r&&"number"!=typeof r&&bi(e,t,r)&&(t=r=n),(r=r===n?d:r>>>0)?(e=Ea(e))&&("string"==typeof t||null!=t&&!ca(t))&&!(t=co(t))&&on(e)?Eo(fn(e),0,r):e.split(t,r):[]},Fn.spread=function(e,t){if("function"!=typeof e)throw new Ne(r);return t=null==t?0:mn(ma(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&kt(o,r),St(e,this,o)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},Fn.take=function(e,t,r){return e&&e.length?ro(e,0,(t=r||t===n?1:ma(t))<0?0:t):[]},Fn.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,(t=o-(t=r||t===n?1:ma(t)))<0?0:t,o):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?po(e,ci(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new Ne(r);return oa(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),js(e,t,{leading:o,maxWait:t,trailing:i})},Fn.thru=ys,Fn.toArray=va,Fn.toPairs=Wa,Fn.toPairsIn=$a,Fn.toPath=function(e){return Ks(e)?Rt(e,qi):ha(e)?[e]:Co(Fi(Ea(e)))},Fn.toPlainObject=wa,Fn.transform=function(e,t,n){var r=Ks(e),o=r||Zs(e)||pa(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:oa(e)&&ta(i)?qn(Ge(e)):{}}return(o?It:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},Fn.unary=function(e){return Rs(e,1)},Fn.union=is,Fn.unionBy=ss,Fn.unionWith=as,Fn.uniq=function(e){return e&&e.length?lo(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?lo(e,ci(t,2)):[]},Fn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?lo(e,n,t):[]},Fn.unset=function(e,t){return null==e||fo(e,t)},Fn.unzip=us,Fn.unzipWith=cs,Fn.update=function(e,t,n){return null==e?e:ho(e,t,_o(n))},Fn.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:ho(e,t,_o(r),o)},Fn.values=Va,Fn.valuesIn=function(e){return null==e?[]:Yt(e,Ua(e))},Fn.without=ls,Fn.words=tu,Fn.wrap=function(e,t){return qs(_o(t),e)},Fn.xor=fs,Fn.xorBy=hs,Fn.xorWith=ps,Fn.zip=ds,Fn.zipObject=function(e,t){return yo(e||[],t||[],tr)},Fn.zipObjectDeep=function(e,t){return yo(e||[],t||[],Qr)},Fn.zipWith=gs,Fn.entries=Wa,Fn.entriesIn=$a,Fn.extend=Oa,Fn.extendWith=Ia,fu(Fn,Fn),Fn.add=wu,Fn.attempt=nu,Fn.camelCase=Ha,Fn.capitalize=Ga,Fn.ceil=Eu,Fn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ba(r))==r?r:0),t!==n&&(t=(t=ba(t))==t?t:0),ar(ba(e),t,r)},Fn.clone=function(e){return ur(e,4)},Fn.cloneDeep=function(e){return ur(e,5)},Fn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:n)},Fn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:n)},Fn.conformsTo=function(e,t){return null==t||cr(e,t,ja(t))},Fn.deburr=za,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=Su,Fn.endsWith=function(e,t,r){e=Ea(e),t=co(t);var o=e.length,i=r=r===n?o:ar(ma(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},Fn.eq=Vs,Fn.escape=function(e){return(e=Ea(e))&&J.test(e)?e.replace(z,nn):e},Fn.escapeRegExp=function(e){return(e=Ea(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Fn.every=function(e,t,r){var o=Ks(e)?Tt:dr;return r&&bi(e,t,r)&&(t=n),o(e,ci(t,3))},Fn.find=bs,Fn.findIndex=zi,Fn.findKey=function(e,t){return Dt(e,ci(t,3),br)},Fn.findLast=ws,Fn.findLastIndex=Ki,Fn.findLastKey=function(e,t){return Dt(e,ci(t,3),wr)},Fn.floor=Ou,Fn.forEach=Es,Fn.forEachRight=Ss,Fn.forIn=function(e,t){return null==e?e:mr(e,ci(t,3),Ua)},Fn.forInRight=function(e,t){return null==e?e:_r(e,ci(t,3),Ua)},Fn.forOwn=function(e,t){return e&&br(e,ci(t,3))},Fn.forOwnRight=function(e,t){return e&&wr(e,ci(t,3))},Fn.get=Ca,Fn.gt=Hs,Fn.gte=Gs,Fn.has=function(e,t){return null!=e&&vi(e,t,Tr)},Fn.hasIn=Ra,Fn.head=Yi,Fn.identity=au,Fn.includes=function(e,t,n,r){e=Ys(e)?e:Va(e),n=n&&!r?ma(n):0;var o=e.length;return n<0&&(n=mn(o+n,0)),fa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Bt(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ma(n);return o<0&&(o=mn(r+o,0)),Bt(e,t,o)},Fn.inRange=function(e,t,r){return t=ya(t),r===n?(r=t,t=0):r=ya(r),function(e,t,n){return e>=_n(t,n)&&e<mn(t,n)}(e=ba(e),t,r)},Fn.invoke=La,Fn.isArguments=zs,Fn.isArray=Ks,Fn.isArrayBuffer=Js,Fn.isArrayLike=Ys,Fn.isArrayLikeObject=Xs,Fn.isBoolean=function(e){return!0===e||!1===e||ia(e)&&Ir(e)==m},Fn.isBuffer=Zs,Fn.isDate=Qs,Fn.isElement=function(e){return ia(e)&&1===e.nodeType&&!ua(e)},Fn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Ks(e)||"string"==typeof e||"function"==typeof e.splice||Zs(e)||pa(e)||zs(e)))return!e.length;var t=gi(e);if(t==S||t==x)return!e.size;if(Oi(e))return!Ur(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return kr(e,t)},Fn.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?kr(e,t,n,r):!!o},Fn.isError=ea,Fn.isFinite=function(e){return"number"==typeof e&&gn(e)},Fn.isFunction=ta,Fn.isInteger=na,Fn.isLength=ra,Fn.isMap=sa,Fn.isMatch=function(e,t){return e===t||Pr(e,t,fi(t))},Fn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Pr(e,t,fi(t),r)},Fn.isNaN=function(e){return aa(e)&&e!=+e},Fn.isNative=function(e){if(Si(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=aa,Fn.isObject=oa,Fn.isObjectLike=ia,Fn.isPlainObject=ua,Fn.isRegExp=ca,Fn.isSafeInteger=function(e){return na(e)&&e>=-9007199254740991&&e<=h},Fn.isSet=la,Fn.isString=fa,Fn.isSymbol=ha,Fn.isTypedArray=pa,Fn.isUndefined=function(e){return e===n},Fn.isWeakMap=function(e){return ia(e)&&gi(e)==R},Fn.isWeakSet=function(e){return ia(e)&&"[object WeakSet]"==Ir(e)},Fn.join=function(e,t){return null==e?"":vn.call(e,t)},Fn.kebabCase=Ka,Fn.last=es,Fn.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=ma(r))<0?mn(o+i,0):_n(i,o-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Mt(e,qt,i,!0)},Fn.lowerCase=Ja,Fn.lowerFirst=Ya,Fn.lt=da,Fn.lte=ga,Fn.max=function(e){return e&&e.length?gr(e,au,Ar):n},Fn.maxBy=function(e,t){return e&&e.length?gr(e,ci(t,2),Ar):n},Fn.mean=function(e){return Wt(e,au)},Fn.meanBy=function(e,t){return Wt(e,ci(t,2))},Fn.min=function(e){return e&&e.length?gr(e,au,Mr):n},Fn.minBy=function(e,t){return e&&e.length?gr(e,ci(t,2),Mr):n},Fn.stubArray=_u,Fn.stubFalse=bu,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=Au,Fn.nth=function(e,t){return e&&e.length?$r(e,ma(t)):n},Fn.noConflict=function(){return ft._===this&&(ft._=Fe),this},Fn.noop=hu,Fn.now=Cs,Fn.pad=function(e,t,n){e=Ea(e);var r=(t=ma(t))?ln(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ho(vt(o),n)+e+Ho(gt(o),n)},Fn.padEnd=function(e,t,n){e=Ea(e);var r=(t=ma(t))?ln(e):0;return t&&r<t?e+Ho(t-r,n):e},Fn.padStart=function(e,t,n){e=Ea(e);var r=(t=ma(t))?ln(e):0;return t&&r<t?Ho(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Ea(e).replace(oe,""),t||0)},Fn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&bi(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ya(e),t===n?(t=e,e=0):t=ya(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=En();return _n(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Fn.reduce=function(e,t,n){var r=Ks(e)?Pt:Ht,o=arguments.length<3;return r(e,ci(t,4),n,o,hr)},Fn.reduceRight=function(e,t,n){var r=Ks(e)?Lt:Ht,o=arguments.length<3;return r(e,ci(t,4),n,o,pr)},Fn.repeat=function(e,t,r){return t=(r?bi(e,t,r):t===n)?1:ma(t),Jr(Ea(e),t)},Fn.replace=function(){var e=arguments,t=Ea(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(e,t,r){var o=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=n);++o<i;){var s=null==e?n:e[qi(t[o])];s===n&&(o=i,s=r),e=ta(s)?s.call(e):s}return e},Fn.round=Tu,Fn.runInContext=e,Fn.sample=function(e){return(Ks(e)?Xn:Xr)(e)},Fn.size=function(e){if(null==e)return 0;if(Ys(e))return fa(e)?ln(e):e.length;var t=gi(e);return t==S||t==x?e.size:Ur(e).length},Fn.snakeCase=Xa,Fn.some=function(e,t,r){var o=Ks(e)?jt:oo;return r&&bi(e,t,r)&&(t=n),o(e,ci(t,3))},Fn.sortedIndex=function(e,t){return io(e,t)},Fn.sortedIndexBy=function(e,t,n){return so(e,t,ci(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&Vs(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return io(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return so(e,t,ci(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if(Vs(e[n],t))return n}return-1},Fn.startCase=Za,Fn.startsWith=function(e,t,n){return e=Ea(e),n=null==n?0:ar(ma(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},Fn.subtract=xu,Fn.sum=function(e){return e&&e.length?Gt(e,au):0},Fn.sumBy=function(e,t){return e&&e.length?Gt(e,ci(t,2)):0},Fn.template=function(e,t,r){var o=Fn.templateSettings;r&&bi(e,t,r)&&(t=n),e=Ea(e),t=Ia({},t,o,Qo);var i,s,a=Ia({},t.imports,o.imports,Qo),u=ja(a),c=Yt(a,u),l=0,f=t.interpolate||be,h="__p += '",p=Te((t.escape||be).source+"|"+f.source+"|"+(f===Z?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),d="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,(function(t,n,r,o,a,u){return r||(r=o),h+=e.slice(l,u).replace(we,rn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var g=je.call(t,"variable")&&t.variable;if(g){if(le.test(g))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace($,""):h).replace(V,"$1").replace(H,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=nu((function(){return Oe(u,d+"return "+h).apply(n,c)}));if(v.source=h,ea(v))throw v;return v},Fn.times=function(e,t){if((e=ma(e))<1||e>h)return[];var n=d,r=_n(e,d);t=ci(t),e-=d;for(var o=zt(r,t);++n<e;)t(n);return o},Fn.toFinite=ya,Fn.toInteger=ma,Fn.toLength=_a,Fn.toLower=function(e){return Ea(e).toLowerCase()},Fn.toNumber=ba,Fn.toSafeInteger=function(e){return e?ar(ma(e),-9007199254740991,h):0===e?e:0},Fn.toString=Ea,Fn.toUpper=function(e){return Ea(e).toUpperCase()},Fn.trim=function(e,t,r){if((e=Ea(e))&&(r||t===n))return Kt(e);if(!e||!(t=co(t)))return e;var o=fn(e),i=fn(t);return Eo(o,Zt(o,i),Qt(o,i)+1).join("")},Fn.trimEnd=function(e,t,r){if((e=Ea(e))&&(r||t===n))return e.slice(0,hn(e)+1);if(!e||!(t=co(t)))return e;var o=fn(e);return Eo(o,0,Qt(o,fn(t))+1).join("")},Fn.trimStart=function(e,t,r){if((e=Ea(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=co(t)))return e;var o=fn(e);return Eo(o,Zt(o,fn(t))).join("")},Fn.truncate=function(e,t){var r=30,o="...";if(oa(t)){var i="separator"in t?t.separator:i;r="length"in t?ma(t.length):r,o="omission"in t?co(t.omission):o}var s=(e=Ea(e)).length;if(on(e)){var a=fn(e);s=a.length}if(r>=s)return e;var u=r-ln(o);if(u<1)return o;var c=a?Eo(a,0,u).join(""):e.slice(0,u);if(i===n)return c+o;if(a&&(u+=c.length-u),ca(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=Te(i.source,Ea(pe.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===n?u:h)}}else if(e.indexOf(co(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+o},Fn.unescape=function(e){return(e=Ea(e))&&K.test(e)?e.replace(G,pn):e},Fn.uniqueId=function(e){var t=++Ue;return Ea(e)+t},Fn.upperCase=Qa,Fn.upperFirst=eu,Fn.each=Es,Fn.eachRight=Ss,Fn.first=Yi,fu(Fn,(Iu={},br(Fn,(function(e,t){je.call(Fn.prototype,t)||(Iu[t]=e)})),Iu),{chain:!1}),Fn.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fn[e].placeholder=Fn})),It(["drop","take"],(function(e,t){Vn.prototype[e]=function(r){r=r===n?1:mn(ma(r),0);var o=this.__filtered__&&!t?new Vn(this):this.clone();return o.__filtered__?o.__takeCount__=_n(r,o.__takeCount__):o.__views__.push({size:_n(r,d),type:e+(o.__dir__<0?"Right":"")}),o},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(au)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Cr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Bs(ci(e)))},Vn.prototype.slice=function(e,t){e=ma(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Vn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ma(t))<0?r.dropRight(-t):r.take(t-e)),r)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(d)},br(Vn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=Fn[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);i&&(Fn.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,u=t instanceof Vn,c=a[0],l=u||Ks(t),f=function(e){var t=i.apply(Fn,kt([e],a));return o&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,g=u&&!p;if(!s&&l){t=g?t:new Vn(this);var v=e.apply(t,a);return v.__actions__.push({func:ys,args:[f],thisArg:n}),new $n(v,h)}return d&&g?e.apply(this,a):(v=this.thru(f),d?o?v.value()[0]:v.value():v)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ks(o)?o:[],e)}return this[n]((function(n){return t.apply(Ks(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=Fn[t];if(n){var r=n.name+"";je.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[qo(n,2).name]=[{name:"wrapper",func:n}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Co(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Co(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Co(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ks(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=_n(t,e+s);break;case"takeRight":e=mn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,p=_n(u,this.__takeCount__);if(!n||!r&&o==u&&p==u)return go(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var g=-1,v=e[c+=t];++g<f;){var y=l[g],m=y.iteratee,_=y.type,b=m(v);if(2==_)v=b;else if(!b){if(1==_)continue e;break e}}d[h++]=v}return d},Fn.prototype.at=ms,Fn.prototype.chain=function(){return vs(this)},Fn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===n&&(this.__values__=va(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var t,r=this;r instanceof Wn;){var o=$i(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ys,args:[os],thisArg:n}),new $n(t,this.__chain__)}return this.thru(os)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,et&&(Fn.prototype[et]=function(){return this}),Fn}();pt?((pt.exports=dn)._=dn,ht._=dn):ft._=dn}).call(ol)}(zE,zE.exports);
/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const KE="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,JE=e=>KE?Symbol(e):"_vr_"+e,YE=JE("rvlm"),XE=JE("rvd"),ZE=JE("r"),QE=JE("rl"),eS=JE("rvl"),tS="undefined"!=typeof window;const nS=Object.assign;function rS(e,t){const n={};for(const r in t){const o=t[r];n[r]=Array.isArray(o)?o.map(e):e(o)}return n}const oS=()=>{},iS=/\/$/;function sS(e,t,n="/"){let r,o={},i="",s="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,s=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],1!==s&&"."!==i){if(".."!==i)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function aS(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function uS(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cS(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!lS(e[n],t[n]))return!1;return!0}function lS(e,t){return Array.isArray(e)?fS(e,t):Array.isArray(t)?fS(t,e):e===t}function fS(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var hS,pS,dS,gS;function vS(e){if(!e)if(tS){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(iS,"")}(pS=hS||(hS={})).pop="pop",pS.push="push",(gS=dS||(dS={})).back="back",gS.forward="forward",gS.unknown="";const yS=/^[^#]+#/;function mS(e,t){return e.replace(yS,"#")+t}const _S=()=>({left:window.pageXOffset,top:window.pageYOffset});function bS(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function wS(e,t){return(history.state?history.state.position-t:-1)+e}const ES=new Map;function SS(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),aS(n,"")}return aS(n,e)+r+o}function OS(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?_S():null}}function IS(e){const{history:t,location:n}=window,r={value:SS(e,n)},o={value:t.state};function i(r,i,s){const a=e.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](i,"",u),o.value=i}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const s=nS({},o.value,t.state,{forward:e,scroll:_S()});i(s.current,s,!0),i(e,nS({},OS(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){i(e,nS({},t.state,OS(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function AS(e){const t=IS(e=vS(e)),n=function(e,t,n,r){let o=[],i=[],s=null;const a=({state:i})=>{const a=SS(e,location),u=n.value,c=t.value;let l=0;if(i){if(n.value=a,t.value=i,s&&s===u)return void(s=null);l=c?i.position-c.position:0}else r(a);o.forEach((e=>{e(n.value,u,{delta:l,type:hS.pop,direction:l?l>0?dS.forward:dS.back:dS.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(nS({},e.state,{scroll:_S()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=nS({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:mS.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function TS(e){return"string"==typeof e||"symbol"==typeof e}const xS={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NS=JE("nf");var CS,RS;function kS(e,t){return nS(new Error,{type:e,[NS]:!0},t)}function PS(e,t){return e instanceof Error&&NS in e&&(null==t||!!(e.type&t))}(RS=CS||(CS={}))[RS.aborted=4]="aborted",RS[RS.cancelled=8]="cancelled",RS[RS.duplicated=16]="duplicated";const LS={sensitive:!1,strict:!1,start:!0,end:!0},jS=/[.+*?^${}()[\]/\\]/g;function US(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function DS(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=US(r[n],o[n]);if(e)return e;n++}return o.length-r.length}const MS={type:0,value:""},BS=/[a-zA-Z0-9_]/;function FS(e,t,n){const r=function(e,t){const n=nS({},LS,t),r=[];let o=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let t=0;t<u.length;t++){const r=u[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(jS,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:l}=r;i.push({name:e,repeatable:n,optional:c});const f=l||"[^/]+?";if("[^/]+?"!==f){s+=10;try{new RegExp(`(${f})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${f}): `+a.message)}}let h=n?`((?:${f})(?:/(?:${f}))*)`:`(${f})`;t||(h=c&&u.length<2?`(?:/${h})`:"/"+h),c&&(h+="?"),o+=h,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===f&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,u=i in t?t[i]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[MS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a,u=0,c="",l="";function f(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;u<e.length;)if(a=e[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&f(),s()):":"===a?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===a?n=2:BS.test(a)?h():(f(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:f(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),o}(e.path),n),o=nS(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function qS(e,t){const n=[],r=new Map;function o(e,n,r){const a=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:WS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const c=HS(t,e),l=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)l.push(nS({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let f,h;for(const t of l){const{path:l}=t;if(n&&"/"!==l[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(f=FS(t,n,c),r?r.alias.push(f):(h=h||f,h!==f&&h.alias.push(f),a&&e.name&&!$S(f)&&i(e.name)),"children"in u){const e=u.children;for(let t=0;t<e.length;t++)o(e[t],f,r&&r.children[t])}r=r||f,s(f)}return h?()=>{i(h)}:oS}function i(e){if(TS(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<n.length&&DS(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!$S(e)&&r.set(e.record.name,e)}return t=HS({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,s,a={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw kS(1,{location:e});s=o.record.name,a=nS(function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=o.stringify(a)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(a=o.parse(i),s=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw kS(1,{location:e,currentLocation:t});s=o.record.name,a=nS({},t.params,e.params),i=o.stringify(a)}const u=[];let c=o;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:i,params:a,matched:u,meta:VS(u)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function WS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function $S(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function VS(e){return e.reduce(((e,t)=>nS(e,t.meta)),{})}function HS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const GS=/#/g,zS=/&/g,KS=/\//g,JS=/=/g,YS=/\?/g,XS=/\+/g,ZS=/%5B/g,QS=/%5D/g,eO=/%5E/g,tO=/%60/g,nO=/%7B/g,rO=/%7C/g,oO=/%7D/g,iO=/%20/g;function sO(e){return encodeURI(""+e).replace(rO,"|").replace(ZS,"[").replace(QS,"]")}function aO(e){return sO(e).replace(XS,"%2B").replace(iO,"+").replace(GS,"%23").replace(zS,"%26").replace(tO,"`").replace(nO,"{").replace(oO,"}").replace(eO,"^")}function uO(e){return null==e?"":function(e){return sO(e).replace(GS,"%23").replace(YS,"%3F")}(e).replace(KS,"%2F")}function cO(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function lO(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(XS," "),o=e.indexOf("="),i=cO(o<0?e:e.slice(0,o)),s=o<0?null:cO(e.slice(o+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function fO(e){let t="";for(let n in e){const r=e[n];if(n=aO(n).replace(JS,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&aO(e))):[r&&aO(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function hO(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function pO(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function dO(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,a)=>{const u=e=>{var u;!1===e?a(kS(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(u=e)||u&&"object"==typeof u?a(kS(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),s())},c=e.call(r&&r.instances[o],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch((e=>a(e)))}))}function gO(e,t,n,r){const o=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=a)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(a.__vccOpts||a)[t];i&&o.push(dO(i,n,r,s,e))}else{let i=a();o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(a=o).__esModule||KE&&"Module"===a[Symbol.toStringTag]?o.default:o;var a;s.components[e]=i;const u=(i.__vccOpts||i)[t];return u&&dO(u,n,r,s,e)()}))))}}var i;return o}function vO(e){const t=Vt(ZE),n=Vt(QE),r=Nt((()=>t.resolve(Et(e.to)))),o=Nt((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],i=n.matched;if(!o||!i.length)return-1;const s=i.findIndex(uS.bind(null,o));if(s>-1)return s;const a=mO(e[t-2]);return t>1&&mO(o)===a&&i[i.length-1].path!==a?i.findIndex(uS.bind(null,e[t-2])):s})),i=Nt((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),s=Nt((()=>o.value>-1&&o.value===n.matched.length-1&&cS(n.params,r.value.params)));return{route:r,href:Nt((()=>r.value.href)),isActive:i,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[Et(e.replace)?"replace":"push"](Et(e.to)).catch(oS):Promise.resolve()}}}const yO=en({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vO,setup(e,{slots:t}){const n=st(vO(e)),{options:r}=Vt(ZE),o=Nt((()=>({[_O(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_O(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:Bo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}});function mO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _O=(e,t,n)=>null!=e?e:null!=t?t:n;function bO(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const wO=en({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Vt(eS),o=Nt((()=>e.route||r.value)),i=Vt(XE,0),s=Nt((()=>o.value.matched[i]));$t(XE,i+1),$t(YE,s),$t(eS,o);const a=_t();return Lo((()=>[a.value,s.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&uS(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=s.value,u=i&&i.components[e.name],c=e.name;if(!u)return bO(n.default,{Component:u,route:r});const l=i.props[e.name],f=l?!0===l?r.params:"function"==typeof l?l(r):l:null,h=Bo(u,nS({},f,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[c]=null)},ref:a}));return bO(n.default,{Component:h,route:r})||h}}});function EO(e){const t=qS(e.routes,e),n=e.parseQuery||lO,r=e.stringifyQuery||fO,o=e.history,i=pO(),s=pO(),a=pO(),u=bt(xS,!0);let c=xS;tS&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=rS.bind(null,(e=>""+e)),f=rS.bind(null,uO),h=rS.bind(null,cO);function p(e,i){if(i=nS({},i||u.value),"string"==typeof e){const r=sS(n,e,i.path),s=t.resolve({path:r.path},i),a=o.createHref(r.fullPath);return nS(r,s,{params:h(s.params),hash:cO(r.hash),redirectedFrom:void 0,href:a})}let s;if("path"in e)s=nS({},e,{path:sS(n,e.path,i.path).path});else{const t=nS({},e.params);for(const e in t)null==t[e]&&delete t[e];s=nS({},e,{params:f(e.params)}),i.params=f(i.params)}const a=t.resolve(s,i),c=e.hash||"";a.params=l(h(a.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,nS({},e,{hash:(d=c,sO(d).replace(nO,"{").replace(oO,"}").replace(eO,"^")),path:a.path}));var d;const g=o.createHref(p);return nS({fullPath:p,hash:c,query:r===fO?hO(e.query):e.query||{}},a,{redirectedFrom:void 0,href:g})}function d(e){return"string"==typeof e?sS(n,e,u.value.path):nS({},e)}function g(e,t){if(c!==e)return kS(8,{from:t,to:e})}function v(e){return m(e)}function y(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=d(r):{path:r},r.params={}),nS({query:e.query,hash:e.hash,params:e.params},r)}}function m(e,t){const n=c=p(e),o=u.value,i=e.state,s=e.force,a=!0===e.replace,l=y(n);if(l)return m(nS(d(l),{state:i,force:s,replace:a}),t||n);const f=n;let h;return f.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&uS(t.matched[r],n.matched[o])&&cS(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(h=kS(16,{to:f,from:o}),C(o,o,!0,!1)),(h?Promise.resolve(h):b(f,o)).catch((e=>PS(e)?e:x(e,f,o))).then((e=>{if(e){if(PS(e,2))return m(nS(d(e.to),{state:i,force:s,replace:a}),t||f)}else e=E(f,o,!0,a,i);return w(f,o,e),e}))}function _(e,t){const n=g(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e,t){let n;const[r,o,a]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>uS(e,i)))?r.push(i):n.push(i));const a=e.matched[s];a&&(t.matched.find((e=>uS(e,a)))||o.push(a))}return[n,r,o]}(e,t);n=gO(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push(dO(r,e,t))}));const u=_.bind(null,e,t);return n.push(u),SO(n).then((()=>{n=[];for(const r of i.list())n.push(dO(r,e,t));return n.push(u),SO(n)})).then((()=>{n=gO(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(dO(r,e,t))}));return n.push(u),SO(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const o of r.beforeEnter)n.push(dO(o,e,t));else n.push(dO(r.beforeEnter,e,t));return n.push(u),SO(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=gO(a,"beforeRouteEnter",e,t),n.push(u),SO(n)))).then((()=>{n=[];for(const r of s.list())n.push(dO(r,e,t));return n.push(u),SO(n)})).catch((e=>PS(e,8)?e:Promise.reject(e)))}function w(e,t,n){for(const r of a.list())r(e,t,n)}function E(e,t,n,r,i){const s=g(e,t);if(s)return s;const a=t===xS,c=tS?history.state:{};n&&(r||a?o.replace(e.fullPath,nS({scroll:a&&c&&c.scroll},i)):o.push(e.fullPath,i)),u.value=e,C(e,t,n,a),N()}let S;function O(){S=o.listen(((e,t,n)=>{const r=p(e),i=y(r);if(i)return void m(nS(i,{replace:!0}),r).catch(oS);c=r;const s=u.value;tS&&function(e,t){ES.set(e,t)}(wS(s.fullPath,n.delta),_S()),b(r,s).catch((e=>PS(e,12)?e:PS(e,2)?(m(e.to,r).then((e=>{PS(e,20)&&!n.delta&&n.type===hS.pop&&o.go(-1,!1)})).catch(oS),Promise.reject()):(n.delta&&o.go(-n.delta,!1),x(e,r,s)))).then((e=>{(e=e||E(r,s,!1))&&(n.delta?o.go(-n.delta,!1):n.type===hS.pop&&PS(e,20)&&o.go(-1,!1)),w(r,s,e)})).catch(oS)}))}let I,A=pO(),T=pO();function x(e,t,n){N(e);const r=T.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function N(e){I||(I=!0,O(),A.list().forEach((([t,n])=>e?n(e):t())),A.reset())}function C(t,n,r,o){const{scrollBehavior:i}=e;if(!tS||!i)return Promise.resolve();const s=!r&&function(e){const t=ES.get(e);return ES.delete(e),t}(wS(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return Oo().then((()=>i(t,n,s))).then((e=>e&&bS(e))).catch((e=>x(e,t,n)))}const R=e=>o.go(e);let k;const P=new Set,L={currentRoute:u,addRoute:function(e,n){let r,o;return TS(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:v,replace:function(e){return v(nS(d(e),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:T.add,isReady:function(){return I&&u.value!==xS?Promise.resolve():new Promise(((e,t)=>{A.add([e,t])}))},install(e){e.component("RouterLink",yO),e.component("RouterView",wO),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Et(u)}),tS&&!k&&u.value===xS&&(k=!0,v(o.location).catch((e=>{})));const t={};for(const r in xS)t[r]=Nt((()=>u.value[r]));e.provide(ZE,this),e.provide(QE,st(t)),e.provide(eS,u);const n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(c=xS,S&&S(),u.value=xS,k=!1,I=!1),n()}}};return L}function SO(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function OO(){return Vt(ZE)}function IO(){return Vt(QE)}var AO={},TO=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),xO=new RegExp("%[a-f0-9]{2}","gi"),NO=new RegExp("(%[a-f0-9]{2})+","gi");function CO(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],CO(n),CO(r))}function RO(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(xO),n=1;n<t.length;n++)t=(e=CO(t,n).join("")).match(xO);return e}}var kO=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"��","%FF%FE":"��"},r=NO.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var o=RO(r[0]);o!==r[0]&&(n[r[0]]=o)}r=NO.exec(e)}n["%C2"]="�";for(var i=Object.keys(n),s=0;s<i.length;s++){var a=i[s];e=e.replace(new RegExp(a,"g"),n[a])}return e}(e)}},PO=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},LO=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var s=r[i],a=e[s];(o?-1!==t.indexOf(s):t(s,a,e))&&(n[s]=a)}return n};!function(e){const t=TO,n=kO,r=PO,o=LO,i=Symbol("encodeFragmentIdentifier");function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function u(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&u(n,e).includes(e.arrayFormatSeparator);n=i?u(n,e):n;const s=o||i?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=s};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?u(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>u(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){if(""===i)continue;let[e,s]=r(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:u(s,t),n(u(e,t),s,o)}for(const r of Object.keys(o)){const e=o[r];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=h(e[n],t);else o[r]=h(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}e.extract=f,e.parse=p,e.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[",o,"]"].join("")]:[...n,[a(t,e),"[",a(o,e),"]=",a(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[]"].join("")]:[...n,[a(t,e),"[]=",a(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[a(n,e),t,a(o,e)].join("")]:[[r,a(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,a(t,e)]:[...n,[a(t,e),"=",a(r,e)].join("")]}}(t),o={};for(const s of Object.keys(e))n(s)||(o[s]=e[s]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const o=e[n];return void 0===o?"":null===o?a(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?a(n,t)+"[]":o.reduce(r(n),[]).join("&"):a(n,t)+"="+a(o,t)})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,o]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(f(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:u(o,t)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0,[i]:!0},n);const r=l(t.url).split("?")[0]||"",o=e.extract(t.url),s=e.parse(o,{sort:!1}),u=Object.assign(s,t.query);let c=e.stringify(u,n);c&&(c=`?${c}`);let f=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(f=`#${n[i]?a(t.fragmentIdentifier,n):t.fragmentIdentifier}`),`${r}${c}${f}`},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[i]:!1},r);const{url:s,query:a,fragmentIdentifier:u}=e.parseUrl(t,r);return e.stringifyUrl({url:s,query:o(a,n),fragmentIdentifier:u},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return e.pick(t,o,r)}}(AO);export{Nc as $,Dt as A,Pr as B,Nt as C,st as D,Jn as E,vr as F,vi as G,xu as H,u as I,Nu as J,on as K,Ec as L,iu as M,Ic as N,an as O,AO as P,Lo as Q,ko as R,Iu as S,Ya as T,mt as U,cc as V,$t as W,IO as X,mc as Y,yc as Z,wa as _,GE as a,ja as a0,ra as a1,Oa as a2,EO as a3,AS as a4,tl as a5,nu as a6,p as a7,jr as a8,Vr as a9,h as aa,pt as ab,Zr as ac,Gu as ad,zu as ae,Du as af,ec as ag,bi as ah,Mu as ai,il as aj,ol as ak,zE as b,Kh as c,en as d,Tr as e,pr as f,_t as g,vn as h,OO as i,cl as j,Ar as k,ll as l,Et as m,Oo as n,Er as o,$r as p,Lr as q,fr as r,pu as s,It as t,Lc as u,Mr as v,Mt as w,Dr as x,d as y,Ut as z};
//# sourceMappingURL=vendor.440fc3b7.js.map
